window.__require=function e(t,i,o){function n(a,r){if(!i[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var d="function"==typeof __require&&__require;if(!r&&d)return d(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}}var l=i[a]={exports:{}};t[a][0].call(l.exports,function(e){return n(t[a][1][e]||e)},l,l.exports,e,t,i,o)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)n(o[a]);return n}({AcceleratorBreakerTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"857b7g7d+BPfI+72pAJz/nZ","AcceleratorBreakerTrigger");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{speedLimit:{default:500,tooltip:"\u901f\u5ea6\u9650\u5236"}},onGameRestart:function(){cc.$context.acceleratorBreaker=void 0,this.running=!0,this.roleEnter=!1,this.rollroad&&this.rollroad.getComponent(cc.Animation).play("RollRoad")},start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.slowDown=!1,this.rollroad=this.node.getChildByName("rollroad"),this.running=!0,this.roleEnter=!1,this.rollroad.getComponent(cc.Animation).play("RollRoad"),this.hasEnterParts=[])},update:function(e){this.roleEnter&&this.running&&o.motorCtrl.pushBack(this.node.angle),this.slowDown&&(cc.$context.motorCtrl.curSpeed>500?cc.$context.motorCtrl.slowDown(.9):this.slowDown=!1)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&(this._init(),this.hasEnterParts.contains(i)||this.hasEnterParts.push(i),this.roleEnter=!0,this.running&&!cc.$context.acceleratorBreaker&&(cc.$context.acceleratorBreaker=this,this.slowDown=!0))},onEndContact:function(e,t,i){this._init(),this.hasEnterParts.remove(i),this.roleEnter=this.hasEnterParts.length>0,this.roleEnter||(cc.$context.acceleratorBreaker=void 0,this.slowDown=!1)},execute:function(){this.running=!1,cc.$context.acceleratorBreaker=void 0,this.rollroad.getComponent(cc.Animation).stop("RollRoad")},resize:function(e,t){o.resize(this.node,e,t)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],AcceleratorTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"1d5030aZGxKDZVIWqTcm+aS","AcceleratorTrigger");var o=e("Context"),n=cc.Class({extends:cc.Component,properties:{speedUpRatio:{default:.3,tooltip:"\u52a0\u901f\u6bd4\u4f8b,0~1\u4e4b\u95f4"},stay:{default:!1,tooltip:"\u79bb\u5f00\u52a0\u901f\u533a\u540e\u662f\u5426\u4fdd\u6301\u52a0\u901f\u65b9\u5411"},stayTime:{default:0,tooltip:"\u79bb\u5f00\u52a0\u901f\u533a\u540e\u4fdd\u6301\u52a0\u901f\u65b9\u5411\u7684\u65f6\u95f4\u3002\u5982\u679cstay\u53c2\u6570\u4e3afalse\uff0cstayTime\u53c2\u6570\u65e0\u6548\u3002"},autoFixAngle:{default:!1,tooltip:"\u662f\u5426\u81ea\u52a8\u8c03\u6574\u89d2\u5ea6\uff0c\u4f7f\u4e4b\u671d\u5411\u52a0\u901f\u65b9\u5411\u3002"}},onBeginContact:function(e,t,i){"acceleratorsuper"===this.node.name&&o.audio.playMotorSkid(),n.onCollisionEnter(i,t)},onEndContact:function(e,t,i){n.onCollisionExit(i,t)}});n.accelerators=[],n.getMaxSpeedUpRatio=function(){for(var e=0,t=void 0,i=n.accelerators.length-1;i>=0;i--)t=n.accelerators[i],e=Math.max(e,t.getComponent(n).speedUpRatio);return e},n.onCollisionEnter=function(e,t){if("BackWheel"===e.node.name){var i=t.node;n.accelerators.contains(i)||(n.accelerators.push(i),cc.game.emit("TriggerAcceleratorStart",i),"acceleratorsuper"===t.node.name&&cc.$context.motorCtrl.aniCtrl.enterAcceleratorSuper())}},n.onCollisionExit=function(e,t){if("BackWheel"===e.node.name){var i=t.node;n.accelerators.contains(i)&&(n.accelerators.remove(i),"acceleratorsuper"===i.name&&cc.$context.motorCtrl.aniCtrl.exitAcceleratorSuper(),delete i.getComponent(n).$stayTime,n.accelerators.isEmpty()?cc.game.emit("TriggerAcceleratorEnd"):cc.game.emit("TriggerAcceleratorStart",n.accelerators.last()))}},cc._RF.pop()},{Context:"Context"}],AdItemCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"5b6bchse4hJKIMEATG6VABt","AdItemCtrl");e("MotorCtrl");cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},click:function(){cc.$context.sdk.jumpToOtherGame(this.data)}}),cc._RF.pop()},{MotorCtrl:"MotorCtrl"}],AudioCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"93c12LIaZlLUIffiGs7pl8k","AudioCtrl");var o=e("Context"),n=cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.AudioClip,tooltip:"\u80cc\u666f\u5f15\u64ce\u4f4e\u9e23\u97f3\u6548"},startEngine:{default:null,type:cc.AudioClip,tooltip:"\u542f\u52a8\u5f15\u64ce\u97f3\u6548"},bikeRun:{default:[],type:[cc.AudioClip],tooltip:"\u52a0\u901f\u97f3\u6548"},btnClick:{default:null,type:cc.AudioClip,tooltip:"\u901a\u7528\u6309\u94ae\u97f3\u6548"},btnBackClick:{default:null,type:cc.AudioClip,tooltip:"\u8fd4\u56de\u6309\u94ae\u97f3\u6548"},explosion:{default:null,type:cc.AudioClip,tooltip:"\u7206\u70b8\u97f3\u6548"},crash:{default:null,type:cc.AudioClip,tooltip:"\u8f66\u4f53\u6563\u67b6"},switchLever:{default:null,type:cc.AudioClip,tooltip:"\u89e6\u53d1\u5f00\u5173"},motorSkid:{default:null,type:cc.AudioClip,tooltip:"\u8fdb\u5165\u52a0\u901f\u533a"},save:{default:null,type:cc.AudioClip,tooltip:"\u8fdb\u5ea6\u4fdd\u5b58\uff1f\u7eff\u706f\u6746"},breakCrate:{type:[cc.AudioClip],default:[],tooltip:"\u6728\u7bb1\u7206\u88c2\u97f3\u6548"},driver:{type:[cc.AudioClip],default:[],tooltip:"\u9a91\u624b\u6b22\u547c"},checkpoint:{default:null,type:cc.AudioClip,tooltip:"\u666e\u901a\u88c5\u903c\u52a8\u4f5c\u97f3\u6548"},slowMotion:{type:[cc.AudioClip],default:[],tooltip:"\u6162\u52a8\u4f5c\u88c5\u903c\u97f3\u6548"},waterSplash:{type:[cc.AudioClip],default:[],tooltip:"\u843d\u6c34\u97f3\u6548"},finalLose:{type:cc.AudioClip,default:null,tooltip:"\u7ec8\u70b9\u5931\u8d25\u97f3\u6548"},finalWin:{type:cc.AudioClip,default:null,tooltip:"\u7ec8\u70b9\u6210\u529f\u97f3\u6548"}},onLoad:function(){o.audio=this,cc.$audio=this,cc.game.on("GameStart",this._onGameStart,this),cc.game.on("SpeedUp",this.playSpeedUp,this),cc.game.on("Save",this.playSave,this)},_onGameStart:function(){this.playBg(),this._play(this.startEngine)},playSpeedUp:function(){this._randomPlay(this.bikeRun)},start:function(){},playBg:function(){this.currentBg=cc.audioEngine.playMusic(this.bg,!0)},playBgm:function(e){this.lastBgm=e,this.lastBgm=cc.audioEngine.playMusic(e,!0)},resumeBgm:function(){},stopBgm:function(){},playBtnClick:function(){this._play(this.btnClick)},playBtnBackClick:function(){this._play(this.btnBackClick)},playExplosion:function(){this._play(this.explosion)},playCrash:function(){this._play(this.crash)},playSwitchLever:function(){this._play(this.switchLever)},playMotorSkid:function(){this._play(this.motorSkid)},playBreakCrate:function(){this._randomPlay(this.breakCrate)},playSave:function(){cc.audioEngine.playEffect(this.save)},playDriver:function(){this._randomPlay(this.driver)},playCheckPoint:function(){this._play(this.checkpoint)},playSlowMotion:function(){this._randomPlay(this.slowMotion)},playFinalWin:function(){this._play(this.finalWin)},playFinalLose:function(){this._play(this.finalLose)},playWaterSplash:function(){this._randomPlay(this.waterSplash)},_play:function(e){this.currentEffect=cc.audioEngine.playEffect(e)},_randomPlay:function(e){var t=e[Math.floor(Math.random()*e.length)];this.currentEffect=cc.audioEngine.playEffect(t)}});t.exports=n,cc._RF.pop()},{Context:"Context"}],BackgroundShader:[function(e,t,i){"use strict";cc._RF.push(t,"88dee13cCFOvJ1Bu9xbzPpf","BackgroundShader"),cc.Class({extends:cc.Component,properties:{maskTex:{type:cc.SpriteFrame,default:null},material:cc.Material},onLoad:function(){},start:function(){this.sprite=this.node.getComponent(cc.Sprite),this.sprite.setMaterial(0,this.material),this._update(),this.material.texture1=this.maskTex.getTexture()},_update:function(){var e=this.sprite.spriteFrame,t=e.getTexture();t===this._shaderTexture&&e.getRect().equals(this._shaderFrame.getRect())||(this._shaderTexture=t,this._shaderFrame=e,this.sprite.getMaterial(0).setProperty("texture1",this.maskTex.getTexture()))}}),cc._RF.pop()},{}],BeamTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"ff84etMXU5Igps4IC4uQe2d","BeamTrigger"),cc.Class({extends:cc.Component,start:function(){this.$needFixPos=!0,this._init()},_init:function(){if(!this._hasInit){this._hasInit=!0,cc.game.on("GameRestart",this.onGameRestart,this);var e=this.node.getChildByName("base");this.initBaseAngle=e.angle}},onGameRestart:function(){var e=this.node.getChildByName("base");e.angle=this.initBaseAngle,e.getComponent(cc.RigidBody).resetVelocity()},onEnable:function(){this._init(),this._setPos()},_setPos:function(){this.node.x!==this.node.$x&&(this.node.x=this.node.$x),this.node.y!==this.node.$y&&(this.node.y=this.node.$y);var e=this.node.getChildByName("base");0!==e.x&&(e.x=0),0!==e.y&&(e.y=0);var t=this.node.getChildByName("gear");0!==t.x&&(t.x=0),0!==t.y&&(t.y=0),e.getComponent(cc.Joint).apply()},onDestroy:function(){cc.game.off("GameRestart",this.onGameRestart,this)},resize:function(e,t){this.node.width=e;var i=this.node.getChildByName("base");i.width=e/i.scaleX;var o=i.getComponent(cc.PhysicsBoxCollider);o.size.width=e/i.scaleX,o.apply()}}),cc._RF.pop()},{}],BodyColliderCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"5efe1hdBXJGX7gFmMYvY70X","BodyColliderCtrl"),cc.Class({extends:cc.Component,properties:{colliderGroups:{type:[cc.String],default:[],tooltip:"\u4e0e\u54ea\u4e9bgroup\u78b0\u649e\u4f1a\u5bfc\u81f4\u6b7b\u4ea1"}},start:function(){this.sprite4ing=!1,cc.game.on("Sprite4Begin",this.onSprite4Begin,this),cc.game.on("Sprite4End",this.onSprite4End,this),cc.game.on("GameRestart",this.onSprite4End,this)},onSprite4Begin:function(){this.sprite4ing=!0},onSprite4End:function(){this.sprite4ing=!1},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&!this.sprite4ing&&this.colliderGroups.contains(i.node.group)&&cc.$game.startTime&&Date.now()-cc.$game.startTime>100&&cc.game.delayEmit(.01,"RoleDead")}}),cc._RF.pop()},{}],BoxTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"b9285Np3c5KXZTUQ06Hou4d","BoxTrigger");var o=e("ParticleSystemColliderBox"),n=e("AudioCtrl");cc.Class({extends:cc.Component,properties:{audio:{type:n,default:null}},start:function(){this.hasTrigger=!1,this.part=this.node.getComponent(o),cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger=!1;var e=this.node.getComponent(cc.Sprite);e.$spriteFrame&&(e.spriteFrame=e.$spriteFrame,delete e.$spriteFrame)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&this._onTrigger()},_onTrigger:function(e,t,i){if(!this.hasTrigger){this.hasTrigger=!0,this.other=i;var o=this.node.getComponent(cc.Sprite);o.$spriteFrame=o.spriteFrame,o.spriteFrame=null,this.part.play(this.other),this.audio.playBreakCrate(),cc.game.emit("TriggerBox")}},onDestroy:function(){cc.game.off("GameRestart",this.onGameRestart,this)}}),cc._RF.pop()},{AudioCtrl:"AudioCtrl",ParticleSystemColliderBox:"ParticleSystemColliderBox"}],BtnKeyCtr:[function(e,t,i){"use strict";cc._RF.push(t,"9e16eXxMsBED5hE3p64QWXn","BtnKeyCtr");var o=e("MotorCtrl");cc.Class({extends:cc.Component,properties:{motorCtrl:{type:o,default:null},keyCode:{default:0,tooltip:"\u5bf9\u5e94\u7684\u6309\u952e\u503c"}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onPress,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onRelease,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onRelease,this),cc.game.on("GameRestart",this.onGameRestart,this)},onPress:function(){this.motorCtrl.pressKey(this.keyCode)},onRelease:function(){this.motorCtrl.releaseKey(this.keyCode)},onGameRestart:function(){this.node.getComponent(cc.Button).interactable=!0},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onPress,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onRelease,this)}}),cc._RF.pop()},{MotorCtrl:"MotorCtrl"}],CameraCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"592ccEl/bdPE6xZzJ578kpg","CameraCtrl");var o=e("MotorCtrl");cc.Class({extends:cc.Component,properties:{motor:{type:cc.Node,default:null},bodyPiece:{type:cc.Node,default:null},zoomSpeed:{default:.1,tooltip:"\u955c\u5934\u7f29\u653e\u6700\u5927\u901f\u7387"}},start:function(){this.lvBoundary=[{},{bottom:0},{bottom:700},{bottom:500},{bottom:0},{bottom:0},{bottom:500},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:-300},{bottom:0},{bottom:0},{bottom:0},{bottom:0},{bottom:750}],this.isGameOver=!1,this.pos=new cc.Vec2,this.targetZoom=.8,this.triggerZoomScale=1,this.camera=this.node.getComponent(cc.Camera),this.followTarget=this.motor,this.motorCtrl=this.motor.getComponent(o),cc.game.on("GameStart",this.onGameStart,this),cc.game.on("GameRestart",this.onGameRestart,this),cc.game.on("GameOver",this.onGameOver,this),cc.game.on("TriggerZoomStart",this.onTriggerZoomStart,this),cc.game.on("TriggerZoomEnd",this.onTriggerZoomEnd,this)},onGameStart:function(){this.isGameOver=!1,this.camera.zoomRatio=this.targetZoom=.8,this.followTarget=this.motor},onGameRestart:function(){this.isGameOver=!1,this.camera.zoomRatio=this.targetZoom=.8,this.followTarget=this.motor},onGameOver:function(){this.isGameOver=!0,this.followTarget=this.bodyPiece},update:function(e){if("menu"!==cc.$game.state&&cc.$game.level){var t=1;if(!this.isGameOver){if(this.motorCtrl.curSpeed>30)t=1/(1+(Math.min(this.motorCtrl.curSpeed,500)-30)/470);t=Math.min(t,this.triggerZoomScale)}this.targetZoom=.8*t,this._zoom(e);var i=cc.winSize;cc.$context.getWorldPosition(this.followTarget,this.pos,3),this.node.x=this.pos.x-i.width/2,this.node.y=this.pos.y-i.height/2;var o=this.node.y-i.height/2/this.camera.zoomRatio,n=this.lvBoundary[cc.$game.level].bottom-o;n>0&&(this.node.y+=n),cc.game.emit("Camera",this)}},getTargetPos:function(e){cc.$context.getWorldPosition(this.followTarget,e,3)},_zoom:function(e){Math.abs(this.camera.zoomRatio-this.targetZoom)<this.zoomSpeed/20||(this.camera.zoomRatio<this.targetZoom?this.camera.zoomRatio+=this.zoomSpeed*e:this.camera.zoomRatio-=this.zoomSpeed*e)},onTriggerZoomEnd:function(){this.triggerZoomScale=1},onTriggerZoomStart:function(e){this.triggerZoomScale=e||.3},printParent:function(){for(var e=this.followTarget.parent,t=1;e;)console.log(t++,e.name,e.x,e.y),e=e.parent}}),cc._RF.pop()},{MotorCtrl:"MotorCtrl"}],CameraTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"306fc3K39VJ/qIWxZ3XDWxY","CameraTrigger"),cc.Class({extends:cc.Component,properties:{scale:{default:.3,tooltip:"\u7f29\u653e\u6bd4\u4f8b"}},onBeginContact:function(e,t,i){cc.game.emit("TriggerZoomStart",this.scale)},onEndContact:function(e,t,i){cc.game.emit("TriggerZoomEnd")}}),cc._RF.pop()},{}],ChainCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"5d0d1w99+xP6oODhG2/7rYD","ChainCtrl"),cc.Class({extends:cc.Component,start:function(){this.$needFixPos=!0},onEnable:function(){this._setPos()},_setPos:function(){this.node.x!==this.node.$x&&(this.node.x=this.node.$x),this.node.y!==this.node.$y&&(this.node.y=this.node.$y);for(var e=this.node.children,t=void 0,i=0;i<e.length;i++){var o=e[i];(t=o.getComponent(cc.RigidBody)).resetVelocity(),t.angularVelocity=0;var n=180*i;o.x!==n&&(o.x=n),0!==o.y&&(o.y=0),0!==o.angle&&(o.angle=0);for(var s=o.getComponents(cc.Joint),a=0;a<s.length;a++)s[a].apply()}}}),cc._RF.pop()},{}],Context:[function(e,t,i){"use strict";cc._RF.push(t,"8c168cyDe9Gdahha1cGnkBT","Context");e("Executor");var o=cc.Class({extends:cc.Component,properties:{debugLabel:{type:cc.Label,default:null,tooltip:"\u6253\u5370\u663e\u793a\u5230\u4e3b\u5c4f\u5e55\u4e0a"}},onLoad:function(){window.onerror=function(e){cc.$context.print("==>>onerror"+e)},cc.$context.debugLabel=this.debugLabel,o.clientRatio=cc.view.getFrameSize().height/640,o.clientLogicHeight=640,o.clientLogicWidth=cc.view.getFrameSize().width/o.clientRatio;var e=this;cc.game.delayEmit=function(t,i,o,n,s,a,r){cc.director.getScheduler().schedule(function(){cc.game.emit(i,o,n,s,a,r)},e,t,0,0,!1)};this.stringsPool={};String.prototype.startWith=function(e){return this.startsWith(e)},String.prototype.endWith=function(e){return this.endsWith(e)},String.prototype.replaceAll=function(e,t){return this.split(e).join(t)},String.prototype.contains=function(e){return-1!==this.indexOf(e)},Array.prototype.pushAll=function(e){e&&(e instanceof Array?this.push.apply(this,e):console.error("\u53c2\u6570items\u5fc5\u987b\u4e3a\u6570\u7ec4\u7c7b\u578b"))},Array.prototype.indexOfNoLessThan=function(e){if(!this.length)return 0;for(var t=0,i=this.length-1,o=void 0,n=void 0;t<i-1;){if((n=this[o=Math.floor((t+i)/2)])===e)return o;n<e?t=o:i=o}return e<=this[t]?t:e<=this[i]?i:i+1},Array.prototype.insert=function(e,t){this.splice(e,0,t)},Array.prototype.remove=function(e){for(var t=this.length-1;t>=0;t--)this[t]===e&&this.splice(t,1)},Array.prototype.removeAt=function(e){var t=this[e];return this.splice(e,1),t},Array.prototype.removeAll=function(){this.length=0},Array.prototype.contains=function(e){return-1!==this.indexOf(e)},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.isEmpty=function(){return 0===this.length}},aldClickEvent:function(e,t){var i=cc.$context.getTopViewExportName("");t.contains("#")&&(i=t.split("#")[1],t=t.split("#")[0]),cc.$sdk.aldClickEvent(t,i)}});cc.$context=o,o.setActive=function(e,t){if(e)if(e.$active=t,"groundhinge"===e.name||"chain"===e.name||"sinstick"===e.name||e.name.startWith("halfcircle")||e.name.startWith("lift2")){e.opacity=t?255:0;for(var i=e.getComponents(cc.Component),o=void 0,n=0;n<i.length;n++)(o=i[n])&&o.$needFixPos&&o.onEnable&&o.onEnable()}else if(e.name.contains("@")){if(e.$running||e.$hide)return;e.active=t}else if(t){if(e.parent||!e.$parent)return;e.$parent.addChild(e),delete e.$parent,void 0!==e.$x&&e.x!==e.$x&&(e.x=e.$x),void 0!==e.$y&&e.y!==e.$y&&(e.y=e.$y),void 0!==e.$angle&&e.angle!==e.$angle&&(e.angle=e.$angle),void 0!==e.$width&&e.width!==e.$width&&(e.width=e.$width),void 0!==e.$height&&e.height!==e.$height&&(e.height=e.$height)}else{if(!e.parent)return;e.$parent=e.parent,e.removeFromParent()}},o.setVisible=function(e,t){if(e){if(t){if(e.parent||!e.$parent)return;e.$parent.addChild(e),delete e.$parent,e.active||(e.active=!0)}else{if(!e.parent)return;e.$parent=e.parent,e.removeFromParent()}o.setCollider(e,t)}},o.setColliderEnabled=function(e,t){e.$colliderEnabled=t;for(var i=e.getComponents(cc.Collider),o=void 0,n=0;n<i.length;n++)(o=i[n]).enabled!==t&&(o.enabled=t)},o.setCollider=function(e,t){if(t){var i=e.getComponent(cc.RigidBody);i&&(i.type=i.$type)}else{var n=e.getComponent(cc.RigidBody);n&&(n.$type=n.type,n.type=cc.RigidBodyType.Static)}for(var s=e.children,a=0;a<s.length;a++)o.setCollider(s[a],t)},o.getAngleByVector=function(e){var t=e.x,i=e.y;if(0===i)return t<0?270:t>0?90:0;if(0===t)return i>=0?0:180;var o=Math.abs(i)/Math.abs(t),n=0,s=180*Math.atan(o)/Math.PI;return i>0&&t<0?n=270+s:i>0&&t>0?n=90-s:i<0&&t<0?n=270-s:i<0&&t>0&&(n=90+s),n},o.getCcAngleByVector=function(e){var t=e.x,i=e.y;if(0===i)return t<0?180:t>0?0:270;if(0===t)return i>=0?90:270;var o=Math.abs(i)/Math.abs(t),n=0,s=180*Math.atan(o)/Math.PI;return i>0&&t<0?n=180-s:i>0&&t>0?n=s:i<0&&t<0?n=180+s:i<0&&t>0&&(n=-s),n},o.getLength=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.normalize=function(e){var t=o.getLength(e);return e.x/=t,e.y/=t,e},o.motorChildrenName=["Base","BackWheel","FrontWheel","FrontSpring","BackSpring","FrontSpring2","BackSpring2","BackSpring3","Obtekatel"],o.motoRelivePos=new cc.Vec2,o.formatAngle=function(e){for(;e<0;)e+=360;for(;e>360;)e-=360;return e},o.getAngleDiff=function(e,t){for(var i=e-t;i<-180;)i+=360;for(;i>180;)i-=360;return i},o.angleToDegree=function(e){return e*Math.PI/180},o.prefabMap=o.prefabMap||{},o.getNodeInScene=function(e){for(var t=cc.director.getScene().getChildByName("Canvas"),i=1;i<=4;i++){var o=t.getChildByName("layer"+i).getChildByName(e);if(o)return o}},o.resize=function(e,t,i){t/=Math.abs(e.scaleX),i/=Math.abs(e.scaleY),e.width=t,e.height=i;var o=e.getComponent(cc.PhysicsBoxCollider);o&&(o.size.width=t,o.size.height=i,o.offset.x=(.5-e.anchorX)*e.width,o.offset.y=(.5-e.anchorY)*e.height,o.apply())},o.getSpecialSpeedupRatio=function(){return o.specialSpeedupRatio&&o.lastCollider&&o.lastCollider.node&&"halfcircle"===o.lastCollider.node.name?o.specialSpeedupRatio:1},o.getCenterX=function(e){return o.clientLogicWidth/2+e},o.getTopViewExportName=function(e){void 0!==e&&null!==e||(e="");for(var t=cc.director.getScene().getChildByName("Canvas").getChildByName("LayerUI").children,i=void 0,o=t.length-1;o>=0;o--)if((i=t[o]).active)switch(i.name){case"ViewVideoGame":return"\u89c6\u9891"+e;case"ViewMoreGame":return"\u70b9\u51fb\u5f3a\u5236\u8fd4\u56de"==cc.$MoreGame.lastclick?"\u76d2\u5b50\u9875\u5f3a\u5236"+e:"\u76d2\u5b50\u9875"+e;case"viewCoinLayer":return"\u91d1\u5e01\u9886\u53d6"+e;case"ViewContinue":return"\u6700\u4f73\u8bb0\u5f55\u9875"+e;case"ViewLose":return"\u5931\u8d25\u9875"+e;case"ViewWin":return"\u6210\u529f\u9875"+e;case"ViewSkinAd":return"\u9886\u53d6\u76ae\u80a4\u9875"+e;case"ViewMenu":switch(cc.$menu.lastClick){case"play":return"\u5173\u5361\u9009\u62e9\u9875"+e;case"bike":return"\u76ae\u80a4\u9875"+e;case"rank":return"\u6392\u884c\u699c\u9875"+e;default:return"\u9996\u9875"+e}}return"\u6e38\u620f\u5185"},o.isNeedBanner=function(){for(var e=cc.director.getScene().getChildByName("Canvas").getChildByName("LayerUI").children,t=void 0,i=e.length-1;i>=0;i--)if((t=e[i]).active)switch(t.name){case"ViewVideoGame":case"ViewMoreGame":case"FixAlert":return-1;case"ViewContinue":return 4;case"ViewLose":return 3;case"ViewWin":return 2;case"ViewSkinAd":return 1;case"ViewMenu":if(cc.$menu)switch(cc.$menu.lastClick){case"bike":case"rank":return-1;case"play":return 1==cc.$sdk.local.lostReturn?(cc.$sdk.local.lostReturn=0,-1):0;default:return 0}}return-1},o.updateBannerStatus=function(){var e=o.isNeedBanner();if(-1==e)cc.$sdk.newAllHideBanner();else if(0==e)if(cc.$sdk.isGDT()){var t=o.getCenterX(-240);cc.$sdk.newShowBanner(0,t,25,480)}else cc.$sdk.newShowBanner(0);else 1==e?cc.$sdk.newShowBanner(1):2==e?cc.$sdk.newShowBanner(2):3==e?cc.$sdk.newShowBanner(3):4==e&&cc.$sdk.newShowBanner(4)},o.getWorldPosition=function(e,t,i){for(t.x=i>0?cc.winSize.width/2:0,t.y=i>0?cc.winSize.height/2:0,t.z=0;e&&(t.x+=e.x,t.y+=e.y,e=e.parent,!(i>0&&--i<=0)););return t},o.lines=[],o.print=function(e){},cc._RF.pop()},{Executor:"Executor"}],ConveurEngineCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"11e38NJzDBOb7r+qKj3zqx0","ConveurEngineCtrl"),cc.Class({extends:cc.Component,properties:{speed:{default:150,tooltip:"\u9f7f\u8f6e\u8f6c\u52a8\u901f\u5ea6"},clockwise:{default:!0,tooltip:"\u662f\u5426\u987a\u65f6\u9488\u8f6c\u52a8"}},onLoad:function(){this._addCircleCollider()},_addCircleCollider:function(){this.node.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var e=Math.min(this.node.width,this.node.height)/2,t=this.node.addComponent(cc.PhysicsCircleCollider);t.restitution=0,t.friction=999999999,t.radius=e,t.apply()},start:function(){},update:function(e){this.clockwise?this.node.angle-=this.speed*e:this.node.angle+=this.speed*e}}),cc._RF.pop()},{}],DataInputStream:[function(e,t,i){"use strict";cc._RF.push(t,"1bc27083FVK3ZmIFX/n4jfx","DataInputStream");cc.Class({name:"DataInputStream",ctor:function(e){this.arrayBuffer=e,this.index=0,this.dv=new DataView(this.arrayBuffer)},readByte:function(){return this.dv.getInt8(this.index++)},readShort:function(){var e=this.dv.getInt16(this.index);return this.index+=2,e},readInt:function(){var e=this.dv.getInt32(this.index);return this.index+=4,e},readFloat:function(){var e=this.dv.getFloat32(this.index);return this.index+=4,e},readUTF:function(){var e=this.readShort();return this.readText(e)},readText:function(e){for(var t=this.arrayBuffer.slice(this.index,this.index+e),i=new Uint8Array(t),o="",n=e,s=0,a=String.fromCharCode,r=0,c=i;r<n;)(s=c[r++])<128?0!==s&&(o+=a(s)):o+=a(s<224?(63&s)<<6|127&c[r++]:s<240?(31&s)<<12|(127&c[r++])<<6|127&c[r++]:(15&s)<<18|(127&c[r++])<<12|c[r++]<<6&127|127&c[r++]),0;return this.index+=e,o},readArrayBuffer:function(e){var t=this.arrayBuffer.slice(this.index,this.index+e);return this.index+=e,t}});cc._RF.pop()},{}],DataMgr:[function(e,t,i){"use strict";cc._RF.push(t,"3f9a8QU5wVJ65cW9kPNDXxT","DataMgr");var o=e("DataInputStream");cc.Class({extends:cc.Component,properties:{_imgs:{default:{},tooltip:"\u56fe\u7247\u540d\u79f0\u7f13\u5b58"}},start:function(){cc.$dataMgr=this;var e=this._imgs,t=cc.url.raw("resources/bin/image.bin");cc.loader.load({url:t,type:"binary"},function(t,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));for(var n=new o(i.buffer),s=n.readShort(),a=0;a<s;a++)e[a]=n.readUTF()})},getName:function(e){return this._imgs[e]},loadLevel:function(e){this.level=e,this._isLevelLoaded=!1;var t=this,i=cc.url.raw("resources/bin/level"+e+".bin");cc.loader.load({url:i,type:"binary"},function(e,i){t._isLevelLoaded=!0,i instanceof ArrayBuffer&&(i=new Uint8Array(i));for(var n=new o(i.buffer),s=n.readShort(),a=[],r=void 0,c=0;c<s;c++)(r={}).layer=n.readByte(),r.x=n.readInt(),r.y=n.readInt(),r.opacity=n.readShort(),r.width=n.readInt(),r.height=n.readInt(),r.angle=n.readShort(),r.anchorX=n.readFloat(),r.anchorY=n.readFloat(),r.image=t.getName(n.readShort()),a.push(r);t.data=a})},isLevelLoaded:function(){return this._isLevelLoaded},getData:function(){return this.data}}),cc._RF.pop()},{DataInputStream:"DataInputStream"}],Debug:[function(e,t,i){"use strict";cc._RF.push(t,"325b7EK9Q5BWZ2BY4Auw2o5","Debug"),cc.Class({extends:cc.Component,properties:{minSound:{default:!0,tooltip:"\u6700\u4f4e\u97f3\u91cf\u5f00\u5173"},skipMenu:{default:!0,tooltip:"\u81ea\u52a8\u8df3\u8fc7\u5f00\u5934\u7684\u83dc\u5355\u754c\u9762"},displayStats:{default:!0,tooltip:"\u662f\u5426\u663e\u793a\u6027\u80fd\u7edf\u8ba1\u6570\u636e"},enabledDebugDraw:{default:!1,tooltip:"\u662f\u5426\u7ed8\u5236\u78b0\u649e\u7ec4\u4ef6\u7684\u5305\u56f4\u76d2\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u7ed8\u5236"},enabledDrawBoundingBox:{default:!1,tooltip:"\u662f\u5426\u7ed8\u5236\u78b0\u649e\u7ec4\u4ef6\u7684\u5f62\u72b6\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u7ed8\u5236"},collisionEnabled:{default:!1,tooltip:"\u662f\u5426\u5f00\u542f\u78b0\u649e\u7ba1\u7406\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f"},reliveAnyWhere:{default:!1,tooltip:"\u662f\u5426\u53ef\u4ee5\u5728\u4efb\u610f\u70b9\u590d\u6d3b"},dev:{default:!1,tooltip:"\u662f\u5426\u5904\u4e8e\u5f00\u53d1\u72b6\u6001"},devLevel:{default:1,tooltip:"\u5f53\u524d\u5728\u5f00\u53d1\u54ea\u4e2a\u5173\u5361"},allLevelActive:{default:!1,tooltip:"\u662f\u5426\u5f00\u653e\u6240\u6709\u5173\u5361"}},start:function(){cc.$debug=this,this.minSound&&(cc.audioEngine.setMusicVolume(.1),cc.audioEngine.setEffectsVolume(.1)),this.skipMenu&&cc.director.getScheduler().schedule(this._startGameImm,this,1,0,0,!1),cc.director.getCollisionManager().enabledDebugDraw=this.enabledDebugDraw,cc.director.getCollisionManager().enabledDrawBoundingBox=this.enabledDrawBoundingBox,cc.debug.setDisplayStats(this.displayStats),cc.director.getCollisionManager().enabled=this.collisionEnabled},_startGameImm:function(){cc.game.emit("GameStart",this.devLevel)}}),cc._RF.pop()},{}],EventMgr:[function(e,t,i){"use strict";cc._RF.push(t,"90351UfoBJI86gm+PlqIIhG","EventMgr");var o=cc.Class({extends:cc.Component,properties:{},on:function(e,t,i){var o=this.eventTable[e];null==o&&(o=[],this.eventTable[e]=o),o.push([t,i])},off:function(e,t,i){var o=this.eventTable[e];if(o)for(var n=o.length-1;n>=0;n--){var s=o[n];s[0]!==t||i&&s[1]!==i||o.removeAt(n)}},event:function(e,t){var i=this.eventTable[e];if(i)for(var o=i.length-1;o>=0;o--){var n=i[o];n[1].call(n[0],t)}},onLoad:function(){this.eventTable={}},start:function(){}});t.exports=o,cc._RF.pop()},{}],EventType:[function(e,t,i){"use strict";cc._RF.push(t,"188f2ZPw9dN3qLp1jURGJMw","EventType");var o=function(){};o.Camera="Camera",o.GameStart="GameStart",o.GameRestart="GameRestart",o.GamePause="GamePause",o.GameResume="GameResume",o.GameOver="GameOver",o.GameMenu="GameMenu",o.GameFinal="GameFinal",o.SpeedUp="SpeedUp",o.RoleDead="RoleDead",o.SoundDisable="SoundDisable",o.SoundEnable="SoundEnable",o.TriggerZoomStart="TriggerZoomStart",o.TriggerZoomEnd="TriggerZoomEnd",o.TriggerAcceleratorStart="TriggerAcceleratorStart",o.TriggerAcceleratorEnd="TriggerAcceleratorEnd",o.TriggerTrick="TriggerTrick",o.TriggerTrickEnd="TriggerTrickEnd",t.exports=o,cc._RF.pop()},{}],Executor:[function(e,t,i){"use strict";cc._RF.push(t,"4106bo9it9Jqr6Sm0G7xM+A","Executor"),cc.Class({extends:cc.Component,execute:function(e){},gameUpdate:function(e){},onGameRestart:function(){}}),cc._RF.pop()},{}],ExplosionCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"f13e596wKZE177Jmt+AgS7/","ExplosionCtrl");var o=e("Context"),n=e("Executor"),s=e("Trigger");cc.Class({extends:n,start:function(){void 0===this.delay&&(this.delay=-1)},gameUpdate:function(e){if(-1!==this.delay)return this.delay-=e,this.delay<=0?(this.delay=-1,o.audio.playExplosion(),this.node.getComponent(cc.Animation).play("Explosion"),this.node.$tnt&&(this.node.$tnt.active=!1,this.node.$tnt.opacity=0),!0):void 0},onGameRestart:function(){this.node.$tnt&&(this.node.$tnt.active=!0,this.node.$tnt.opacity=255)},execute:function(e){this.delay=e,s.add(this)},onAniEnd:function(){this.node.destroy()},onDestroy:function(){cc.game.targetOff(this)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",Trigger:"Trigger"}],FinalTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"b55392S/+hBT7ZqLSzBk2xQ","FinalTrigger");var o=e("Context");cc.Class({extends:cc.Component,properties:{finalSprites:{type:[cc.SpriteFrame],default:[],tooltip:"\u7ec8\u70b9\u5207\u6362\u7684\u4e24\u5f20\u56fe\u7247"}},start:function(){this.hasTrigger=!1,this.sprIdx=0,this.time=0,this.sprite=this.node.getComponent(cc.Sprite),cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger=!1,this.sprIdx=0,this.time=0,this.sprite.spriteFrame=this.finalSprites[this.sprIdx]},update:function(e){this.hasTrigger&&(this.time+=e,this.time>.5&&(this.time-=.5,this.sprIdx=(this.sprIdx+1)%2,this.sprite.spriteFrame=this.finalSprites[this.sprIdx]))},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&this._onTrigger(i,t)},_onTrigger:function(e,t){this.hasTrigger||(this.hasTrigger=!0,o.audio.playFinalLose(),cc.game.emit("GameFinal",!1))},onDestroy:function(){cc.game.off("GameRestart",this.onGameRestart,this)}}),cc._RF.pop()},{Context:"Context"}],FireCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"02d10Z5n55MT7DpOpFiWTFY","FireCtrl");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:5e3,tooltip:"\u79fb\u52a8\u901f\u5ea6"},disappear:{default:!0,tooltip:"\u6700\u540e\u662f\u5426\u6d88\u5931"}},start:function(){this._init()},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},_init:function(){this._hasInit||(this._hasInit=!0,this.tempV2=new cc.Vec2,this.bullet=this.node.children.length>0?this.node.children[0]:this.node,this._reset(),this._check())},update:function(e){if(this._check()&&this._hasTrigger){if(!this._executing)return this._delay-=e,void(this._delay<=0&&(this._executing=!0,this._explosion()));if(this._executing){var t=this.points[1];this.tempV2.x=t.x-this.bullet.x,this.tempV2.y=t.y-this.bullet.y;var i=o.getLength(this.tempV2);if(i<=e*this.speed)return this.bullet.x=t.x,this.bullet.y=t.y,void this._stop();var n=i/this.speed;this.bullet.x+=e/n*this.tempV2.x,this.bullet.y+=e/n*this.tempV2.y}}},_explosion:function(){var e=cc.instantiate(o.prefabMap["Prefabs/Explosion"]);e.x=this.node.x,e.y=this.node.y,e.scaleX=10,e.scaleY=10,e.zIndex=9999,this.node.parent.parent.getChildByName("layer4").addChild(e),e.getComponent(n).execute(0)},execute:function(e){this._init(),this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0))},onGameRestart:function(){this._init(),this.bullet.active=!0,this._reset()},_stop:function(){this.bullet.x=this.points[1].x,this.bullet.y=this.points[1].y,this.bullet.active=!this.disappear},_reset:function(){this._hasTrigger=!1,this._executing=!1,this._delay=-1,Math.abs(this.bullet.x-this.points[0].x)>5&&(this.bullet.x=this.points[0].x),Math.abs(this.bullet.y-this.points[0].y)>5&&(this.bullet.y=this.points[0].y)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],GameCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"afbaeb313xBRawsrTFLuKDk","GameCtrl");var o=e("ViewMenuCtrl"),n=e("TiledBlocksTrigger"),s=e("GroundSpecialCtrl"),a=e("Context"),r=e("LevelLoading"),c=e("Trigger"),d=cc.Class({extends:cc.Component,properties:{viewPause:{default:null,type:cc.Node},roleNode:{default:null,type:cc.Node},taoluLayer:{default:null,type:cc.Prefab}},onLoad:function(){cc.$game=this,this._paused=!1,cc.$sdk._onwxUserData()},start:function(){this.levelData=[],this.state=d.State.Menu,this._paused=!1,this.timePassed=0,cc.game.on("LevelLoaded",this.onLevelLoaded,this),cc.game.on("GameRestart",this.onGameRestart,this),cc.game.on("GameStart",this.onGameStart,this),cc.game.on("GamePause",this.onGamePause,this),cc.game.on("GameResume",this.onGameResume,this),cc.game.on("GameFinal",this.onGameFinal,this),cc.game.on("GameMenu",this.onGameMenu,this),cc.game.on("RoleDead",this.onRoleDead,this),cc.game.on("Home",this.onHome,this),cc.game.on("Save",this.onSave,this),cc.game.on("GetCustomData",this.onGetCustomData,this),this.initUI(),this.onGetCustomData(),this.xxx=0,cc.$sdk.isGDT()||this.showSkinLayer(),window.wx&&(cc.$sdk.config.version==cc.$sdk.local.version?this.node.getChildByName("btnQuit").active=!1:this.node.getChildByName("btnQuit").active=!0),cc.$dygame&&cc.$dygame._showBannerAd(0,0)},initUI:function(){var e=this.node.getChildByName("LayerUI");this.viewPause=e.getChildByName("ViewPause"),this.viewHeader=e.getChildByName("ViewHeader"),this.viewMenu=e.getChildByName("ViewMenu"),this.viewWin=e.getChildByName("ViewWin"),this.viewLose=e.getChildByName("ViewLose"),this.viewTrick=e.getChildByName("ViewTrick"),this.viewLoading=e.getChildByName("ViewLoading"),this.viewMoreGame=e.getChildByName("ViewMoreGame"),this.viewContinue=e.getChildByName("ViewContinue"),this.viewVideoGame=e.getChildByName("ViewVideoGame"),this.viewPause.active=!1,this.viewHeader.active=!1,this.viewMenu.active=!0,this.viewWin.active=!1,this.viewLose.active=!1,this.viewTrick.active=!0,this.viewLoading.active=!1,this.viewMoreGame.active=!1,this.viewContinue.active=!1,this.viewVideoGame.active=!1,this.layerMotor=this.node.getChildByName("layerMotor"),this.layer1=this.node.getChildByName("layer1"),this.layer2=this.node.getChildByName("layer2"),this.layer3=this.node.getChildByName("layer3"),this.layer4=this.node.getChildByName("layer4"),this.layer1.active=!1,this.layer2.active=!1,this.layer3.active=!1,this.layer4.active=!1,this.loaded=!0},clickNext:function(){},isPaused:function(){return this._paused},onLevelLoaded:function(e){if(this.layer1.active=!0,this.layer2.active=!0,this.layer3.active=!0,this.layer4.active=!0,e){var t=this.levelData[this.level].savePointIdx;if(!t)return;var i=cc.$dataMgr.getData();if(!i)return;var o=i[t];if(!o)return;this.savePoint=new cc.Vec3(o.x,o.y,0)}else delete this.savePoint},onGamePause:function(){this._paused||(this._paused=!0,this.viewPause&&(this.viewPause.active=!0),this.state=d.State.Paused)},onGameResume:function(){this._paused&&(this._paused=!1,cc.director.resume(),this.viewPause&&(this.viewPause.active=!1),this.state=d.State.Playing)},onGameStart:function(e,t){cc.$sdk.hideBanner(),e&&(this.level=parseInt(e)),this.timePassed=0,this.viewLoading.active=!0,this.layer1.active=!1,this.layer2.active=!1,this.layer3.active=!1,this.layer4.active=!1,cc.$context.motor.parent.setParent(this.layerMotor),cc.$context.motorCtrl.applyJoint(),this.viewLoading.getComponent(r).loadLevel(this.level,t),cc.$sdk.local.sound&&cc.$audio.playBgm(cc.$context.audioMap.mb_ingame_music)},onGameRestart:function(){console.log(" == onGameRestart ==="),this.startTime=Date.now(),this.state=d.State.Idle,this.viewHeader.active=!0,this.viewLose.active=!1,this.viewMenu.active=!1,this.viewWin.active=!1,this._paused&&(this._paused=!1,cc.director.resume()),n.onGameRestart(),s.onGameRestart(),c.onGameRestart(),cc.game.emit("PostGameRestart")},onGameFinal:function(){this.state=d.State.Final,this.starTime=this.starTime||[[],[19,24,27],[19,24,27],[19,24,27],[19,24,27],[19,24,27],[24,27,30],[24,27,30],[24,27,30],[24,27,30],[24,27,30],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35],[30,32,35]];var e=0;this.timePassed<this.starTime[this.level][0]?e=3:this.timePassed<this.starTime[this.level][1]?e=2:this.timePassed<this.starTime[this.level][2]&&(e=1);var t=this.levelData[this.level]||{};t.star>0&&(e=Math.max(t.star,e),e=Math.min(3,e)),t.star=e,this.star=e,this.levelData[this.level]=t,this.level<20&&(this.levelData[this.level+1].star=0,this.level+1>this.maxLv&&(this.maxLv=this.level+1,cc.$sdk.wxSaveRank(this.maxLv))),cc.$sdk.sdkSaveData(this.levelData),this.viewHeader.active=!1,this.viewLose.active=!1,this.viewWin.active=!0},onGameMenu:function(){console.log(" onGameMenu=== "),this.state=d.State.Menu,this.viewHeader.active=!1,this.viewLose.active=!1,this.viewMenu.active=!0,this.viewMenu.getComponent(o).onGameMenu(),cc.$dygame&&cc.$dygame._loadInterstitialAd()},onHome:function(){console.log(" onHome=== "),this.state=d.State.Menu,this.viewHeader.active=!1,this.viewLose.active=!1,this.viewMenu.active=!0,this.viewMenu.getComponent(o).onHome(),cc.$dygame&&cc.$dygame._loadInterstitialAd()},onRoleDead:function(e){Date.now()-this.startTime<100?console.log("\u4e0d\u5e94\u8be5\u51fa\u73b0\u7684\u60c5\u51b5"):this.state!==d.State.Final?this.state===d.State.Playing&&this.onGameOver(e):cc.game.emit("GameOver",e)},onSave:function(e){this.savePoint=e.position,this.level===this.maxLv&&(this.levelData[this.level].savePointIdx=e.$lvLdx,cc.$sdk.sdkSaveData(this.levelData))},onGetCustomData:function(){if(cc.$sdk){for(var e=cc.$sdk.customData||[],t=1;t<=20;t++){var i=this.levelData[t]||{},n=e[t]||{};n.star>=-1&&n.star<=3?i.star=n.star:i.star=-1,1===t&&(i.star=Math.max(i.star,0)),i.savePointIdx=n.savePointIdx,this.levelData[t]=i}this.viewMenu.getComponent(o).setStar(),this.maxLv=0;for(var s=1;s<=20;s++){if(!((this.levelData[s]||{}).star>=0))break;this.maxLv=s}cc.$sdk.wxSaveRank(this.maxLv);for(var a=1;a<this.maxLv;a++)delete this.levelData[a].savePointIdx}},getRelivePos:function(){return this.savePoint||a.motoRelivePos},onGameOver:function(e){console.log("GameCtrl","onGameOver",new Date),this.state=d.State.Dead,cc.$context.motorCtrl.partSmokeEngine.stop(),cc.game.emit("GameOver",e),cc.director.getScheduler().schedule(this.onGameLose,this,2.5,0,0,!1)},onGameLose:function(){if(console.log(" === onGameLose === "),this.state===d.State.Dead){this.state=d.State.Lose;var e=this.levelData[this.level].dieTimes||0;this.levelData[this.level].dieTimes=e+1,this.viewHeader.active=!1,window.wx?this.showtaoluLayer()?this.levelData[this.level].dieTimes=0:cc.$sdk.config&&this.levelData[this.level].dieTimes===cc.$sdk.config.adtimes?(this.levelData[this.level].dieTimes=0,this.viewLose.active=!0):cc.game.emit("GameRestart"):this.viewLose.active=!0}},update:function(e){if("menu"!==cc.$game.state)switch(this._fixBug(),n.update(e),s.update(e),c.update(e),cc.$context.aniCtrl&&cc.$context.aniCtrl.gameUpdate(),this.state){case d.State.Idle:cc.$context.motorCtrl.applyJoint();break;case d.State.Playing:this.timePassed+=e;break;case d.State.Paused:cc.director.isPaused()||cc.director.pause()}},_fixBug:function(){cc.$context.motor.parent.parent||(cc.$context.motor.parent.setParent(this.layerMotor),cc.$context.motorCtrl.applyJoint())},onDestroy:function(){cc.game.targetOff(this)},test:function(){this.viewLose.active=!this.viewLose.active},isColliderValid:function(){return cc.$game.state!==d.State.Idle&&cc.$game.state!==d.State.Menu},showSkinLayer:function(){if(window.wx){var e=cc.$sdk.getLocalDataFormatInt("skinNum");!a.sdk.newreg&&e<4&&(this.node.getChildByName("LayerUI").getChildByName("ViewSkinAd").active=!0)}},showCoinLayer:function(){window.wx&&(this.node.getChildByName("LayerUI").getChildByName("viewCoinLayer").active=!0)},dealIconPostion:function(e){if(window.wx){if((7==e||3==e)&&0==cc.$sdk.config.GamecenterIcon)return cc.$sdk._curiconAd&&cc.$sdk._curiconAd.hide();if(1==e&&0==cc.$sdk.config.Gameiconstart)return cc.$sdk._curiconAd&&cc.$sdk._curiconAd.hide();var t=this.viewMoreGame.getChildByName("eg"),i=this.viewMenu.getChildByName("ButtoniconPlay").getChildByName("eg"),o=cc.$sdk.CCRectToWXRect(t),n=cc.$sdk.CCRectToWXRect(i),s=cc.v2(0,0);if(cc.$sdk._curiconAd){for(var a=0;a<cc.$sdk._curiconAd.icons.length;a++)7==e?(cc.$sdk._curiconAd.icons[a].appNameHidden=!1,cc.$sdk._curiconAd.icons[a].color="#FFFFFF",cc.$sdk._curiconAd.icons[a].size=128,a<7?(cc.$sdk._curiconAd.icons[a].left=o.x+8*a+a*o.w,cc.$sdk._curiconAd.icons[a].top=o.y,s.x=o.x+8*a+a*o.w,s.y=o.y):(cc.$sdk._curiconAd.icons[a].left=-100,cc.$sdk._curiconAd.icons[a].top=-100)):3==e?(cc.$sdk._curiconAd.icons[a].appNameHidden=!0,cc.$sdk._curiconAd.icons[a].size=80,a<3?(cc.$sdk._curiconAd.icons[a].left=15,cc.$sdk._curiconAd.icons[a].top=40+80*a):(cc.$sdk._curiconAd.icons[a].left=-100,cc.$sdk._curiconAd.icons[a].top=-100)):1==e&&(cc.$sdk._curiconAd.icons[a].appNameHidden=!0,cc.$sdk._curiconAd.icons[a].size=80,a<1?(cc.$sdk._curiconAd.icons[0].left=n.x,cc.$sdk._curiconAd.icons[0].top=n.y):(cc.$sdk._curiconAd.icons[a].left=-100,cc.$sdk._curiconAd.icons[a].top=-100));7==e&&this.addIconAdpostion(s),cc.$sdk._curiconAd.show()}}},addIconAdpostion:function(e){if(cc.$sdk._curiconAd&&cc.$sdk._curiconAd.icons.length<7){var t=cc.$sdk._curiconAd.icons.length,i=7-t,o=cc.$sdk._curiconAd.icons[t-1].width,n=cc.$sdk._curiconAd.icons[t-1].height,s=e.x+o/2+o-20,a=e.y+n/2+5,r=cc.$sdk.WXPosToCCPos(this.node,cc.v2(s,a));this.viewMoreGame.getChildByName("buzuad").position=r,this.viewMoreGame.getChildByName("buzuad").active=!0,this.viewMoreGame.getChildByName("buzuad").setContentSize(120*i+8*(i-1),150)}else this.viewMoreGame.getChildByName("buzuad").active=!1},showtaoluLayer:function(){var e=cc.$sdk.config?cc.$sdk.config.times:0;if(e>0&&e>cc.$sdk.local._curtimes&&!cc.$sdk.local.pb){var t=cc.instantiate(this.taoluLayer);return this.node.getChildByName("LayerUI").addChild(t),!0}return!1},iconStartShow:function(){if(cc.$sdk.config&&1==cc.$sdk.config.Gameiconstart){this.viewMenu.getChildByName("ButtonPlay").active=!1,this.viewMenu.getChildByName("ButtonBattle").active=!1;var e=cc.moveTo(1,cc.v2(-160,-35));this.viewMenu.getChildByName("ButtoniconPlay").runAction(e)}},showOurBanner:function(e,t,i){if(!cc.$sdk.local.gdtBanner){t&&(e.y=t),i&&(e.x=i),e.active=!0,cc.$sdk.aldSendEvent("\u5bfc\u51fa\u66dd\u5149",{"\u66dd\u5149":"\u81ea\u5b9a\u4e49banner"});var o=parseInt(Math.random()*(cc.$sdk.config.bannerpicture.length-1));cc.$sdk.config&&cc.$sdk.config.bannerpicture&&cc.loader.load(cc.$sdk.config.bannerpicture[o],function(t,i){e.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)})}},bannerclick:function(){if(cc.$sdk&&cc.$sdk.ads){var e=parseInt(Math.random()*(cc.$sdk.ads.length-1));cc.$sdk.ourbannergoto=1,cc.$context.sdk.jumpToOtherGame(cc.$sdk.ads[e],function(){})}},btn_Quit:function(){if(cc.$game.viewMoreGame.active){var e=parseInt(Math.random()*(cc.$sdk.ads.length-1));cc.$context.sdk.jumpToOtherGame(cc.$sdk.ads[e],function(){cc.$game.viewMoreGame.active=!1})}else cc.$game.viewMoreGame.active=!0}});d.State={Menu:"menu",Idle:"idle",Playing:"playing",Paused:"paused",Dead:"dead",Lose:"lose",Final:"final"},t.exports=d,cc._RF.pop()},{Context:"Context",GroundSpecialCtrl:"GroundSpecialCtrl",LevelLoading:"LevelLoading",TiledBlocksTrigger:"TiledBlocksTrigger",Trigger:"Trigger",ViewMenuCtrl:"ViewMenuCtrl"}],GearCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"e7e15KDXttJy6yrTL0aP2Od","GearCtrl");var o=[{x:239,y:-203},{x:191,y:-200},{x:184,y:-260},{x:135,y:-245},{x:119,y:-298},{x:69,y:-270},{x:43,y:-313},{x:2,y:-278},{x:-42,y:-310},{x:-67,y:-269},{x:-115,y:-293},{x:-131,y:-244},{x:-179,y:-262},{x:-180,y:-200},{x:-234,y:-207},{x:-225,y:-157},{x:-275,y:-145},{x:-253,y:-98},{x:-302,y:-82},{x:-266,y:-43},{x:-310,y:-5},{x:-268,y:25},{x:-301,y:66},{x:-266,y:91},{x:-279,y:136},{x:-228,y:148},{x:-240,y:197},{x:-189,y:198},{x:-189,y:246},{x:-141,y:236},{x:-124,y:286},{x:-77,y:256},{x:-52,y:305},{x:-17,y:269},{x:18,y:310},{x:41,y:266},{x:85,y:302},{x:105,y:252},{x:149,y:277},{x:158,y:230},{x:204,y:238},{x:205,y:187},{x:254,y:182},{x:247,y:135},{x:294,y:120},{x:270,y:83},{x:310,y:56},{x:272,y:21},{x:311,y:-11},{x:271,y:-33},{x:307,y:-73},{x:262,y:-88},{x:286,y:-132},{x:233,y:-146}];cc.Class({extends:cc.Component,properties:{speed:{default:150,tooltip:"\u9f7f\u8f6e\u8f6c\u52a8\u901f\u5ea6"},clockwise:{default:!0,tooltip:"\u662f\u5426\u987a\u65f6\u9488\u8f6c\u52a8"}},onLoad:function(){this._addCircleCollider()},_addCircleCollider:function(){this.node.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var e=Math.min(this.node.width,this.node.height)/2*.96-20,t=this.node.addComponent(cc.PhysicsCircleCollider);t.restitution=0,t.friction=999999999,t.radius=e,t.apply(),(t=this.node.addComponent(cc.PhysicsBoxCollider)).restitution=0,t.friction=999999999,t.size.width=this.node.width+6,t.size.height=20,t.apply()},_addGearCollider:function(){this.node.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;for(var e=this.node.width/630,t=this.node.addComponent(cc.PhysicsPolygonCollider),i=0,n=o.length;i<n;i++){var s=t.points[i]||new cc.Vec2;s.x=Math.round(o[i].x*e),s.y=Math.round(o[i].y*e),t.points[i]=s}t.apply()},start:function(){},update:function(e){this.clockwise?this.node.angle-=this.speed*e:this.node.angle+=this.speed*e}}),cc._RF.pop()},{}],GearMoveCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"ea221Mfk1xLnaYp1lQ/q0qT","GearMoveCtrl");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:500,tooltip:"\u79fb\u52a8\u901f\u5ea6"}},start:function(){this.forceScale=1,this.tempV2=new cc.Vec2,this._hasTrigger=!1,this.gear=this.node.children[0]||this.node,this._reset(),this._check()},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},update:function(e){if(this._hasTrigger&&this._check()&&-1!==this._delay){if(!this._executing)return this._delay>0&&(this._delay-=e),void(this._delay<=0&&(this._executing=!0));if(this._executing){var t=this.points[1];this.tempV2.x=t.x-this.gear.x,this.tempV2.y=t.y-this.gear.y;var i=o.getLength(this.tempV2);if(i<=e*this.speed)return this.pointIdx++,this.gear.x=t.x,void(this.gear.y=t.y);var n=i/this.speed;this.gear.x+=e/n*this.tempV2.x,this.gear.y+=e/n*this.tempV2.y}}},execute:function(e){this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset()},_stop:function(){this._executing=!1},_reset:function(){this._executing=!1,this._delay=-1,Math.abs(this.gear.x-this.points[0].x)>5&&(this.gear.x=this.points[0].x),Math.abs(this.gear.y-this.points[0].y)>5&&(this.gear.y=this.points[0].y)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],GifMask:[function(e,t,i){"use strict";cc._RF.push(t,"77572P/6kNOjpKyOjyMkdxn","GifMask"),cc.Class({extends:cc.Component,properties:{interval:{default:.15,tooltip:"\u5e27\u64ad\u653e\u95f4\u9694"}},start:function(){this.img=this.node.children[0],this.frameIdx=0,this.frameCnt=this.xNum*this.yNum,this.next=this.interval,this.node.on(cc.Node.EventType.TOUCH_END,this.click,this),this.node.parent.getChildByName("ButtonGo").on(cc.Node.EventType.TOUCH_END,this.click,this)},click:function(){cc.$context.sdk.jumpToOtherGame(this.node.parent.$data)},update:function(e){if(this.frames&&(this._check(),this.next-=e,this.next<=0)){this.next+=this.interval,this.frameIdx++,this.frameIdx>=this.frames.length&&(this.frameIdx=0);var t=this.frames[this.frameIdx].frame;this.img.x=-t.x*this.img.scaleX,this.img.y=t.y*this.img.scaleY}},_check:function(){if(this.spriteFrame!==this.img.getComponent(cc.Sprite).spriteFrame){this.spriteFrame=this.img.getComponent(cc.Sprite).spriteFrame,this.img.width=this.spriteFrame.getRect().width,this.img.height=this.spriteFrame.getRect().height;var e=this.frames[0].frame;this.img.scaleX=this.node.width/e.width,this.img.scaleY=this.node.height/e.height}}}),cc._RF.pop()},{}],GroundSpecialCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"a3110VDP+dKhZ+Yt+7AHkcH","GroundSpecialCtrl");e("ParticleSystemColliderBox");var o=e("Context"),n=e("Executor"),s=e("Trigger"),a=cc.Class({extends:n,properties:{block:{type:cc.SpriteFrame,default:null},blockHeight:{default:60,tooltip:"\u788e\u7247\u5757\u7684\u9ad8\u5ea6"},blockAngle:{default:0,tooltip:"\u788e\u7247\u65cb\u8f6c\u89d2\u5ea6"},blockShowTime:{default:4,tooltip:"\u788e\u7247\u663e\u793a\u65f6\u95f4"}},start:function(){this.hasTrigger=!1,this.delay=-1,this.tempV2a=new cc.Vec2,this.tempV2b=new cc.Vec2,cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger=!1,this.delay=-1,this.node.active=!0,delete this.node.$running,delete this.node.$hide},gameUpdate:function(e){-1!==this.delay&&(this.delay-=e,this.delay<=0&&(this.delay=-1,this._explose()))},execute:function(e){this.hasTrigger||(this.hasTrigger=!0,this.delay=e,this.node.active=!0,this.node.$running=!0,s.add(this))},_explose:function(){var e=-this.node.width/2+this.blockHeight/2,t=this.node.width/2-this.blockHeight/2,i=void 0,o=new cc.Vec2;this.node.getWorldPosition(o);for(var n=t;n>=e;n-=this.blockHeight){var s=a.pool.get();if(s)s.active=!0,(i=s.getComponent(cc.RigidBody)).resetVelocity();else(s=new cc.Node).x=n,s.angle=this.blockAngle,s.group="DynamicScene",(i=s.addComponent(cc.RigidBody)).gravityScale=3,i.type=cc.RigidBodyType.Dynamic,s.addComponent(cc.PhysicsBoxCollider).apply(),s.addComponent(cc.Sprite).spriteFrame=this.block;s.blockShowTime=this.blockShowTime,s.showTime=this.blockShowTime,s.zIndex=999,a._tmpNode.x=n,a._tmpNode.y=0,this.node.addChild(a._tmpNode),a._tmpNode.getWorldPosition(this.tempV2b),a._tmpNode.setParent(null),s.x=this.node.x+(this.tempV2b.x-o.x),s.y=this.node.y+(this.tempV2b.y-o.y),this.node.parent.addChild(s),a.blocks.push(s),i.angularVelocity=180+180*Math.random(),this._setLinearVelocity(s,i)}this.node.active=!1,this.node.$hide=!0,delete this.node.$running},_setLinearVelocity:function(e,t){var i=2*Math.random()*Math.PI,o=800*(.5+.5*Math.random());this.tempV2a.x=o*Math.sin(i),this.tempV2a.y=o*Math.cos(i),t.linearVelocity=this.tempV2a},resize:function(e,t){o.resize(this.node,e,t)},onDestroy:function(){cc.game.off("GameRestart",this.onGameRestart,this)}});a._tmpNode=new cc.Node,a.pool=new cc.NodePool,a.blocks=[],a.update=function(e){for(var t=a.blocks,i=void 0,o=t.length-1;o>=0;o--)(i=t[o]).showTime-=e,i.showTime<=0?a._recoverBlock(i,o):i.opacity=i.showTime/i.blockShowTime*255},a._recoverBlock=function(e,t){e.active=!1,e.removeFromParent(),a.blocks.removeAt(t),a.pool.put(e)},a._recoverBlocks=function(){for(var e=void 0,t=a.blocks.length-1;t>=0;t--)(e=a.blocks[t]).active=!1,e.removeFromParent(),a.blocks.removeAt(t),a.pool.put(e)},a.onGameRestart=function(){a._recoverBlocks()},cc._RF.pop()},{Context:"Context",Executor:"Executor",ParticleSystemColliderBox:"ParticleSystemColliderBox",Trigger:"Trigger"}],HalfCircleCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"fd00bRMK/tHqJf5DHXODylq","HalfCircleCtrl");var o=e("Executor");e("Context");cc.Class({extends:o,properties:{torque:{default:100,tooltip:"\u626d\u529b"},clockwise:{default:!1,tooltip:"\u662f\u5426\u987a\u65f6\u9488\u8f6c\u52a8"},rotateAngle:{default:135,tooltip:"\u9700\u8981\u65cb\u8f6c\u591a\u5c11\u89d2\u5ea6"}},start:function(){this.$needFixPos=!0,this._init(),this.rigid.type=cc.RigidBodyType.Static},onEnable:function(){this._init(),this._setPos(),this.halfCircle.getComponent(cc.Joint).apply()},_setPos:function(){this.node.x!==this.node.$x&&(this.node.x=this.node.$x),this.node.y!==this.node.$y&&(this.node.y=this.node.$y),0!==this.halfCircle.x&&(this.halfCircle.x=0),0!==this.halfCircle.y&&(this.halfCircle.y=0),0!==this.anchor.x&&(this.anchor.x=0),0!==this.anchor.y&&(this.anchor.y=0),this._running||this._hasTrigger||(this.addAngle=0,this.halfCircle.angle=this.$childAngle,this.lastAngle=this.$childAngle)},_init:function(){this._hasInit||(this._hasInit=!0,this.delay=-1,this.addAngle=0,this._hasTrigger=!1,this._running=!1,this.halfCircle=this.node.getChildByName("halfcircle"),this.anchor=this.node.getChildByName("anchor"),this.rigid=this.halfCircle.getComponent(cc.RigidBody),this.halfCircle.angle=this.$childAngle,this.lastAngle=this.$childAngle,this.halfCircle.getComponent(cc.Joint).apply())},update:function(e){this._setPos(),this._running?this._execute(e):-1!==this.delay&&(this.delay-=e,this.delay<=0&&(this.delay=-1,this._running=!0,this.rigid.type=cc.RigidBodyType.Dynamic))},_execute:function(e){var t=this.rigid.getMass()*this.torque;this.clockwise?this.rigid.applyTorque(-t):this.rigid.applyTorque(t),this.addAngle>=this.rotateAngle?this._stop():(this.addAngle+=this.halfCircle.angle-this.lastAngle,this.lastAngle=this.halfCircle.angle)},_stop:function(){this.delay=-1,this._running=!1,this.rigid.type=cc.RigidBodyType.Static},execute:function(e){this._init(),this._hasTrigger||(this._hasTrigger=!0,this.delay=e)},onGameRestart:function(){this._init(),this._hasTrigger=!1,this._running=!1,this.delay=-1,this.addAngle=0,this.halfCircle.angle=this.$childAngle,this.lastAngle=this.$childAngle,this.rigid.type=cc.RigidBodyType.Static}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],LevelLoading:[function(e,t,i){"use strict";cc._RF.push(t,"dc3c2TOPBxDMIXNuTULTp7x","LevelLoading");var o=e("DataMgr"),n=e("SceneCtrl"),s=e("Context"),a=e("Trigger"),r={1:["Prefabs/Level1","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge"],2:["Prefabs/Level2","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/Press"],3:["Prefabs/Level3","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge"],4:["Prefabs/Level4","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle"],5:["Prefabs/Level5","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/SinStickLeft","Prefabs/SinStickRight","Prefabs/AcceleratorBreaker"],6:["Prefabs/Level6","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge"],7:["Prefabs/Level7","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle"],8:["Prefabs/Level8","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/AcceleratorBreaker"],9:["Prefabs/Level9","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/SinStickLeft","Prefabs/SinStickRight","Prefabs/HalfCircle"],10:["Prefabs/Level10","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/AcceleratorBreaker"],11:["Prefabs/Level11","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press"],12:["Prefabs/Level12","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker"],13:["Prefabs/Level13","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/SinStickLeft"],14:["Prefabs/Level14","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Chain11"],15:["Prefabs/Level15","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Chain11"],16:["Prefabs/Level16","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker","Prefabs/Chain12"],17:["Prefabs/Level17","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker","Prefabs/Chain11","Prefabs/Chain12"],18:["Prefabs/Level18","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker"],19:["Prefabs/Level19","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker","Prefabs/SinStickRight","Prefabs/Chain8","Prefabs/SinStickLeft","Prefabs/SinStickRight"],20:["Prefabs/Level20","Prefabs/Trick","Prefabs/SaveAnimation","Prefabs/Uskorenie","Prefabs/Sprite4","Prefabs/WaterSensor","Prefabs/SensorExplosion","Prefabs/Explosion","Prefabs/BreakableDoorWood","Prefabs/BreakableDoorGlass","Prefabs/GroundSpecial","Prefabs/Groundhinge","Prefabs/HalfCircle","Prefabs/Press","Prefabs/AcceleratorBreaker"]};cc.Class({extends:cc.Component,properties:{dataMgr:{type:o,default:null,tooltip:"\u6570\u636e\u7ba1\u7406\u7c7b"},sceneCtrl:{type:n,default:null,tooltip:"\u573a\u666f\u7ba1\u7406\u7c7b"}},onLoadSubpackageCallback:function(e){if(this.loading=!1,this.progress=this.subPkg.weight,this.subPkgIdx++,e)return console.error(e),void console.log("cases/subpackage.failed");console.log("cases/subpackage.complete")},loadLevel:function(e,t){cc.$game.state="menu",this._isContinue=t,e=e&&parseInt(e),this.level!==e?(this.sceneCtrl.unloadLevel(),this.level=e,this.progress=0,this.loading=!1,this.itemIdx=0,this.item=void 0,this._itemsLoaded=!1):this._onLvLoaded()},start:function(){this.loadingbar=this.node.getChildByName("loadingbarBg").getChildByName("loadingbar"),this.progress=0,this.loading=!1,this.weightTotal=0,this.loadingbarWidth=280,this.itemIdx=0,this._itemsLoaded=!1;this.items=[{loader:this,start:function(){a.reset()},update:function(e){return this.loaded=!0,1},reset:function(){this.loaded=!1},weight:1},{loader:this,start:function(){this.loader.dataMgr.loadLevel(this.loader.level)},update:function(e){return this.loader.dataMgr.isLevelLoaded()?(this.loaded=!0,1):0},reset:function(){this.loaded=!1},weight:5},{loader:this,start:function(){var e=this.loader.dataMgr.getData();this.loader.data=e;for(var t=[],i=0;i<e.length;i++){var o=e[i].image;t.contains(o)||t.push(o)}var n=this;this.progress=0,cc.loader.loadResArray(t,cc.SpriteFrame,function(e,i,o){n.progress=e/Math.max(i,t.length)},function(e,i){for(var o=0;o<i.length;o++)s.spriteMap[t[o]]=i[o];n.progress=1,n.loaded=!0})},update:function(e){return this.progress},reset:function(){this.loaded=!1,this.progress=0},weight:45},{loader:this,start:function(){var e=r[this.loader.level],t=this;this.progress=0,cc.loader.loadResArray(e,cc.Prefab,function(i,o,n){t.progress=i/Math.max(o,e.length)},function(i,o){i&&console.error(i);for(var n=0;n<o.length;n++)s.prefabMap[e[n]]=o[n];t.loaded=!0,t.progress=1})},update:function(e){return this.progress},reset:function(){this.loaded=!1,this.progress=0},weight:5},{loader:this,start:function(){this.loader.sceneCtrl.loadLevel(this.loader.data,this.loader.level)},update:function(e){var t=this.loader.sceneCtrl.getLoadingProgress();return 1===t&&(cc.$game.onLevelLoaded(this.loader._isContinue),cc.game.emit("GameRestart"),this.loaded=!0),t},reset:function(){this.loaded=!1},weight:50},{resetTimes:2,loader:this,logic:function(){cc.$context.motorCtrl.onPostGameRestart(),this.resetTimes--},start:function(){this.logic()},update:function(e){return this.logic(),this.resetTimes<=0&&(this.loaded=!0),this.resetTimes<=0?1:0},reset:function(){this.loaded=!1,this.resetTimes=2},weight:2}];for(var e=void 0,t=0,i=this.items.length;t<i;t++)(e=this.items[t]).weightTotal=(this.items[t-1]&&this.items[t-1].weightTotal||0)+e.weight;this.weightTotal=e.weightTotal},update:function(e){if(!this._itemsLoaded){this.item||(this.itemStartTime=Date.now(),this.item=this.items[this.itemIdx],this.item.reset(),this.item.start());var t=this.item.update();this.progress=(this.item.weightTotal-this.item.weight*(1-t))/this.weightTotal,this._updateProgress(),this.item.loaded&&(this.item=void 0,this.itemIdx++,this.itemIdx>=this.items.length?(this._itemsLoaded=!0,this._onLvLoaded()):this.update(e))}},_updateProgress:function(){this.loadingbar.width=this.loadingbarWidth*this.progress},_onLvLoaded:function(){this.node.active=!1,cc.$sdk.hideBanner(),cc.$game.onLevelLoaded(this._isContinue),cc.game.emit("GameRestart")}}),cc._RF.pop()},{Context:"Context",DataMgr:"DataMgr",SceneCtrl:"SceneCtrl",Trigger:"Trigger"}],Lift2Ctrl:[function(e,t,i){"use strict";cc._RF.push(t,"3c3a30P4fhMyLtrSrEwBWhQ","Lift2Ctrl");var o=e("Context"),n=e("Executor"),s=e("Trigger");cc.Class({extends:n,properties:{loop:{default:!1,tooltip:"\u662f\u5426\u6765\u56de\u79fb\u52a8"},awakeOnload:{default:!1,tooltip:"\u662f\u5426\u52a0\u8f7d\u540e\u81ea\u52a8\u89e6\u53d1"},points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:25e3,tooltip:"\u79fb\u52a8\u901f\u5ea6"},speedLimit:{default:100,tooltip:"\u79fb\u52a8\u901f\u5ea6\u9650\u5236"}},start:function(){this.forceScale=1,this.tempV2=new cc.Vec2,this._linearVelocity=new cc.Vec2,this.liftNode=this.node.getChildByName("lift"),this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._hasTrigger=!1,this._reset(),this._check()},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},gameUpdate:function(e){if(this._check()&&this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this._setNextPoint()}if(this._executing){this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var t=o.getLength(this.tempV2);o.getLength(this.rigidBody.linearVelocity);this.rigidBody.applyForceToCenter(this._linearVelocity),this.liftNode.x=0,t<20&&(this._positive?(this.pointIdx++,this.pointIdx>=this.points.length-1&&(this.loop?(this._positive=!1,this._setNextPoint()):(this._executing=!1,this._stop()))):(this.pointIdx--,0===this.pointIdx&&(this._positive=!0,this._setNextPoint()))),this.targetDistance=t}}},execute:function(e){this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0,s.add(this)))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset(),s.remove(this)},_setNextPoint:function(){var e=this.points[this.pointIdx],t=this.points[this.pointIdx+(this._positive?1:-1)];this.tempV2.x=t.x-e.x,this.tempV2.y=t.y-e.y,this.targetDistance=o.getLength(this.tempV2),this.curPhaseTime=this.targetDistance/this.speed,this.targetPoint=t,this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var i=o.getCcAngleByVector(this.tempV2),n=o.angleToDegree(i);this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type!==cc.RigidBodyType.Dynamic&&(this.rigidBody.type=cc.RigidBodyType.Dynamic),this.rigidBody.resetVelocity();var s=this.rigidBody.getMass();this._linearVelocity.x=s*this.speed*Math.cos(n),this._linearVelocity.y=s*this.speed*Math.sin(n)},_stop:function(){this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0},_reset:function(){this._executing=!1,this._positive=!0,this._delay=-1,this.pointIdx=0,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0,Math.abs(this.liftNode.x-this.points[0].x)>5&&(this.liftNode.x=this.points[0].x),Math.abs(this.liftNode.y-this.points[0].y)>5&&(this.liftNode.y=this.points[0].y),this.curPhaseTime=0}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",Trigger:"Trigger"}],Lift2HorizontalCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"09fd2KjKA9E3prfl4Rx0snX","Lift2HorizontalCtrl");var o=e("Context"),n=e("Executor"),s=e("Trigger");cc.Class({extends:n,properties:{loop:{default:!1,tooltip:"\u662f\u5426\u6765\u56de\u79fb\u52a8"},awakeOnload:{default:!1,tooltip:"\u662f\u5426\u52a0\u8f7d\u540e\u81ea\u52a8\u89e6\u53d1"},points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:25e3,tooltip:"\u79fb\u52a8\u901f\u5ea6"},speedLimit:{default:100,tooltip:"\u79fb\u52a8\u901f\u5ea6\u9650\u5236"}},start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.forceScale=1,this.tempV2=new cc.Vec2,this._linearVelocity=new cc.Vec2,this.liftNode=this.node.getChildByName("lift"),this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._hasTrigger=!1,this._reset(),this._check())},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},gameUpdate:function(e){if(this._check()&&this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this._setNextPoint()}if(this._executing){this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var t=o.getLength(this.tempV2);o.getLength(this.rigidBody.linearVelocity)<this.speedLimit&&this.rigidBody.applyForceToCenter(this._linearVelocity),this.liftNode.y=0,t<20&&(this._positive?(this.pointIdx++,this.pointIdx>=this.points.length-1&&(this.loop?(this._positive=!1,this._setNextPoint()):(this._executing=!1,this._stop()))):(this.pointIdx--,0===this.pointIdx&&(this._positive=!0,this._setNextPoint()))),this.targetDistance=t}}},execute:function(e){this._init(),this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0,s.add(this)))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset(),s.remove(this)},_setNextPoint:function(){var e=this.points[this.pointIdx],t=this.points[this.pointIdx+(this._positive?1:-1)];this.tempV2.x=t.x-e.x,this.tempV2.y=t.y-e.y,this.targetDistance=o.getLength(this.tempV2),this.curPhaseTime=this.targetDistance/this.speed,this.targetPoint=t,this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var i=o.getCcAngleByVector(this.tempV2),n=o.angleToDegree(i);this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type!==cc.RigidBodyType.Dynamic&&(this.rigidBody.type=cc.RigidBodyType.Dynamic),this.rigidBody.resetVelocity();var s=this.rigidBody.getMass();this._linearVelocity.x=s*this.speed*Math.cos(n),this._linearVelocity.y=s*this.speed*Math.sin(n)},_stop:function(){this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0},_reset:function(){this._executing=!1,this._positive=!0,this._delay=-1,this.pointIdx=0,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0,Math.abs(this.liftNode.x-this.points[0].x)>5&&(this.liftNode.x=this.points[0].x),Math.abs(this.liftNode.y-this.points[0].y)>5&&(this.liftNode.y=this.points[0].y),this.curPhaseTime=0}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",Trigger:"Trigger"}],LiftCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"e98e3FozNNKD7v5S18enO+u","LiftCtrl");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{loop:{default:!1,tooltip:"\u662f\u5426\u6765\u56de\u79fb\u52a8"},awakeOnload:{default:!1,tooltip:"\u662f\u5426\u52a0\u8f7d\u540e\u81ea\u52a8\u89e6\u53d1"},points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:25e3,tooltip:"\u79fb\u52a8\u901f\u5ea6"}},start:function(){this.forceScale=1,this.tempV2=new cc.Vec2,this._linearVelocity=new cc.Vec2,this.liftNode=this.node.getChildByName("lift"),this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._hasTrigger=!1,this._reset(),this._check()},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},update:function(e){if(this._check()&&this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this._setNextPoint()}if(this._executing){this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var t=o.getLength(this.tempV2);this.tempV2.x=this._linearVelocity.x*this.forceScale,this.tempV2.y=this._linearVelocity.y*this.forceScale,this.rigidBody.applyForceToCenter(this.tempV2),this.liftNode.x=0,t<20&&(this._positive?(this.pointIdx++,this.pointIdx>=this.points.length-1&&(this.loop?(this._positive=!1,this._setNextPoint()):(this._executing=!1,this._stop()))):(this.pointIdx--,0===this.pointIdx&&(this._positive=!0,this._setNextPoint()))),this.targetDistance=t}}},execute:function(e){this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset()},_setNextPoint:function(){var e=this.points[this.pointIdx],t=this.points[this.pointIdx+(this._positive?1:-1)];this.tempV2.x=t.x-e.x,this.tempV2.y=t.y-e.y,this.targetDistance=o.getLength(this.tempV2),this.curPhaseTime=this.targetDistance/this.speed,this.targetPoint=t,this.tempV2.x=this.targetPoint.x-this.liftNode.x,this.tempV2.y=this.targetPoint.y-this.liftNode.y;var i=o.getCcAngleByVector(this.tempV2),n=o.angleToDegree(i);this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._linearVelocity.x=this.speed*Math.cos(n),this._linearVelocity.y=this.speed*Math.sin(n),this.rigidBody.type!==cc.RigidBodyType.Dynamic&&(this.rigidBody.type=cc.RigidBodyType.Dynamic)},_stop:function(){this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0},_reset:function(){this._executing=!1,this._positive=!0,this._delay=-1,this.pointIdx=0,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0,Math.abs(this.liftNode.x-this.points[0].x)>5&&(this.liftNode.x=this.points[0].x),Math.abs(this.liftNode.y-this.points[0].y)>5&&(this.liftNode.y=this.points[0].y),this.curPhaseTime=0}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],LiftLowerCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"1f89aNQ2KpLY58Dt85LnXVH","LiftLowerCtrl");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:1e3,tooltip:"\u79fb\u52a8\u901f\u5ea6"}},start:function(){this._init(),this._reset(),this._check()},_init:function(){this._hasInit||(this._hasInit=!0,this.tempV2=new cc.Vec2,this._linearVelocity=new cc.Vec2,this.liftNode=this.node.getChildByName("lift"),this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._hasTrigger=!1)},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},update:function(e){if(this._check()&&this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Dynamic}if(this._executing){this.tempV2.x=this.points[1].x-this.liftNode.x,this.tempV2.y=this.points[1].y-this.liftNode.y;var t=o.getLength(this.tempV2),i=this.rigidBody.getMass()*this.speed;this._linearVelocity.x=0,this._linearVelocity.y=i,this.rigidBody.applyForceToCenter(this._linearVelocity),this.liftNode.x=0,t<20&&(this._executing=!1,this._stop())}}},execute:function(e){this._init(),this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0))},onGameRestart:function(){this._init(),this._stop(),this._reset()},_stop:function(){this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static},_reset:function(){this._hasTrigger=!1,this._executing=!1,this._delay=-1,this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,Math.abs(this.liftNode.x-this.points[0].x)>5&&(this.liftNode.x=this.points[0].x),Math.abs(this.liftNode.y-this.points[0].y)>5&&(this.liftNode.y=this.points[0].y)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],LiftUpperCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"f04b5wb7QRBB6Q+/wM6GxT1","LiftUpperCtrl");e("Context");var o=e("Executor");cc.Class({extends:o,start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.liftNode=this.node.getChildByName("lift"),this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this._hasTrigger=!1)},update:function(e){if(this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Dynamic}this._executing&&(this.liftNode.x=0)}},execute:function(e){this._init(),this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0)},onGameRestart:function(){this._init(),this._stop(),this._reset()},_stop:function(){this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static},_reset:function(){this._hasTrigger=!1,this._executing=!1,this._delay=-1,this.rigidBody=this.liftNode.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,this.liftNode.x=0,this.liftNode.y=0}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],Loading:[function(e,t,i){"use strict";cc._RF.push(t,"a1eccjqKoNEOJtMT4+4zS0U","Loading");var o=e("Context"),n=e("XxxSdk");e("sdk"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)},onLoadSubpackageCallback:function(e){if(this.loading=!1,this.process=this.subPkg.weight,this.subPkgIdx++,e)return console.error(e),void console.log("cases/subpackage.failed");console.log("cases/subpackage.complete")},start:function(){cc.debug.setDisplayStats(!1),this.loadingbar=this.node.getChildByName("loadingbarBg").getChildByName("loadingbar"),this.process=0,this.loading=!1,this.loadingbarWidth=280,this.subPkgIdx=0,this.subPkgLoaded=!1,this.subpackages=[{name:"subpackages/animation",weight:25},{name:"subpackages/res",weight:75},{name:"subpackages/sound",weight:100}],this.step=0;var e=new n;e.appId="wxbddc07f24880633e",e.start(),this.writeLocalData()},update:function(e){switch(this.step){case 0:this._updateStep0(e);break;case 2:this._updateStep2(e);break;case 4:this._updateStep4(e);break;case 6:this._updateStep6(e)}},_updateStep0:function(e){this.subPkgLoaded||(this.loading?this.process<this.subPkg.weight&&(this.process+=10*e,this.loadingbar.width=this.loadingbarWidth/100*.2*this.process):this.subPkgIdx<this.subpackages.length?window.wx?(this.loading=!0,this.subPkg=this.subpackages[this.subPkgIdx],cc.loader.downloader.loadSubpackage(this.subPkg.name,this.onLoadSubpackageCallback.bind(this))):this.subPkgIdx++:(console.log("\u5206\u5305\u52a0\u8f7d\u5b8c\u6bd5!"),this.subPkgLoaded=!0,this.step+=2))},_updateStep2:function(e){for(var t=[],i=1;i<=6;i++)t.push("motik/3/entity/000/body/"+i),t.push("motik/3/entity/000/head/"+i),t.push("motik/3/entity/000/l/arm/1/"+i),t.push("motik/3/entity/000/l/arm/2/"+i),t.push("motik/3/entity/000/r/arm/1/"+i),t.push("motik/3/entity/000/r/arm/2/"+i),t.push("motik/3/entity/000/l/leg/1/"+i),t.push("motik/3/entity/000/l/leg/2/"+i),t.push("motik/3/entity/000/r/leg/1/"+i),t.push("motik/3/entity/000/r/leg/2/"+i),t.push("base/"+i),t.push("wheel/"+i+"#1"),t.push("wheel/"+i+"#2"),t.push("obtekatel/"+i);t.push("wheel/super");var n=this;cc.loader.loadResArray(t,cc.SpriteFrame,function(e,i,o){n.progress=e/Math.max(i,t.length),n.loadingbar.width=n.loadingbarWidth/100*(.2+.2*n.process)},function(e,i){o.spriteMap=o.spriteMap||{};for(var s=0;s<i.length;s++)o.spriteMap[t[s]]=i[s];n.step++}),n.step++},_updateStep4:function(e){var t=["https://xcxapi-hyh.715083.com/res/motorbike2/music/mb_menu_music.mp3","https://xcxapi-hyh.715083.com/res/motorbike2/music/mb_ingame_music.mp3"],i=this;cc.loader.load(t,function(e,n){o.audioMap=o.audioMap||{},o.audioMap.mb_menu_music=n.getContent(t[0]),o.audioMap.mb_ingame_music=n.getContent(t[1]),i.step++}),i.step++},_updateStep6:function(e){var t=this;cc.director.preloadScene("Layout 1",function(e,i,o){t.loadingbar.width=t.loadingbarWidth*(.6+e/Math.max(1,i)*.4)},function(){cc.director.loadScene("Layout 1",function(e){e&&console.log(e),console.log("\u573a\u666f\u9884\u52a0\u8f7d\u5b8c\u6bd5!"),t.node&&(t.node.active=!1)})}),t.step++},writeLocalData:function(){console.log("124666");var e=(new Date).getDate();cc.$sdk.getLocalDataString("nowday")!=e?(cc.$sdk.setLocalData("nowday",e),cc.$sdk.setLocalData("goto",0),cc.$sdk.setLocalData("_curLevel",0),cc.$sdk.setLocalData("_curtimes",0),cc.$sdk.setLocalData("skinNum",0)):(cc.$sdk.local._curLevel=cc.$sdk.getLocalDataString("_curLevel"),cc.$sdk.local._curtimes=cc.$sdk.getLocalDataString("_curtimes"))}}),cc._RF.pop()},{Context:"Context",XxxSdk:"XxxSdk",sdk:"sdk"}],MotorCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"3cf8bgTzYpAH6mKnrUS7SEt","MotorCtrl");var o=e("AudioCtrl"),n=e("RoleAniCtrl"),s=e("ParticleSystemCollider"),a=e("ParticleSystem"),r=e("GameCtrl"),c=e("WheelCtrl"),d=e("AcceleratorTrigger"),l=e("Context"),h=e("Debug"),g=cc.Class({extends:cc.Component,properties:{role:{type:cc.Node,default:null},bodyColliderNode:{type:cc.Node,default:null,tooltip:"\u8eab\u4f53\u78b0\u649e\u903b\u8f91\u8282\u70b9"},backSpring2:{type:cc.Node,default:null,tooltip:"\u8f66\u8eab\u4e0e\u94fe\u6761\u7684\u8fde\u63a5\u70b9"},obtekatel:{type:cc.Node,default:null,tooltip:"\u8f66\u5934"},frontWheel:{type:cc.Node,default:null,tooltip:"\u524d\u8f6e"},backWheel:{type:cc.Node,default:null,tooltip:"\u540e\u8f6e"},wheelCtrl:{type:c,default:null,tooltip:"\u540e\u8f6e\u63a7\u5236\u7c7b"},audio:{type:o,default:null},aniCtrl:{type:n,default:null,tooltip:"\u89d2\u8272\u52a8\u753b\u63a7\u5236\u7c7b"},explosion:{type:cc.Node,default:null,tooltip:"\u7206\u70b8\u6548\u679c\u8282\u70b9"},motor:{type:cc.Node,default:null,tooltip:"\u6469\u6258\u8f66\u8282\u70b9:Motor"},game:{type:r,default:null,tooltip:"\u6e38\u620f\u7ba1\u7406\u7c7b"},speedLimit:{default:1500,tooltip:"\u901f\u5ea6\u9650\u5236"},speedUpForce:{default:1e5,tooltip:"\u52a0\u901f\u529b\u91cf"},speedUpAngle:{default:-10,tooltip:"\u76f8\u5bf9\u5730\u9762\u7684\u52a0\u901f\u89d2\u5ea6\u3002\u6b63\u6570\u9006\u65f6\u9488\u65cb\u8f6c"},torque:{default:1e4,tooltip:"\u7a7a\u4e2d\u65cb\u8f6c\u626d\u529b"},debug:{type:h,default:null,tooltip:"\u8c03\u8bd5\u9009\u9879"}},isInSpeedLimit:function(){return this.curSpeed<this._getSpeedLimit()},_getSpeedLimit:function(){return cc.$context.acceleratorBreaker&&Math.abs(cc.$context.getAngleDiff(cc.$context.acceleratorBreaker.node.angle,this.node.angle))<90?cc.$context.acceleratorBreaker.speedLimit:this.speedLimit*this.forceTrigger*l.getSpecialSpeedupRatio()},onKeyDown:function(e){var t=e.keyCode;if(this.game.state===r.State.Idle||this.game.state===r.State.Playing||this.game.state===r.State.Final)switch(t){case p.f5:return void window.location.reload();case p.a:return void cc.game.emit("GameRestart")}if(this.game.state===r.State.Idle||this.game.state===r.State.Playing)switch(t){case p.up:this._playerControlStart(),this.isUpKeyPressed=!0;break;case p.down:this._playerControlStart(),this.isDownKeyPressed=!0;break;case p.left:this._playerControlStart(),this.isLeftKeyPressed=!0;break;case p.right:this._playerControlStart(),this.isRightKeyPressed=!0}},_playerControlStart:function(){if(this.game.state===r.State.Idle){this.game.state=r.State.Playing;for(var e=0;e<this.motorChildrenName.length;e++){var t=this.motorChildrenName[e],i=this.motor.getChildByName(t).getComponent(cc.RigidBody);i.type=cc.RigidBodyType.Dynamic,"BackWheel"===t&&(i.fixedRotation=!1)}this.applyJoint(),this._updateRole()}},onKeyUp:function(e){this.releaseKey(e.keyCode)},_updateKey:function(){this.isUpKeyPressed&&this.pressKey(p.up),this.isDownKeyPressed&&this.pressKey(p.down),this.isLeftKeyPressed&&this.pressKey(p.left),this.isRightKeyPressed&&this.pressKey(p.right)},pressKey:function(e){if(this.game.state!==r.State.Lose){if(this.game.state===r.State.Idle||this.game.state===r.State.Playing)switch(e){case p.up:this._playerControlStart(),this._onUpKeyPressed();break;case p.down:this._playerControlStart(),this._onDownKeyPressed();break;case p.right:this._playerControlStart(),this._onRightKeyPressed();break;case p.left:this._playerControlStart(),this._onLeftKeyPressed()}}else cc.game.emit("GameRestart")},releaseKey:function(e){switch(this._speedUpRatio>.1&&(this._speedUpRatio-=this.dt,this._speedUpRatio=Math.max(.1,this._speedUpRatio)),e){case p.up:this.aniCtrl.onUpKeyReleased(),this.isUpKeyPressed=!1;break;case p.down:this.aniCtrl.onDownKeyReleased(),this.isDownKeyPressed=!1;break;case p.left:this.aniCtrl.onLeftKeyReleased(),this.isLeftKeyPressed=!1,delete this._startRotationInfo;break;case p.right:this.aniCtrl.onRightKeyReleased(),this.isRightKeyPressed=!1,delete this._startRotationInfo}},_onUpKeyPressed:function(){this.isUpKeyPressed||cc.game.emit("SpeedUp"),this.isUpKeyPressed=!0,this.aniCtrl.onUpKeyPressed(),this._speedUp()},_onRightKeyPressed:function(){this.isRightKeyPressed=!0,this._isOnGround()?(this.tempV2.x=0,this.tempV2.y=15e3,this.backSpring2Body.applyForceToCenter(this.tempV2),this.baseBody.applyAngularImpulse(-this.torque,!0),this.aniCtrl.onRightKeyPressed()):this._rotateMotor(!1)},_onDownKeyPressed:function(){this.isDownKeyPressed=!0,this._isOnGround()&&this.slowDown(.8)},_onLeftKeyPressed:function(){this.isLeftKeyPressed=!0,this._isOnGround()?(this.tempV2.x=0,this.tempV2.y=15e3,this.obtekatelBody.applyForceToCenter(this.tempV2),this.baseBody.applyAngularImpulse(this.torque,!0),this.aniCtrl.onLeftKeyPressed()):this._rotateMotor(!0)},_rotateMotor:function(e){this._recordCurMotorPos(),this.baseBody.angularVelocity=0;var t=180*this.dt;this.baseBody.node.angle+=e?t:-t;for(var i=void 0,o=this.baseBody.node.angle-this._startRotationInfo.startAngle,n=this.motor.getChildByName("Base"),s=0;s<l.motorChildrenName.length;s++){var a=l.motorChildrenName[s];if("Base"!==a){i=this.motor.getChildByName(a);var r=this._startRotationInfo[a],c=r.angle+o;i.x=n.x+r.distance*Math.cos(l.angleToDegree(c)),i.y=n.y+r.distance*Math.sin(l.angleToDegree(c))}}},_recordCurMotorPos:function(){if(!this._startRotationInfo){var e=this.motor.getChildByName("Base"),t=void 0,i=new cc.Vec2;this._startRotationInfo={startAngle:e.angle};for(var o=0;o<l.motorChildrenName.length;o++){var n=l.motorChildrenName[o];"Base"!==n&&(t=this.motor.getChildByName(n),i.x=t.x-e.x,i.y=t.y-e.y,this._startRotationInfo[n]={distance:l.getLength(i),angle:l.getCcAngleByVector(i)})}}},_saveDriveMode:function(){if(this._isOnGround()){var e=this.motor.getChildByName("Base"),t=this.motor.getChildByName("BackWheel");this._backPoint=this._backPoint||new cc.Vec2(-70,0),this._frontPoint=this._frontPoint||new cc.Vec2(70,0);var i=this._getAngleDiff(e,t);if(i>0&&i<40){var o=(40-i)/2,n=e.getComponent(cc.RigidBody),s=l.angleToDegree(e.angle),a=200*o*o;this._forceV2.x=-Math.sin(s)*a,this._forceV2.y=Math.cos(s)*a,n.getWorldPoint(this._backPoint,this._pointV2),n.applyForce(this._forceV2,this._pointV2,!0)}}},_getAngleDiff:function(e,t){this.tempV2.x=e.x-t.x,this.tempV2.y=e.y-t.y;for(var i=l.getCcAngleByVector(this.tempV2)-e.angle;i<-180;)i+=360;for(;i>180;)i-=360;return i},_speedUp:function(){this._isOnGround()&&this.isInSpeedLimit()&&(this._speedUpRatio<1&&(this._speedUpRatio+=this.dt/.5,this._speedUpRatio=Math.min(this._speedUpRatio,1)),this._applyForce2(),this._isLowSpeedForward()&&(this.partSoil.play(),this.partSpark.play(),this.partSmokeWheel.play()))},_isLowSpeedForward:function(){var e=this.baseBody.linearVelocity,t=l.getCcAngleByVector(e);return Math.abs(l.getAngleDiff(this.node.angle,t))>90||this.curSpeed<200},slowDown:function(e,t){void 0===e&&(e=.98);var i=e,o=void 0;if(t)return o=this.motor.getChildByName(t).getComponent(cc.RigidBody),void this._slowDown(o,i);for(var n=0,s=this.motor.children.length;n<s;n++)o=this.motor.children[n].getComponent(cc.RigidBody),this._slowDown(o,i)},_slowDown:function(e,t){if(e){var i=this.baseBody.linearVelocity;i.x*=t,i.y*=t,e.linearVelocity=i}},pushBack:function(e){e+=180;var t=this.node.getComponent(cc.RigidBody).linearVelocity,i=cc.$context.getCcAngleByVector(t);if(!(Math.abs(cc.$context.getAngleDiff(e,i))<90&&this.curSpeed>Math.abs(this._getSpeedLimit()))){t=new cc.Vec2;var o=l.angleToDegree(e);t.x=2e3*Math.cos(o),t.y=2e3*Math.sin(o);for(var n=0,s=this.motor.children.length;n<s;n++)this.motor.children[n].getComponent(cc.RigidBody)&&this.baseBody.applyForceToCenter(t)}},_applyForce:function(){var e=(this.speedUpAngle+this.baseBody.node.angle)/180*Math.PI,t=this.speedUpForce*this.forceTrigger;this.tempV2.x=t*Math.cos(e),this.tempV2.y=t*Math.sin(e),this.backWheelBody.applyForceToCenter(this.tempV2),this.frontWheelBody.applyForceToCenter(this.tempV2),this.baseBody.applyForceToCenter(this.tempV2)},_applyForce2:function(){if(this._isInAcceleratorArea())this._acceleratorSpeedUp();else{var e=(this.speedUpAngle+this.baseBody.node.angle)/180*Math.PI,t=this.speedUpForce*this.forceTrigger*l.getSpecialSpeedupRatio()*this._speedUpRatio;this.tempV2.x=t*Math.cos(e),this.tempV2.y=t*Math.sin(e),this.baseBody.applyForceToCenter(this.tempV2),this.wheelCtrl.isOnGround()&&(this.tempV2.x=t*Math.cos(Math.PI/6),this.tempV2.y=t*Math.sin(Math.PI/6),this.backWheelBody.applyForceToCenter(this.tempV2)),e=(this.baseBody.node.angle-0)/180*Math.PI,this.tempV2.x=t*Math.cos(e),this.tempV2.y=t*Math.sin(e),this.frontWheelBody.applyForceToCenter(this.tempV2)}},_acceleratorSpeedUp:function(){for(var e=this.acceleratorNode.angle;e<0;)e+=360;for(;e>360;)e-=360;e>90&&e<180&&(e=90+(e-90)/2-20);var t=e/180*Math.PI,i=this.speedUpForce*Math.max(1,this.forceTrigger)*this._speedUpRatio;this.tempV2.x=i*Math.cos(t),this.tempV2.y=i*Math.sin(t),this.baseBody.applyForceToCenter(this.tempV2),this.frontWheelBody.applyForceToCenter(this.tempV2),this.backWheelBody.applyForceToCenter(this.tempV2)},_isInAcceleratorArea:function(){return this.accelerator&&!this.accelerator.$stayTime},_isOnGround:function(){return!!this.wheelCtrl.isOnGround()||this._leftGroundTime<.1},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.director.off(cc.Director.EVENT_AFTER_UPDATE,this._updateRole,this),cc.game.off("GameRestart",this.onGameRestart,this),cc.game.off("GameStart",this.onGameStart,this),cc.game.off("TriggerAcceleratorStart",this.onTriggerAcceleratorStart,this),cc.game.off("TriggerAcceleratorEnd",this.onTriggerAcceleratorEnd,this),cc.game.off("TriggerTrick",this.onTriggerTrick,this),cc.game.off("TriggerTrickEnd",this.onTriggerTrickEnd,this),cc.game.off("TriggerBox",this.onTriggerBox,this)},_updateRole:function(){this.role.x=this.node.x,this.role.y=this.node.y,this.role.angle=this.node.angle,this._saveDriveMode()},start:function(){this.state=g.State.None,this.forceTrigger=1,this._speedUpRatio=.1,this._leftGroundTime=0,this.isUpKeyPressed=!1,this.isRightKeyPressed=!1,this.isLeftKeyPressed=!1,this._isMotorShow=!0,this._isMotorReady=!0,l.motor=this.motor,l.motorCtrl=this,this.backWheel=this.motor.getChildByName("BackWheel"),this.frontWheel=this.motor.getChildByName("FrontWheel"),this.backWheelCtrl=this.backWheel.getComponent(c),this.frontWheelCtrl=this.frontWheel.getComponent(c),this.partSmokeEngine=this.node.getChildByName("PartSmokeEngine").getComponent(a),this.partSoil=this.node.getChildByName("PartSoil").getComponent(s),this.partSpark=this.node.getChildByName("PartSpark").getComponent(s),this.partSmokeWheel=this.node.getChildByName("PartSmokeWheel").getComponent(a),this.backSpring2Body=this.backSpring2.getComponent(cc.RigidBody),this.baseBody=this.node.getComponent(cc.RigidBody),this.bodyBody=this.role.getComponent(cc.RigidBody),this.obtekatelBody=this.obtekatel.getComponent(cc.RigidBody),this.backWheelBody=this.backWheel.getComponent(cc.RigidBody),this.frontWheelBody=this.frontWheel.getComponent(cc.RigidBody),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.director.on(cc.Director.EVENT_AFTER_UPDATE,this._updateRole,this),cc.game.on("GameStart",this.onGameStart,this),cc.game.on("GameRestart",this.onGameRestart,this),cc.game.on("PostGameRestart",this.onPostGameRestart,this),cc.game.on("TriggerAcceleratorStart",this.onTriggerAcceleratorStart,this),cc.game.on("TriggerAcceleratorEnd",this.onTriggerAcceleratorEnd,this),cc.game.on("TriggerTrick",this.onTriggerTrick,this),cc.game.on("TriggerTrickEnd",this.onTriggerTrickEnd,this),cc.game.on("TriggerBox",this.onTriggerBox,this),this.tempV2=new cc.Vec2,this._forceV2=new cc.Vec2,this._pointV2=new cc.Vec2,this.curSpeed=0,this.motor||(this.motor={}),this._record(),this._reset()},update:function(e){if(this._updateMotorState(),"menu"!==cc.$game.state){switch(this.dt=e,this._calcSpeed(),this._updateAcceleratorBreaker(e),this._updateAcceleratorAngle(e),this._updateAutoAngleBuff(e),this._fixAngle(e),this._updateAcceleratorState(e),this._updateAcceleratorSuper(e),this.wheelCtrl.isOnGround()?this._leftGroundTime=0:this._leftGroundTime+=e,this.state){case g.State.None:this._doCommonLogic(e);break;case g.State.Trick:this._doTrickLogic(e)}this._updateKey()}},_isInSuperAccelerator:function(){return this.acceleratorNode&&"acceleratorsuper"===this.acceleratorNode.name},_updateAcceleratorSuper:function(e){if(this._isInSuperAccelerator()&&!(Math.abs(l.getAngleDiff(this.node.angle,this.acceleratorNode.angle))>30)){var t=2200,i=this.acceleratorNode.angle/180*Math.PI,o=t*this.baseBody.getMass();this.tempV2.x=o*Math.cos(i),this.tempV2.y=o*Math.sin(i),this.baseBody.applyForceToCenter(this.tempV2);var n=l.formatAngle(this.acceleratorNode.angle);n>90&&n<135?t*=(n-90)/2:n>=135&&n<180&&(t*=(n-90)/10),i=(this.acceleratorNode.angle-30)/180*Math.PI;var s=t*this.backWheelBody.getMass();this.tempV2.x=s*Math.cos(i),this.tempV2.y=s*Math.sin(i),this.backWheelBody.applyForceToCenter(this.tempV2);var a=t*this.frontWheelBody.getMass();this.tempV2.x=a*Math.cos(i),this.tempV2.y=a*Math.sin(i),this.frontWheelBody.applyForceToCenter(this.tempV2)}},_updateAcceleratorAngle:function(e){if(!this.wheelCtrl.isOnGround()&&this._isInAcceleratorArea()&&this.accelerator.autoFixAngle){var t=l.getAngleDiff(this.acceleratorNode.angle,this.node.angle);if(Math.abs(t)>30){var i=2e3*Math.min(e,25);t>0?this.node.angle+=i:this.node.angle-=i}}},_updateAcceleratorBreaker:function(e){cc.$context.acceleratorBreaker&&this._getSpeedLimit()>0&&this.curSpeed>this._getSpeedLimit()&&this.slowDown(.98)},_updateAutoAngleBuff:function(e){this.autoAngleBuff&&(this.autoAngleBuff.left-=e,this.autoAngleBuff.left<0&&this._isOnGround()&&delete this.autoAngleBuff)},_fixAngle:function(e){if(!this._isInAcceleratorArea()&&this.autoAngleBuff&&!this._isOnGround()&&!this.isLeftKeyPressed&&!this.isRightKeyPressed){var t=l.getCcAngleByVector(this.baseBody.linearVelocity);if(0!==t.x||0!==t.y){var i=l.formatAngle(this.node.angle),o=Math.abs(l.getAngleDiff(t,i));if(o>1){o>5&&(this.baseBody.angularVelocity=0);var n=200*e;n=Math.min(n,o),this.node.angle+=n*(t>i?1:-1)}}}},_isAnyKeyPressed:function(){return this.isUpKeyPressed||this.isLeftKeyPressed||this.isRightKeyPressed},_doCommonLogic:function(e){},_doTrickLogic:function(){},_calcSpeed:function(){this.lastSpeed=this.curSpeed;var e=this.node.getComponent(cc.RigidBody).linearVelocity;this.curSpeed=Math.sqrt(e.x*e.x+e.y*e.y)},_record:function(){this.motorPos||(this.motorPos={}),this.motorChildrenName=["Base","BackWheel","FrontWheel","FrontSpring","BackSpring","FrontSpring2","BackSpring2","BackSpring3","Obtekatel"];for(var e=0;e<this.motorChildrenName.length;e++){var t=this.motorChildrenName[e],i=this.motor.getChildByName(t),o=i.getComponent(cc.Joint),n=o&&o.referenceAngle||0;this.motorPos[t]={x:i.x,y:i.y,angle:n}}},onGameStart:function(){this.state=g.State.None,this.partSmokeEngine.play()},onGameRestart:function(){this.state=g.State.None,this.partSmokeEngine.play(),this.isUpKeyPressed=!1,this.isDownKeyPressed=!1,this.isLeftKeyPressed=!1,this.isRightKeyPressed=!1},onPostGameRestart:function(){this._reset()},onTriggerAcceleratorStart:function(e){this.acceleratorNode=e,this.accelerator=e.getComponent(d),this.forceTrigger=1+this.accelerator.speedUpRatio},onTriggerAcceleratorEnd:function(){this.accelerator&&this.accelerator.stay&&this.accelerator.stayTime?this.accelerator.$stayTime=this.accelerator.stayTime:(this.acceleratorNode=void 0,this.accelerator=void 0),this.forceTrigger=1,this.autoAngleBuff={left:2}},_updateAcceleratorState:function(e){this._isInAcceleratorArea()&&!this.isInSpeedLimit()&&this.curSpeed>this._getSpeedLimit()+100&&this.slowDown(),this.accelerator&&this.accelerator.$stayTime>0&&(this.accelerator.$stayTime-=e,this.accelerator.$stayTime<=0?(delete this.accelerator.$stayTime,this.acceleratorNode=void 0,this.accelerator=void 0):this._fixAccelerator(e))},_fixAccelerator:function(e){var t=this.acceleratorNode.angle;this.node.angle=t;var i=Math.PI*t/180;this.tempV2.x=this.curSpeed*Math.cos(i),this.tempV2.y=this.curSpeed*Math.sin(i),this.baseBody.linearVelocity=this.tempV2,this.frontWheelBody.linearVelocity=this.tempV2},onTriggerTrick:function(){this.state=g.State.Trick},onTriggerTrickEnd:function(){this.state=g.State.None},onTriggerBox:function(){this.slowDown(.7)},_reset:function(){if(!this.debug.reliveAnyWhere){var e=this.game.getRelivePos();this.motor.parent.x=e.x,this.motor.parent.y=e.y-60}for(var t=0;t<this.motorChildrenName.length;t++){var i=this.motorChildrenName[t],o=this.motor.getChildByName(i),n=this.motorPos[i];o.x=n.x,o.y=n.y,o.angle=n.angle;var s=o.getComponent(cc.RigidBody);s.resetVelocity(),s.type=cc.RigidBodyType.Dynamic,"BackWheel"===i&&(s.fixedRotation=!0)}this.applyJoint(),this._updateRole()},applyJoint:function(){for(var e=0;e<this.motorChildrenName.length;e++)for(var t=this.motorChildrenName[e],i=this.motor.getChildByName(t).getComponents(cc.Joint),o=void 0,n=0;n<i.length;n++)(o=i[n]).enabled&&o.apply()},_isMotorPartsJoint:function(){for(var e=0;e<this.motorChildrenName.length;e++){var t=this.motorChildrenName[e],i=this.motor.getChildByName(t),o=this.motorPos[t];if(Math.abs(i.x-o.x)>10)return!1;if(Math.abs(i.y-o.y)>10)return!1;if(Math.abs(i.angle-o.angle)>10)return!1}return!0},setMotorActive:function(e){if(e){this._isMotorShow=!0,this._isMotorReady=!1,this.motor.opacity=255;var t=cc.$game.node.getChildByName("layerMotor");this.motor.parent.parent!==t&&this.motor.parent.setParent(t);for(var i=0;i<this.motorChildrenName.length;i++){var o=this.motorChildrenName[i],n=this.motor.getChildByName(o);n.getComponent(cc.RigidBody).resetVelocity(),l.setColliderEnabled(n,!0)}}else{this._isMotorShow=!1,this._isMotorReady=!1,this.motor.opacity=0;for(var s=0;s<this.motorChildrenName.length;s++){var a=this.motorChildrenName[s],r=this.motor.getChildByName(a);r.getComponent(cc.RigidBody).resetVelocity(),l.setColliderEnabled(r,!1)}}},_updateMotorState:function(){if(!this._isMotorReady){for(var e=!0,t=0;t<this.motorChildrenName.length;t++){var i=this.motorChildrenName[t],o=this.motor.getChildByName(i).getComponent(cc.RigidBody);if(o._b2Body.m_world.m_locked){e=!1;break}o.resetVelocity(),o.type=this._isMotorShow?cc.RigidBodyType.Dynamic:cc.RigidBodyType.Static}this._isMotorReady=e}}}),p={up:38,down:40,left:37,right:39,a:65,f5:116};g.State={None:0,Trick:1},cc._RF.pop()},{AcceleratorTrigger:"AcceleratorTrigger",AudioCtrl:"AudioCtrl",Context:"Context",Debug:"Debug",GameCtrl:"GameCtrl",ParticleSystem:"ParticleSystem",ParticleSystemCollider:"ParticleSystemCollider",RoleAniCtrl:"RoleAniCtrl",WheelCtrl:"WheelCtrl"}],MoveCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"bbd53O22ghATpUL5iuQASAm","MoveCtrl");var o=e("Context"),n=e("Executor");cc.Class({extends:n,properties:{loop:{default:!1,tooltip:"\u662f\u5426\u6765\u56de\u79fb\u52a8"},awakeOnload:{default:!1,tooltip:"\u662f\u5426\u52a0\u8f7d\u540e\u81ea\u52a8\u89e6\u53d1"},points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:500,tooltip:"\u79fb\u52a8\u901f\u5ea6"}},start:function(){this.forceScale=1,this.tempV2=new cc.Vec2,this._linearVelocity=new cc.Vec2,this.rigidBody=this.node.getComponent(cc.RigidBody),this._hasTrigger=!1,this._reset(),this._check()},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},update:function(e){if(this._check()&&this._hasTrigger){if(-1!==this._delay){if(this._delay>0)return void(this._delay-=e);this._delay=-1,this._executing=!0,this._setNextPoint()}if(this._executing){this.tempV2.x=this.targetPoint.x-this.node.x,this.tempV2.y=this.targetPoint.y-this.node.y;var t=o.getLength(this.tempV2);this.tempV2.x=this._linearVelocity.x*this.forceScale,this.tempV2.y=this._linearVelocity.y*this.forceScale,this.rigidBody.applyForceToCenter(this.tempV2),this.node.x=13929,t<20&&(this._positive?(this.pointIdx++,this.pointIdx>=this.points.length-1&&(this.loop?(this._positive=!1,this._setNextPoint()):(this._executing=!1,this._stop()))):(this.pointIdx--,0===this.pointIdx&&(this._positive=!0,this._setNextPoint()))),this.targetDistance=t}}},execute:function(e){this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset()},_setNextPoint:function(){var e=this.points[this.pointIdx],t=this.points[this.pointIdx+(this._positive?1:-1)];this.tempV2.x=t.x-e.x,this.tempV2.y=t.y-e.y,this.targetDistance=o.getLength(this.tempV2),this.curPhaseTime=this.targetDistance/this.speed,this.targetPoint=t,this.tempV2.x=this.targetPoint.x-this.node.x,this.tempV2.y=this.targetPoint.y-this.node.y;var i=o.getCcAngleByVector(this.tempV2),n=o.angleToDegree(i);this.rigidBody=this.node.getComponent(cc.RigidBody),this._linearVelocity.x=this.speed*Math.cos(n),this._linearVelocity.y=this.speed*Math.sin(n),this.rigidBody.type!==cc.RigidBodyType.Dynamic&&(this.rigidBody.type=cc.RigidBodyType.Dynamic)},_stop:function(){this.rigidBody=this.node.getComponent(cc.RigidBody),this.rigidBody.type=cc.RigidBodyType.Static,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0},_reset:function(){this._executing=!1,this._positive=!0,this._delay=-1,this.pointIdx=0,this.rigidBody.resetVelocity(),this.rigidBody.linearVelocity.x=0,this.rigidBody.linearVelocity.y=0,Math.abs(this.node.x-this.points[0].x)>5&&(this.node.x=this.points[0].x),Math.abs(this.node.y-this.points[0].y)>5&&(this.node.y=this.points[0].y),this.curPhaseTime=0}}),cc._RF.pop()},{Context:"Context",Executor:"Executor"}],ParticleSystemColliderArrow:[function(e,t,i){"use strict";cc._RF.push(t,"0415fGyH9xDeJ3QLCQlxj+0","ParticleSystemColliderArrow");var o=e("ParticleSystemCollider");cc.Class({extends:o,updateNodes:function(e){this._super(e),this._syncAngle()},_syncAngle:function(){for(var e=void 0,t=this._nodes,i=t.length-1;i>=0;i--){e=t[i];var o=90-this._getAngleByVector(e.getComponent(cc.RigidBody).linearVelocity);Math.abs(e.angle-o)<60&&(e.angle=o)}}}),cc._RF.pop()},{ParticleSystemCollider:"ParticleSystemCollider"}],ParticleSystemColliderBox:[function(e,t,i){"use strict";cc._RF.push(t,"6f38eo9bA9BxLZrehdeWgY9","ParticleSystemColliderBox");var o=e("ParticleSystemCollider");cc.Class({extends:o,properties:{motor:{type:cc.Node,default:null}},_applyLinearVelocity:function(e){this.tempV2=this.tempV2||new cc.Vec2;var t=this.motor.getComponent(cc.RigidBody).linearVelocity,i=this.speed,o=(-90+this._getAngleByVector(t)+180*(.5-Math.random()))/180*Math.PI;this.tempV2.x=i*Math.cos(o),this.tempV2.y=i*Math.sin(o);var n=e.getComponent(cc.RigidBody);n.linearVelocity=this.tempV2,n.angularVelocity=180+90*Math.random()},_applyLinearImpulse:function(e){},_initPos:function(e){this.node.getWorldPosition(this._vec2),this._vec2.x=this._vec2.x-cc.winSize.width/2+80*(.5-Math.random()),this._vec2.y=this._vec2.y-cc.winSize.height/2+80*(.5-Math.random()),e.x=this._vec2.x,e.y=this._vec2.y}}),cc._RF.pop()},{ParticleSystemCollider:"ParticleSystemCollider"}],ParticleSystemCollider:[function(e,t,i){"use strict";cc._RF.push(t,"86335wYi/JARrPucundyR6m","ParticleSystemCollider");var o=cc.Enum({Continue:0,Random:1});cc.Class({extends:cc.Component,properties:{sprites:{type:[cc.SpriteFrame],default:[]},spriteType:{type:o,default:0},boost:{default:.5,tooltip:"\u53d1\u5c04\u65f6\u957f"},duration:{default:.05,tooltip:"\u53d1\u5c04\u95f4\u9694"},speed:{default:100,tooltip:"\u8d77\u59cb\u901f\u5ea6"},speedVar:{default:0,tooltip:"\u8d77\u59cb\u901f\u5ea6\u53d8\u91cf"},lifetime:{default:2,tooltip:"\u751f\u547d\u65f6\u957f"},scale:{default:1,tooltip:"\u7f29\u653e"},scaleVar:{default:0,tooltip:"\u7f29\u653e\u53d8\u91cf"},startOpacity:{default:255,tooltip:"\u8d77\u59cb\u900f\u660e\u5ea6"},endOpacity:{default:0,tooltip:"\u7ed3\u675f\u900f\u660e\u5ea6"},shotAngle:{default:90,tooltip:"\u53d1\u5c04\u89d2\u5ea6"},shotAngleVar:{default:0,tooltip:"\u53d1\u5c04\u89d2\u5ea6\u53d8\u91cf"},friction:{default:.2,tooltip:"\u6469\u64e6\u529b"},restitution:{default:.5,tooltip:"\u53cd\u5f39"},gravityScale:{default:1,tooltip:"\u91cd\u529b"},layer:{default:null,type:cc.Node},wakeOnLoad:{default:!1,tooltip:"\u8f7d\u5165\u540e\u81ea\u52a8\u64ad\u653e"}},start:function(){this._nodes=[],this._vec2=new cc.Vec2,this._nextShot=this.duration,this.playing=!1,this._pool=new cc.NodePool},onEnable:function(){cc.game.on("Camera",this._updateVisible,this)},onDisable:function(){var e=this._nodes;if(e)for(var t=e.length-1;t>=0;t--)this._recover(e[t],t);cc.game.off("Camera",this._updateVisible,this)},_recover:function(e,t){e.active=!1,e.removeFromParent(),this._nodes.removeAt(t),this._pool.put(e)},update:function(e){this.updateNodes(e),this.shot(e)},play:function(){this.playing=!0,this._boost=this.boost},stop:function(){this.playing=!1,this._boost=0},shot:function(e){if(this.playing){if(this._boost<=0)return this._boost=0,void(this.playing=!1);for(this._nextShot-=e;this._nextShot<=0&&this._boost>0;)this._shot(),this._nextShot+=this.duration,this._boost-=this.duration}},_shot:function(){var e=this._pool.get();if(null==e){(e=new cc.Node).group="DynamicScene";var t=e.addComponent(cc.Sprite);this.spriteType===o.Continue?t.spriteFrame=this.sprites[0]:t.spriteFrame=this.sprites[Math.floor(Math.random()*this.sprites.length)],e.$spriteIdx=0,e.sprites=this.sprites,this._addCollider(e)}e.active=!0,e.startOpacity=this.startOpacity,e.endOpacity=this.endOpacity,e.$opacity=this.startOpacity,e.scale=this.scale+this.scaleVar*(.5-Math.random()),e.$speed=this.speed+this.speedVar*(.5-Math.random());var i=this.shotAngleVar*(.5-Math.random());e.$shotRotation=this.shotAngle+this.node.parent.angle+i,e.angle=90+e.$shotRotation,e.lifetime=this.lifetime,e.$lifetime=this.lifetime,this._initPos(e),this._nodes.push(e),this.layer.addChild(e),this._applyLinearVelocity(e),this._applyLinearImpulse(e)},_initPos:function(e){this.node.getWorldPosition(this._vec2),this._vec2.x=this._vec2.x-cc.winSize.width/2-10,this._vec2.y=this._vec2.y-cc.winSize.height/2-30,e.x=this._vec2.x,e.y=this._vec2.y},_applyLinearVelocity:function(e){},_applyLinearImpulse:function(e){var t=-e.$speed*Math.sin(Math.PI*e.$shotRotation/180),i=e.$speed*Math.cos(Math.PI*e.$shotRotation/180),o=e.getComponent(cc.RigidBody);o.applyLinearImpulse(new cc.Vec2(t,i),o.getWorldCenter(),!0)},_addCollider:function(e){var t=e.addComponent(cc.RigidBody);t.type=cc.RigidBodyType.Dynamic,t.gravityScale=this.gravityScale;var i=e.addComponent(cc.PhysicsBoxCollider);i.size.width=e.width,i.size.height=e.height,i.restitution=this.restitution,i.friction=this.friction,i.apply()},updateNodes:function(e){for(var t=void 0,i=this._nodes,o=this.sprites.length,n=i.length-1;n>=0;n--)if((t=i[n]).$lifetime-=e,t.$lifetime<=0)this._recover(t,n);else{var s=1-t.$lifetime/this.lifetime;if(s>.5&&(t.$opacity=this.startOpacity+(this.endOpacity-this.startOpacity)*(s-.5)*2),o>1){var a=Math.floor(s*o);t.$spriteIdx!==a&&(t.getComponent(cc.Sprite).spriteFrame=this.sprites[a],t.$spriteIdx=a)}}},_getAngleByVector:function(e){var t=e.x,i=e.y;if(0===i)return t<0?270:t>0?90:0;if(0===t)return i>=0?0:180;var o=Math.abs(i)/Math.abs(t),n=0,s=180*Math.atan(o)/Math.PI;return i>0&&t<0?n=270+s:i>0&&t>0?n=90-s:i<0&&t<0?n=270-s:i<0&&t>0&&(n=90+s),n},_updateVisible:function(e){var t=this._nodes;if(t)for(var i=void 0,o=t.length-1;o>=0;o--)i=t[o],(Math.abs(i.x-e.node.x)>400||Math.abs(i.y-e.node.y)>300)&&this._recover(i,o)}}),cc._RF.pop()},{}],ParticleSystem:[function(e,t,i){"use strict";cc._RF.push(t,"b0204kRN/pIJrYi5gMkUzR8","ParticleSystem"),cc.Class({extends:cc.Component,properties:{sprites:{type:[cc.SpriteFrame],default:[]},boost:{default:0,tooltip:"\u53d1\u5c04\u65f6\u957f <=0\u5219\u5faa\u73af\u53d1\u5c04"},duration:{default:.2,tooltip:"\u53d1\u5c04\u95f4\u9694"},startSpeed:{default:-100,tooltip:"\u8d77\u59cb\u901f\u5ea6"},endSpeed:{default:10,tooltip:"\u7ed3\u675f\u901f\u5ea6"},lifetime:{default:2,tooltip:"\u751f\u547d\u65f6\u957f"},startScale:{default:1,tooltip:"\u8d77\u59cb\u7f29\u653e"},endScale:{default:1,tooltip:"\u7ed3\u675f\u7f29\u653e"},startOpacity:{default:100,tooltip:"\u8d77\u59cb\u900f\u660e\u5ea6"},endOpacity:{default:0,tooltip:"\u7ed3\u675f\u900f\u660e\u5ea6"},rotateSpeed:{default:60,tooltip:"\u65cb\u8f6c\u901f\u5ea6"},layer:{default:null,type:cc.Node},rotation:{default:90,tooltip:"\u53d1\u5c04\u89d2\u5ea6"},rotationVar:{default:0,tooltip:"\u53d1\u5c04\u89d2\u5ea6\u53d8\u91cf"},wakeOnLoad:{default:!1,tooltip:"\u8f7d\u5165\u540e\u81ea\u52a8\u64ad\u653e"}},onLoad:function(){this._nodes=[],this.pool=new cc.NodePool,this.vec2=new cc.Vec2,this._nextShot=this.duration},start:function(){this.loop=!1,this.boost>0?this.playing=!1:(this.loop=!0,this.playing=!0),this.wakeOnLoad&&this.play()},update:function(e){this.updateNodes(e),this.shot(e)},play:function(){this.playing=!0,this.loop&&this.playing||(this._nextShot=0,this._boost=this.boost)},stop:function(){this.playing=!1,this._boost=0},shot:function(e){if(this.playing)if(this.loop)for(this._nextShot-=e;this._nextShot<=0;)this._shot(),this._nextShot+=this.duration;else{if(this._boost<=0)return this._boost=0,void(this.playing=!1);for(this._nextShot-=e;this._nextShot<=0&&this._boost>0;)this._shot(),this._nextShot+=this.duration,this._boost-=this.duration}},_shot:function(){var e=this.pool.get();e||(e=new cc.Node),(e.getComponent(cc.Sprite)||e.addComponent(cc.Sprite)).spriteFrame=this.sprites[0],e.spriteIdx=0,e.opacity=this.startOpacity,e.scale=this.startScale,e.speed=this.startSpeed;var t=this.rotationVar*(.5-Math.random());e.shotRotation=this.rotation+this.node.parent.angle+t,e.shotRotationSin=Math.sin(Math.PI*e.shotRotation/180),e.shotRotationCos=Math.cos(Math.PI*e.shotRotation/180),e.speedX=this.startSpeed*Math.cos(e.shotRotation),e.speedY=this.startSpeed*Math.sin(e.shotRotation),e.endSpeedY=(this.speedY>0?1:-1)*Math.abs(this.endSpeed)*Math.random(),e.lifetime=this.lifetime,e.rotateSpeed=this.rotateSpeed*(Math.random()<.5?1:-1),this._nodes.push(e),this.node.getWorldPosition(this.vec2),this.vec2.x=this.vec2.x-cc.winSize.width/2-10,this.vec2.y=this.vec2.y-cc.winSize.height/2-30,e.x=this.vec2.x,e.y=this.vec2.y,this.layer.addChild(e)},updateNodes:function(e){for(var t=void 0,i=this._nodes,o=this.sprites.length,n=i.length-1;n>=0;n--)if((t=i[n]).parent)if(t.lifetime-=e,t.lifetime<=0)t.removeFromParent(),i.removeAt(n),this.pool.put(t);else{var s=1-t.lifetime/this.lifetime;if(s>.5&&(t.opacity=this.startOpacity+(this.endOpacity-this.startOpacity)*(s-.5)*2),t.speed+=e/t.lifetime*(this.endSpeed-t.speed),t.speed>=this.endSpeed&&(t.speed*=.85),t.x-=t.speed*e*t.shotRotationSin,t.y+=t.speed*e*t.shotRotationCos,t.scale=this.startScale+(this.endScale-this.startScale)*s,t.angle+=t.rotateSpeed*e,this.sprites.length>1){var a=Math.floor(s*o);t.spriteIdx!==a&&(t.getComponent(cc.Sprite).spriteFrame=this.sprites[a],t.spriteIdx=a)}}else i.removeAt(n)}}),cc._RF.pop()},{}],PressCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"61e2deeoI5JU53k9iH8maQE","PressCtrl");var o=e("Context"),n=e("Executor"),s=e("Trigger");cc.Class({extends:n,properties:{points:{type:[cc.Vec2],default:[],tooltip:"\u79fb\u52a8\u8f68\u8ff9"},speed:{default:500,tooltip:"\u79fb\u52a8\u901f\u5ea6"}},start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.tempV2=new cc.Vec2,this._hasTrigger=!1,this._press=this.node._children[0],this._reset(),this._check())},_check:function(){return!(this.points.length<2)||(console.error("\u81f3\u5c11\u8bbe\u7f6e\u4e24\u4e2a\u70b9\u624d\u80fd\u79fb\u52a8"),!1)},gameUpdate:function(e){if(this._init(),this._hasTrigger&&this._check()&&-1!==this._delay){if(!this._executing)return this._delay>0&&(this._delay-=e),void(this._delay<=0&&(this._executing=!0));if(this._executing){var t=this.points[1];this.tempV2.x=t.x-this._press.x,this.tempV2.y=t.y-this._press.y;var i=o.getLength(this.tempV2);if(i<=e*this.speed)return this._press.x=t.x,this._press.y=t.y,this._executing=!1,!0;var n=i/this.speed;this._press.x+=e/n*this.tempV2.x,this._press.y+=e/n*this.tempV2.y}}},execute:function(e){this._check()&&(this._hasTrigger||(this._hasTrigger=!0,this._delay=e||0,s.add(this)))},onGameRestart:function(){this._hasTrigger=!1,this._stop(),this._reset()},onEnable:function(){this._resetPos()},onDisable:function(){this._hasTrigger&&(this._press.x=this.points[1].x,this._press.y=this.points[1].y)},_stop:function(){this._executing=!1},_resetPos:function(){this.node.angle!==this.node.$angle&&(this.node.angle=this.node.$angle),this.node.x!==this.node.$x&&(this.node.x=this.node.$x),this.node.y!==this.node.$y&&(this.node.y=this.node.$y),this._press&&0!==this._press.angle&&(this._press.angle=0)},_reset:function(){this._executing=!1,this._delay=-1,this._resetPos(),this._press&&(this._press.x!==this.points[0].x&&(this._press.x=this.points[0].x),this._press.y!==this.points[0].y&&(this._press.y=this.points[0].y))}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",Trigger:"Trigger"}],PressTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"82070ZPb9lFVqqhv8Sa5cag","PressTrigger");var o=cc.Class({extends:cc.Component,properties:{pairTrigger:{default:"",tooltip:"\u5173\u8054\u7684\u89e6\u53d1\u5668"}},start:function(){this.hasTrigger=!1,this.press=this.node.children[0]},onEnable:function(){this.hasTrigger=!1,this.press&&(this.press.x=-600)},update:function(e){this.hasTrigger&&this.press.x<0&&(this.press.x+=600*e)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&(this.hasTrigger||(this.hasTrigger=!0,this.pairTrigger&&this.node.parent.getChildByName(this.pairTrigger).getComponent(o).onBeginContact()))}});cc._RF.pop()},{}],RoleAniCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"affcdWYnLFB/ZK4HxG4QhYg","RoleAniCtrl");var o=e("ParticleSystem"),n=e("ParticleSystemCollider"),s=e("AudioCtrl"),a=e("Context"),r=cc.Class({extends:cc.Component,properties:{explosionNode:{type:cc.Node,default:null},piecesNode:{type:cc.Node,default:null,tooltip:"\u7236\u8282\u70b9\u3002\u5b58\u653e\u7206\u70b8\u788e\u7247\u3002"},motorNode:{type:cc.Node,default:null,tooltip:"\u6469\u6258\u8f66\u8282\u70b9"},audio:{type:s,default:null}},start:function(){cc.$context.aniCtrl=this,this.skinIdx=0,this.piecesSkinIdx=0,this.pieceNames=["Base","BackWheel","FrontWheel","body","head","l_arm_1","l_arm_2","l_leg_1","l_leg_2","r_arm_1","r_arm_2","r_leg_1","r_leg_2"],this.motorChildrenName=["Base","BackWheel","FrontWheel","FrontSpring","BackSpring","FrontSpring2","BackSpring2","BackSpring3","Obtekatel"],this.backAniTime=-1,this.standAniTime=-1,this.isUpKeyPressed=!1,this.isRightKeyPressed=!1,this.armature=this.node.getComponent(dragonBones.ArmatureDisplay),this.aniStateBack=void 0,this.aniStateStand=void 0,this._isPiecesShow=!0,this._isPiecesReady=!0,this._piecesLinearVelocity=new cc.v2,cc.game.on("GameOver",this.onGameOver,this),cc.game.on("GameRestart",this.onGameRestart,this),cc.game.on("TriggerTrick",this.onTriggerTrick,this),cc.game.on("TriggerTrickEnd",this.onTriggerTrickEnd,this),cc.game.on("SkinChanged",this.onSkinChanged,this),this._recordPiecesPos(),this._hidePieces(),this._idle()},_idle:function(){this.aniStateBack=void 0,this.aniStateStand=void 0,this.armature.playAnimation("RoleIdle",1)},onUpKeyPressed:function(){this.isUpKeyPressed=!0},onUpKeyReleased:function(){this.isUpKeyPressed=!1},onDownKeyPressed:function(){this.isDownKeyPressed=!0},onDownKeyReleased:function(){this.isDownKeyPressed=!1},onLeftKeyPressed:function(){this.isLeftKeyPressed=!0},onLeftKeyReleased:function(){this.isLeftKeyPressed=!1},onRightKeyPressed:function(){this.isRightKeyPressed=!0},onRightKeyReleased:function(){this.isRightKeyPressed=!1},onTriggerTrick:function(e){this.aniStateBack=void 0,this.aniStateStand=void 0,this.aniStateTrick=this.armature.playAnimation(e,1)},onTriggerTrickEnd:function(){this.aniStateTrick=void 0},onGameOver:function(e){0!==this.motorNode.opacity&&("water"===e?(this._showPieces(e),cc.$context.motorCtrl.setMotorActive(!1),this.motorNode.parent.getChildByName("Role").active=!1,this.explosionNode.active=!0,this.explosionNode.x=this.node.x,this.explosionNode.y=this.node.y,this.explosionNode.getComponent(o).play(),this.audio.playWaterSplash()):(this.explosionNode.active=!0,this.explosionNode.x=this.node.x,this.explosionNode.y=this.node.y,this.explosionNode.getComponent(cc.Animation).play("Explosion"),this.explosionNode.getComponent(n).play(),this.audio.playCrash(),this._showPieces(e),cc.$context.motorCtrl.setMotorActive(!1),this.motorNode.parent.getChildByName("Role").active=!1))},onGameRestart:function(){this._hidePieces(),cc.$context.motorCtrl.setMotorActive(!0),this.motorNode.parent.getChildByName("Role").active=!0,this._idle()},_recordPiecesPos:function(){this.piecesData={};for(var e=0;e<this.pieceNames.length;e++){var t=this.pieceNames[e],i=this.piecesNode.getChildByName(t);this.piecesData[t]={x:i.x,y:i.y,angle:i.angle}}},_hidePieces:function(e){this._isPiecesShow=!1,this._isPiecesReady=!1,a.setVisible(this.piecesNode,!1),this.piecesNode.getChildByName("head").getComponent(o).stop()},_showPieces:function(e){if(!this.piecesNode.parent){if(this.skinIdx!==this.piecesSkinIdx){this.piecesSkinIdx=this.skinIdx;var t=this.piecesSkinIdx+1;this.piecesNode.getChildByName("FrontWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+t+"#1"],this.piecesNode.getChildByName("BackWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+t+"#2"],this.piecesNode.getChildByName("body").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/body/"+t],this.piecesNode.getChildByName("head").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/head/"+t],this.piecesNode.getChildByName("l_arm_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/arm/1/"+t],this.piecesNode.getChildByName("l_arm_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/arm/2/"+t],this.piecesNode.getChildByName("r_arm_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/arm/1/"+t],this.piecesNode.getChildByName("r_arm_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/arm/2/"+t],this.piecesNode.getChildByName("l_leg_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/leg/1/"+t],this.piecesNode.getChildByName("l_leg_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/leg/2/"+t],this.piecesNode.getChildByName("r_leg_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/leg/1/"+t],this.piecesNode.getChildByName("r_leg_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/leg/2/"+t]}a.setVisible(this.piecesNode,!0);var i=this.motorNode.getChildByName("Base"),o=i.getComponent(cc.RigidBody).linearVelocity;if("water"===e){a.normalize(o),o.x*=200,o.y*=200}this._isPiecesShow=!0,this._isPiecesReady=!1,this._resetCnt=5,this._baseX=i.x,this._baseY=i.y,this._baseAngle=i.angle,this._piecesLinearVelocity.x=o.x,this._piecesLinearVelocity.y=o.y,this._setPiecesPos(cc.RigidBodyType.Static)}},_setPiecesPos:function(e){for(var t=void 0,i=void 0,o=0;o<this.pieceNames.length;o++){var n=this.pieceNames[o],s=this.piecesNode.getChildByName(n);s.x=this.piecesData[n].x+this._baseX+26,s.y=this.piecesData[n].y+this._baseY-71,s.angle=this.piecesData[n].angle+this._baseAngle,t=s.getComponent(cc.RigidBody),e===cc.RigidBodyType.Dynamic?(t.type=cc.RigidBodyType.Dynamic,t.resetVelocity(),t.linearVelocity=this._piecesLinearVelocity):(t.type=cc.RigidBodyType.Static,t.resetVelocity(),t.angularVelocity=0),(i=s.getComponent(cc.Joint))&&i.apply()}},resetPiecesPos:function(){if(this.pieceNames){a.setVisible(this.piecesNode,!0);for(var e=0;e<this.pieceNames.length;e++){var t=this.pieceNames[e],i=this.piecesNode.getChildByName(t);i.x=this.piecesData[t].x+-1e6+26,i.y=this.piecesData[t].y+-1e6-71,i.angle=this.piecesData[t].angle+0,i.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static}}},_copyPos:function(e,t){},gameUpdate:function(){this._isPiecesShow&&!this._isPiecesReady&&(this._setPiecesPos(cc.RigidBodyType.Dynamic),--this._resetCnt<=0&&(this._isPiecesReady=!0))},update:function(e){if("menu"!==cc.$game.state&&!this.aniStateTrick)if(this.isRightKeyPressed){if(this.aniStateBack)return void this._aniBackPlayInv(e);this.aniStateStand?-1!==this.standAniTime&&(this.aniStateStand.currentTime=this.standAniTime,this.standAniTime=-1):this.aniStateStand=this.armature.playAnimation("RoleStand",1)}else if(this.isUpKeyPressed||this.isLeftKeyPressed){if(this.aniStateStand)return void this._aniStandPlayInv(e);this.aniStateBack?-1!==this.backAniTime&&(this.aniStateBack.currentTime=this.backAniTime,this.backAniTime=-1):this.aniStateBack=this.armature.playAnimation("RoleBack",1)}else{if(this.aniStateBack)return void this._aniBackPlayInv(e);if(this.aniStateStand)return void this._aniStandPlayInv(e)}},_aniBackPlayInv:function(e){this.aniStateBack&&(-1===this.backAniTime&&(this.backAniTime=this.aniStateBack.currentTime),this.backAniTime-=e,this.backAniTime<=0?(this.aniStateBack.currentTime=0,this.aniStateBack.stop(),this.aniStateBack=void 0,this.backAniTime=-1):(this.aniStateBack.currentTime=this.backAniTime,this.aniStateBack.stop()))},_aniStandPlayInv:function(e){this.aniStateStand&&(-1===this.standAniTime&&(this.standAniTime=this.aniStateStand.currentTime),this.standAniTime-=e,this.standAniTime<=0?(this.aniStateStand.currentTime=0,this.aniStateStand.stop(),this.aniStateStand=void 0,this.standAniTime=-1):(this.aniStateStand.currentTime=this.standAniTime,this.aniStateStand.stop()))},changeSkin:function(e){if(console.log(" == changeSkin 111== ",e),e!==this.skinIdx){this.skinIdx=e;var t=cc.$context.motorCtrl.role.getComponent(dragonBones.ArmatureDisplay).armature();t.getBone("body").slot.displayIndex=this.skinIdx,t.getBone("head").slot.displayIndex=this.skinIdx,t.getBone("arm_l_1").slot.displayIndex=this.skinIdx,t.getBone("arm_l_2").slot.displayIndex=this.skinIdx,t.getBone("arm_r_1").slot.displayIndex=this.skinIdx,t.getBone("arm_r_2").slot.displayIndex=this.skinIdx,t.getBone("leg_l_1").slot.displayIndex=this.skinIdx,t.getBone("leg_l_2").slot.displayIndex=this.skinIdx,t.getBone("leg_r_1").slot.displayIndex=this.skinIdx,t.getBone("leg_r_2").slot.displayIndex=this.skinIdx;var i=cc.$context.motorCtrl.motor;i.getChildByName("Base").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["base/"+(this.skinIdx+1)],i.getChildByName("FrontWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+(this.skinIdx+1)+"#1"],i.getChildByName("BackWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+(this.skinIdx+1)+"#2"],i.getChildByName("Obtekatel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["obtekatel/"+(this.skinIdx+1)]}},onSkinChanged:function(e){console.log(" == onSkinChanged 222==",e),this.changeSkin(e)},enterAcceleratorSuper:function(){var e=cc.$context.motorCtrl;e.frontWheel.getComponent(cc.Sprite).spriteFrame=a.spriteMap["wheel/super"],e.backWheel.getComponent(cc.Sprite).spriteFrame=a.spriteMap["wheel/super"]},exitAcceleratorSuper:function(){var e=cc.$context.motorCtrl;e.frontWheel.getComponent(cc.Sprite).spriteFrame=a.spriteMap["wheel/"+(this.skinIdx+1)+"#1"],e.backWheel.getComponent(cc.Sprite).spriteFrame=a.spriteMap["wheel/"+(this.skinIdx+1)+"#2"]}});t.exports=r,cc._RF.pop()},{AudioCtrl:"AudioCtrl",Context:"Context",ParticleSystem:"ParticleSystem",ParticleSystemCollider:"ParticleSystemCollider"}],RoleColliderCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"be48diztx5ExZT9sPWHJHYn","RoleColliderCtrl"),cc.Class({extends:cc.Component,onCollisionEnter:function(e,t){"Gear"===e.node.group&&cc.game.delayEmit(.01,"RoleDead")}}),cc._RF.pop()},{}],SaveAnimationTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"97f33FWopBOBr5TyuaSJuFq","SaveAnimationTrigger"),cc.Class({extends:cc.Component,start:function(){this.hasTrigger=!1,this.onTriggerLoad(),cc.game.on("GameStart",this.onGameStart,this)},onTriggerLoad:function(){this.aniNode=this.node.children[0],this.ani=this.aniNode.getComponent(cc.Animation),this.onGameStart()},onGameStart:function(){this.hasTrigger=!1,this.ani.play("SaveAniIdle",1)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&(this.hasTrigger||(this.hasTrigger=!0,this.ani.play("SaveAniShake"),cc.game.emit("Save",this.node)))},onDestroy:function(){cc.game.targetOff(this)}}),cc._RF.pop()},{}],SceneCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"badf7Vy3lZDu4bRg7udAr7h","SceneCtrl");var o=e("AudioCtrl"),n=e("GearCtrl"),s=e("HalfCircleCtrl"),a=e("ConveurEngineCtrl"),r=e("AcceleratorTrigger"),c=e("SpecialAccelerator"),d=e("AcceleratorBreakerTrigger"),l=e("SaveAnimationTrigger"),h=e("CameraTrigger"),g=(e("CameraCtrl"),e("WaterTrigger")),p=e("BoxTrigger"),u=e("SensorSawActivatorTrigger"),m=e("TiledBlocksTrigger"),f=e("BeamTrigger"),y=e("Context"),v=e("Debug"),C=e("ParticleSystem"),x=e("ParticleSystemColliderBox"),_=e("GroundSpecialCtrl");e("MotorCtrl");cc.Class({extends:cc.Component,properties:{debug:{type:v,default:null},canvasNode:{type:cc.Node,default:null},camera:{type:cc.Camera,default:null},audio:{type:o,default:null},motor:{type:cc.Node,default:null,tooltip:"Base\u8282\u70b9"},piecesNode:{type:cc.Node,default:null,tooltip:"\u7236\u8282\u70b9\u3002\u5b58\u653e\u7206\u70b8\u788e\u7247\u3002"},backgroundMask:cc.SpriteFrame,backgroundMaterial:cc.Material,boxSprites:{type:[cc.SpriteFrame],default:[],tooltip:"\u7bb1\u5b50\u7206\u88c2\u540e\u7684\u788e\u7247"},bgMat:{type:cc.Material,default:null,tooltip:"\u80cc\u666f\u53e0\u52a0\u6750\u8d28"}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,this.canvas=cc.director.getScene().children[0],this._loadLayer(),this._recordLayer(),y.prefabMap=y.prefabMap||{}},unloadLevel:function(e,t){for(var i=cc.director.getScene().children[0],o=1;o<=4;o++){i.getChildByName("layer"+o).destroyAllChildren()}if(this.debug.dev)this.canvas.getChildByName("level").active=!1;else{var n=this.canvas.getChildByName("level");n&&n.destroy()}},loadLevel:function(e,t){this.lvData=e,this.lvLoadIdx=0,this._hasActiveAllLayers=!1,this.lvLoading=!0,this.level=t,this._imgNameMap=this._imgNameMap||{};for(var i=cc.director.getScene().children[0],o=1;o<=4;o++){i.getChildByName("layer"+o).destroyAllChildren()}if(this.debug.dev)this.canvas.getChildByName("level").active=!1;else{var n=this.canvas.getChildByName("level");n&&n.destroy(),(n=cc.instantiate(y.prefabMap["Prefabs/Level"+this.level])).name="level",n.active=!1,this.canvas.addChild(n)}},_getPool:function(e){var t=this.pool[e];return t||(t=new cc.NodePool,this.pool[e]=t),t},_getPrefabNode:function(e,t){for(var i="@"+t,o=this.canvas.getChildByName("level").getChildByName("layer#"+e).children,n=0,s=o.length;n<s;n++)if(o[n].name.endsWith(i))return o[n]},_loadLevel:function(){if(this.lvLoading){for(var e=void 0,t=void 0,i=Date.now(),o=!1;this.lvLoadIdx<this.lvData.length;){if(1===this.level){if(258===this.lvLoadIdx||259===this.lvLoadIdx){this.lvLoadIdx++;continue}}else if(2===this.level){if(350===this.lvLoadIdx){this.lvLoadIdx++;continue}}else if(3===this.level){if(this.lv3SkipIds=this.lv3SkipIds||[147,148,151,152,153,154,354,355,1047,1048,1049,1117],this.lv3SkipIds.contains(this.lvLoadIdx)){this.lvLoadIdx++;continue}}else if(5===this.level){if(147===this.lvLoadIdx){this.lvLoadIdx++;continue}}else if(9===this.level){if(this.lv9SkipIds=this.lv9SkipIds||[386,387,990,988,405,1025,425,978,979,980,981,982,248],this.lv9SkipIds.contains(this.lvLoadIdx)){this.lvLoadIdx++;continue}}else if(10===this.level){if(899===this.lvLoadIdx){this.lvLoadIdx++;continue}}else if(16===this.level){if(416===this.lvLoadIdx){this.lvLoadIdx++;continue}}else if(17===this.level&&1156===this.lvLoadIdx){this.lvLoadIdx++;continue}var n=this.lvData[this.lvLoadIdx];if(0===n.layer||n.layer>4)this.lvLoadIdx++;else{10===this.level&&963===this.lvLoadIdx&&(n.x=31800,n.y=6800,n.width=2800);var a=this._getChildName(n.image);if(n.name=a,"strelka"!==a)if("saveanimation"!==a)if("uskorenie"!==a)if(a.startWith("sensorexplosion"))(t=this._addPrefab("Prefabs/SensorExplosion",n)).name="sensorexplosion@"+this.lvLoadIdx,this.lvLoadIdx++;else if("watersensor"!==a)if("acceleratorbreaker"!==a){if("breackabledoorwood"!==a)if("breackabledoorglass"!==a)if(a.startWith("groundspecial")){(t=this._addPrefab("Prefabs/GroundSpecial",n)).name="groundspecial@"+this.lvLoadIdx;var r=t.height/54;t.scaleX=r,t.scaleY=r,t.getComponent(_).resize(t.width,t.height),this.lvLoadIdx++}else{if(a.startWith("groundhinge"))(t=this._addPrefab("Prefabs/Groundhinge",n)).name="groundhinge",t.getComponent(f).resize(n.width,n.height),16===this.level&&298===this.lvLoadIdx&&(t.angle=-90),this.lvLoadIdx++;else if("press"!==a)if("chain"!==a)if(a.startWith("sinstick")){var h=n.angle;n.width<0&&(h+=180),13===this.level&&(n.width=510),y.angleToDegree(h)>0?((t=this._addPrefab("Prefabs/SinStickLeft",n)).angle=h,t.name="sinstick"):((t=this._addPrefab("Prefabs/SinStickRight",n)).angle=h+180,t.name="sinstick"),t.scaleX=1,t.scaleY=1;var p=t.getChildByName("sinstick");p.scaleX*=Math.abs(n.width/p.width),p.scaleY*=Math.abs(n.height/p.height),5===this.level&&(p.getComponent(cc.PhysicsCollider).density*=100),13===this.level&&(p.getComponent(cc.PhysicsCollider).density*=500),this.lvLoadIdx++}else if(e=this.canvas.getChildByName("layer"+n.layer),a.startWith("halfcircle")){t=cc.instantiate(y.prefabMap["Prefabs/HalfCircle"]),e.addChild(t);var u=this._getPrefabNode(n.layer,this.lvLoadIdx);if(u){t.name=u.name,t.$x=u.x,t.$y=u.y,t.width=u.width,t.height=u.height,t.angle=u.angle,t.scaleX=u.scaleX,t.scaleY=u.scaleY;var v=u.getChildByName("halfcircle"),x=t.getChildByName("halfcircle");x.angle=v.angle;var S=u.getComponent(s),w=t.getComponent(s);S&&w&&(w.torque=S.torque,w.clockwise=S.clockwise,w.rotateAngle=S.rotateAngle,w.$childAngle=v.angle),S=v.getComponent(c),w=x.getComponent(c),S&&w&&(w.ratio=S.ratio)}this.lvLoadIdx++}else if(a.startWith("trick"))(t=this._tryToLoadFromLevelPrefab(n,e))||(t=this._addPrefab("Prefabs/Trick",n),this.lvLoadIdx++);else{if("finalsensor"===a||"rychag2"===a||"trick"===a||"gear"===a||"sprite4"===a||"tnt"===a||"cameramanager"===a||a.startsWith("sensorsawactivator")||a.startsWith("accelerator")||a.startsWith("lift2")||a.startsWith("sensoractivator")){if("finalsensor"===a){if(o){this.lvLoadIdx++;continue}o=!0}var b=this._getPrefabNode(n.layer,this.lvLoadIdx);if(b){if(b.name.contains("#remove")){this.lvLoadIdx++;continue}b.setParent(e);var k=a.split("@")[0];switch(k){case"accelerator":case"acceleratorsoft":case"acceleratorsuper":case"cameramanager":b.removeComponent(cc.Sprite),b.name=a;break;case"sensoractivator":case"tnt":case"sensorsawactivator":b.removeComponent(cc.Sprite)}if(b.name.contains("##")){var B=parseInt(b.name.split("@")[0].split("##")[1]);this.lvLoadIdx+=B;continue}this.debug.dev&&b.name.startWith("none@")&&(b.name=k+"@"+this.lvLoadIdx),this.lvLoadIdx++;continue}}if(2!==this.level||236!==this.lvLoadIdx&&792!==this.lvLoadIdx){var P=void 0,T=new cc.Node(a);switch(a){case"cameramanager":case"accelerator":case"acceleratorsoft":case"acceleratorsuper":case"sensorsawactivator":case"sensoractivator":break;default:(P=T.addComponent(cc.Sprite)).spriteFrame=y.spriteMap[n.image],P.sizeMode=cc.Sprite.SizeMode.CUSTOM,P.trim=!1}switch(T.$image=n.image,T.$x=T.x=n.x,T.$y=T.y=n.y,n.width<0?(T.$width=T.width=-n.width,T.scaleX*=-1):T.$width=T.width=n.width,n.height<0?(T.$height=T.height=-n.height,T.scaleY*=-1):T.$height=T.height=n.height,T.name){case"#znak1png#v":P.type=cc.Sprite.Type.SLICED,T.$width=T.width=P.spriteFrame.getRect().width,T.$height=T.height=T.height/2,T.scaleX*=2,T.scaleY*=2;break;case"#znak1png#h":P.type=cc.Sprite.Type.SLICED,T.$height=T.height=P.spriteFrame.getRect().height,T.$width=T.width=T.width/2,T.scaleX*=2,T.scaleY*=2}if(T.anchorX=n.anchorX,T.anchorY=n.anchorY,T.$angle=T.angle=n.angle,T.opacity=n.opacity,e.addChild(T),this.lvLoadIdx++,Date.now()-i>1e3)return}else{var N=this._getPrefabNode(n.layer,this.lvLoadIdx);N&&N.setParent(e),this.lvLoadIdx++}}else{for(var A=1,R=this.lvLoadIdx+1;;R++){var $=this.lvData[R];if(!$||"chain"!==this._getChildName($.image))break;if(A++,14===this.level&&11===A)break}(t=this._addPrefab("Prefabs/Chain"+A,n)).name="chain",t.scaleX=n.width/180,t.width=180*t.childrenCount,t.height=95,17===this.level&&483===this.lvLoadIdx&&(t.$x=t.x=18346,t.$y=t.y=2042),this.lvLoadIdx+=A}else(t=this._addPrefab("Prefabs/Press",n)).name="press@"+this.lvLoadIdx,this.lvLoadIdx++}else(t=this._addPrefab("Prefabs/BreakableDoorGlass",n)).x=n.x,t.y=n.y,t.anchorX=t.anchorY=.5,t.getComponent(m).resize(t.width,t.height),this.lvLoadIdx++;else(t=this._addPrefab("Prefabs/BreakableDoorWood",n)).x=n.x,t.y=n.y,t.anchorX=t.anchorY=.5,t.getComponent(m).resize(t.width,t.height),this.lvLoadIdx++}else{(t=this._addPrefab("Prefabs/AcceleratorBreaker",n)).name="acceleratorbreaker@"+this.lvLoadIdx;var V=t.getComponent(d);V.resize(n.width,n.height),20===this.level&&1272===this.lvLoadIdx?t.angle+=180:12===this.level&&1004===this.lvLoadIdx&&(V.speedLimit=-300),this.lvLoadIdx++}else{var M=(t=this._addPrefab("Prefabs/WaterSensor",n)).getComponent(g);M.audio=this.audio,M.layer1=this.canvas.getChildByName("layer1"),M.layerMotor=this.canvas.getChildByName("layerMotor"),M.motor=cc.$context.motor.parent,M.partBubble=this.piecesNode.getChildByName("head").getComponent(C),M.resize(n.width,n.height),this.lvLoadIdx++}else this._addPrefab("Prefabs/Uskorenie",n),this.lvLoadIdx++;else(t=this._addPrefab("Prefabs/SaveAnimation",n)).name=a,t.getComponent(l).onTriggerLoad(),t.$lvLdx=this.lvLoadIdx,this.lvLoadIdx++;else this.lvLoadIdx++}}if(!this._hasActiveAllLayers)return this._hasActiveAllLayers=!0,cc.$game.layer1.active=!0,cc.$game.layer2.active=!0,cc.$game.layer3.active=!0,void(cc.$game.layer4.active=!0);this.lvLoading=!1,this._loadLayer(),this._recordLayer()}},_tryToLoadFromLevelPrefab:function(e,t){var i=this._getPrefabNode(e.layer,this.lvLoadIdx);if(i){if(i.name.contains("#remove"))return this.lvLoadIdx++,"#remove";switch(i.setParent(t),e.name.split("@")[0]){case"accelerator":case"acceleratorsoft":case"acceleratorsuper":i.removeComponent(cc.Sprite),i.name=e.name;break;case"sensoractivator":case"tnt":i.removeComponent(cc.Sprite)}if(i.name.contains("##")){var o=parseInt(i.name.split("@")[0].split("##")[1]);return this.lvLoadIdx+=o,i}return this.lvLoadIdx++,i}return i},_getChildName:function(e){var t=this._imgNameMap[e];if(!t){if("art/decor1/0_1_1"===e)t="tree";else if("box/0_0_0"===e)t="box";else if("ground/0_0_0"===e)t="ground";else if("art/grounds/0_204_161"===e)t="grounds";else if("art/grounds/0_1_81"===e)t="ground";else if("ground360circle/0_0_0"===e)t="ground360circle";else if(e.startWith("saveanimation/"))t="saveanimation";else if(e.startWith("sensorsawactivator/"))t="sensorsawactivator";else if(e.startWith("sensoractivator/"))t="sensoractivator";else if(e.startWith("saw/"))t="gear";else if(e.startWith("accelerator/"))t="accelerator";else if(e.startWith("acceleratorsoft/"))t="acceleratorsoft";else if(e.startWith("acceleratorbreaker/"))t="acceleratorbreaker";else if(e.startWith("acceleratorsuper/"))t="acceleratorsuper";else if(e.startWith("cameramanager/"))t="cameramanager";else if(e.startWith("groundhinge/"))t="groundhinge";else if(e.startWith("trick/"))t="trick";else if(e.startWith("watersensor/"))t="watersensor";else if(e.startWith("motospawner/"))t="motospawner";else if("breackabledoor/0_1_1"===e)t="breackabledoorwood";else if("breackabledoor/0_1_39"===e)t="breackabledoorglass";else if(e.startWith("znak1png/"))t="znak1png/0_257_1"===e?"#znak1png#h":"#znak1png#v";else if(e.startWith("uskorenie/"))t="uskorenie";else if(e.startWith("press/"))t="press";else if(e.startWith("sprite4/"))t="sprite4";else if(e.startWith("finalsensor/"))t="finalsensor";else if(e.startWith("sensorexplosion/"))t="sensorexplosion";else if(e.startWith("groundspecial/"))t="groundspecial";else if(e.startWith("tnt/"))t="tnt";else if(e.startWith("rychag2/"))t="rychag2";else if(e.startWith("trap/lift2"))t="lift2";else if(e.startWith("strelka"))t="strelka";else if(e.startWith("halfcircle"))t="halfcircle";else if(e.startWith("conveurengine"))t="conveurengine";else if(e.startWith("sinstick"))t="sinstick";else if(e.startWith("chain"))t="chain";else{var i=e.split("/");t=i[i.length-1]}this._imgNameMap[e]=t}return t},getLoadingProgress:function(){var e=this.lvLoadIdx/this.lvData.length;return this.lvLoading&&(e=Math.min(e,.99)),e},start:function(){this._v3=new cc.v3,cc.game.on("GameStart",this.onGameStart,this),cc.game.on("GameRestart",this.onGameRestart,this),cc.game.on("Camera",this.updateNodesByCamera,this),this._resetNodesInCamera()},update:function(e){this._loadLevel()},_addRigid:function(e,t){var i=e.getComponent(cc.RigidBody)||e.addComponent(cc.RigidBody);return i.type=t,i},_addPhysicsBoxCollider:function(e){var t=e.getComponent(cc.PhysicsBoxCollider)||e.addComponent(cc.PhysicsBoxCollider);return t.friction=1,t.restitution=0,t.size.width=e.width,t.size.height=e.height,t.apply(),t},_addBoxCollider:function(e){var t=e.getComponent(cc.BoxCollider)||e.addComponent(cc.BoxCollider);return t.size.width=e.width,t.size.height=e.height,t},_addPhysicsCircleCollider:function(e){var t=e.getComponent(cc.PhysicsCircleCollider)||e.addComponent(cc.PhysicsCircleCollider);return t.restitution=0,t.radius=e.width/2,t.apply(),t},_addCircleCollider:function(e){var t=e.getComponent(cc.CircleCollider)||e.addComponent(cc.CircleCollider);return t.radius=Math.min(e.width,e.height)/2,t},_loadLayer:function(){this.gearCnt=0,this.conveurEngineCnt=0;for(var e=void 0,t=1;t<=4;t++)for(var i=this.node.getChildByName("layer"+t).children,o=0,n=i.length;o<n;o++)if((e=i[o]).zIndex=o,e.name.contains("#remove"))e.removeFromParent(),o--,n--;else if(e.name.startWith("motospawner"))y.motoRelivePos=e.position;else if(e.name.startWith("ground@")||"ground"===e.name)this._addMask(e),this._addRigid(e,cc.RigidBodyType.Static),this._addPhysicsBoxCollider(e);else if(e.name.startWith("#znak1png"))this._addMask(e);else if(e.name.startWith("gear"))this._addGearCtrl(e);else if(e.name.startWith("sensoractivator"))this._addSensorSawActivator(e);else switch(e.name){case"tree":case"grounds":this._addMask(e);break;case"ground360circle":this._addMask(e),this._addRigid(e,cc.RigidBodyType.Static),this._addPhysicsCircleCollider(e);break;case"conveurengine":this._addConveurEngineCtrl(e),e.zIndex=9999;break;case"accelerator":case"acceleratorsoft":case"acceleratorsuper":e.group="Trigger";var s=e.getComponent(r);s||((s=e.addComponent(r)).speedUpRatio="accelerator"===e.name?.3:.15),s.eventMgr=this.eventMgr,this._addRigid(e,cc.RigidBodyType.Static).enabledContactListener=!0,this._addPhysicsBoxCollider(e).sensor=!0;break;case"cameramanager":this._addCameraManager(e);break;case"box":this._addBoxTrigger(e)}},_addBoxTrigger:function(e){e.group="Trigger";var t=e.getComponent(p)||e.addComponent(p);if(t.eventMgr=this.eventMgr,t.audio=this.audio,this._addRigid(e,cc.RigidBodyType.Static).enabledContactListener=!0,this._addPhysicsBoxCollider(e).sensor=!0,!e.getComponent(x)){var i=e.addComponent(x);i.sprites=this.boxSprites,i.spriteType=1,i.boost=4e-4,i.duration=1e-4,i.speed=1e3,i.speedVar=0,i.lifetime=5,i.scale=.6,i.scaleVar=.2,i.startOpacity=255,i.endOpacity=0,i.shotAngle=90,i.shotAngleVar=0,i.friction=.2,i.restitution=.5,i.gravityScale=3,i.layer=this.node.getChildByName("layer4"),i.motor=this.motor}},_addCameraManager:function(e){e.group="Trigger";e.getComponent(h)||e.addComponent(h);this._addRigid(e,cc.RigidBodyType.Static).enabledContactListener=!0,this._addPhysicsBoxCollider(e).sensor=!0},_addMask:function(e){e.getComponent(cc.Sprite).setMaterial(0,this.bgMat)},_addSensorSawActivator:function(e){e.group="Trigger",this._addRigid(e,cc.RigidBodyType.Static).enabledContactListener=!0,this._addPhysicsBoxCollider(e).sensor=!0;var t=e.addComponent(u);t.eventMgr=this.eventMgr,t.audio=this.audio},_addPrefab:function(e,t){y.prefabMap[e]||console.error("\u9884\u8bbe\u4f53\u7f3a\u5931\uff1a"+e);var i=this.node.getChildByName("layer"+t.layer),o=cc.instantiate(y.prefabMap[e]);return i.addChild(o),o.$x=o.x=t.x,o.$y=o.y=t.y,o.$width=o.width=t.width,o.$height=o.height=t.height,o.$angle=o.angle=t.angle,o.anchorX=t.anchorX,o.anchorY=t.anchorY,o},_addGearCtrl:function(e){e.group="Gear";var t=e.getChildByName("gear");t&&(t.group="Gear");var i=e.getChildByName("gear");i&&(e=i);var o=e.getComponent(n);o||((o=e.addComponent(n)).speed=150,o.clockwise=this.gearCnt%2==0),this.gearCnt++},_addConveurEngineCtrl:function(e){var t=e.addComponent(a);t.speed=150,t.clockwise=this.conveurEngineCnt++%2==0},_addAccelerrator:function(){for(var e=this.node.getChildByName("layer4").children,t=void 0,i=0,o=e.length;i<o;i++)if("accelerator"===(t=e[i]).name||"acceleratorsoft"===t.name){t.group="Trigger";var n=t.getComponent(r);n||((n=t.addComponent(r)).speedUpRatio="accelerator"===t.name?.3:.2),n.eventMgr=this.eventMgr,this._addRigid(t,cc.RigidBodyType.Static).enabledContactListener=!0,this._addPhysicsBoxCollider(t).sensor=!0}},onGameStart:function(){this._resetNodesInCamera()},onGameRestart:function(){this._resetNodesInCamera()},updateNodesByCamera:function(){this._updateNodes(),this._updateColliders()},__moveRU:function(e,t,i,o,n){for(var s=e.length,a=void 0,r=e.curIdx;r<s;r++){if((a=e[r])[o]>=t)return;e.curIdx=r,i(a,n)}},__moveLD:function(e,t,i,o,n){for(var s=void 0,a=e.curIdx;a>=0;a--){if((s=e[a])[o]<=t)return;e.curIdx=a,i(s,n)}},__moveColliderRU:function(e,t,i,o,n){for(var s=e.length,a=void 0,r=e.curColliderIdx;r<s;r++){if((a=e[r])[o]>=t)return;e.curColliderIdx=r,i(a,n)}},__moveColliderLD:function(e,t,i,o,n){for(var s=void 0,a=e.curColliderIdx;a>=0;a--){if((s=e[a])[o]<=t)return;e.curColliderIdx=a,i(s,n)}},_updateNodes:function(){var e=this.camera.node,t=this.camera.zoomRatio,i=cc.winSize.width/2/t,o=cc.winSize.height/2/t,n=e.x+i,s=e.y+o,a=e.x-i,r=e.y-o;(this.firstCamera||e.x!==this.lastCameraPos.x)&&(this.__moveRU(this.minX,n,this._setXInCamera,"minX",!0),this.__moveLD(this.minX,n,this._setXInCamera,"minX",!1),this.__moveRU(this.maxX,a,this._setXInCamera,"maxX",!1),this.__moveLD(this.maxX,a,this._setXInCamera,"maxX",!0)),(this.firstCamera||e.y!==this.lastCameraPos.y)&&(this.__moveRU(this.minY,s,this._setYInCamera,"minY",!0),this.__moveLD(this.minY,s,this._setYInCamera,"minY",!1),this.__moveRU(this.maxY,r,this._setYInCamera,"maxY",!1),this.__moveLD(this.maxY,r,this._setYInCamera,"maxY",!0)),this.lastCameraPos.x=e.x,this.lastCameraPos.y=e.y,this.firstCamera=!1},_updateColliders:function(){this.camera.node._components[1].getTargetPos(this._v3),this._v3.x-=cc.winSize.width/2,this._v3.y-=cc.winSize.height/2;var e=this._v3.x+400,t=this._v3.y+300,i=this._v3.x-400,o=this._v3.y-300;(this.firstCameraTarget||this._v3.x!==this.lastCameraTargetPos.x)&&(this.__moveColliderRU(this.cMinX,e,this._setXInCollider,"minX",!0),this.__moveColliderLD(this.cMinX,e,this._setXInCollider,"minX",!1),this.__moveColliderRU(this.cMaxX,i,this._setXInCollider,"maxX",!1),this.__moveColliderLD(this.cMaxX,i,this._setXInCollider,"maxX",!0)),(this.firstCameraTarget||this._v3.y!==this.lastCameraTargetPos.y)&&(this.__moveColliderRU(this.cMinY,t,this._setYInCollider,"minY",!0),this.__moveColliderLD(this.cMinY,t,this._setYInCollider,"minY",!1),this.__moveColliderRU(this.cMaxY,o,this._setYInCollider,"maxY",!1),this.__moveColliderLD(this.cMaxY,o,this._setYInCollider,"maxY",!0)),this.lastCameraTargetPos.x=this._v3.x,this.lastCameraTargetPos.y=this._v3.y,this.firstCameraTarget=!1},_resetNodesInCamera:function(){this.firstCamera=!0,this.firstCameraTarget=!0,this.lastCameraPos=this.lastCameraPos||new cc.Vec2,this.lastCameraPos.x=-999999999,this.lastCameraPos.y=-999999999,this.lastCameraTargetPos=this.lastCameraTargetPos||new cc.Vec2,this.lastCameraTargetPos.x=-999999999,this.lastCameraTargetPos.y=-999999999;var e=void 0,t=void 0,i=void 0;for(t=0,i=this.minX.length;t<i;t++)(e=this.minX[t]).xInCamera=!1,e.yInCamera=!1,y.setActive(e.node,!1);for(this.minX.curIdx=0,this.minY.curIdx=0,this.maxX.curIdx=0,this.maxY.curIdx=0,t=0,i=this.cMinX.length;t<i;t++)(e=this.cMinX[t]).xInCollider=!1,e.yInCollider=!1,y.setColliderEnabled(e.node,!1);this.cMinX.curColliderIdx=0,this.cMinY.curColliderIdx=0,this.cMaxX.curColliderIdx=0,this.cMaxY.curColliderIdx=0},_setXInCamera:function(e,t){e.xInCamera=t;var i=e.xInCamera&&e.yInCamera;e.node.$active!==i&&y.setActive(e.node,i)},_setYInCamera:function(e,t){e.yInCamera=t;var i=e.xInCamera&&e.yInCamera;e.node.$active!==i&&y.setActive(e.node,i)},_setXInCollider:function(e,t){e.xInCollider=t;var i=e.xInCollider&&e.yInCollider;e.node.$colliderEnabled!==i&&y.setColliderEnabled(e.node,i)},_setYInCollider:function(e,t){e.yInCollider=t;var i=e.xInCollider&&e.yInCollider;e.node.$colliderEnabled!==i&&y.setColliderEnabled(e.node,i)},_recordLayer:function(){this.firstCamera=!0,this.firstCameraTarget=!0,this.maxX=[],this.minX=[],this.maxY=[],this.minY=[],this.cMaxX=[],this.cMinX=[],this.cMaxY=[],this.cMinY=[];for(var e=void 0,t=void 0,i=void 0,o=void 0,n=1;n<=4;n++)for(var s=0,a=(e=this.node.getChildByName("layer"+n).children).length;s<a;s++)(t=e[s]).name.contains("#hide")?t.active=!1:(i=t.getBoundingBox(),o={name:t.name,minX:i.x,minY:i.y,maxX:i.x+i.width,maxY:i.y+i.height,node:t},this.__insert(this.maxX,o,"maxX"),this.__insert(this.minX,o,"minX"),this.__insert(this.maxY,o,"maxY"),this.__insert(this.minY,o,"minY"),t.getComponents(cc.Collider).isEmpty()||(this.__insert(this.cMaxX,o,"maxX"),this.__insert(this.cMinX,o,"minX"),this.__insert(this.cMaxY,o,"maxY"),this.__insert(this.cMinY,o,"minY")));this.maxX.curIdx=0,this.minX.curIdx=0,this.maxY.curIdx=0,this.minY.curIdx=0,this.maxX.curColliderIdx=0,this.minX.curColliderIdx=0,this.maxY.curColliderIdx=0,this.minY.curColliderIdx=0},__insert:function(e,t,i){if(0!==e.length){var o=t[i],n=0,s=e.length-1;if(o<e[n][i])e.insert(n,t);else if(o>=e[s][i])e.push(t);else if(n!==s)for(;;){if(s-n==1)return void e.insert(s,t);var a=Math.floor((n+s)/2);o>=e[a][i]?n=a:s=a}else e.insert(s,t)}else e.push(t)}}),cc._RF.pop()},{AcceleratorBreakerTrigger:"AcceleratorBreakerTrigger",AcceleratorTrigger:"AcceleratorTrigger",AudioCtrl:"AudioCtrl",BeamTrigger:"BeamTrigger",BoxTrigger:"BoxTrigger",CameraCtrl:"CameraCtrl",CameraTrigger:"CameraTrigger",Context:"Context",ConveurEngineCtrl:"ConveurEngineCtrl",Debug:"Debug",GearCtrl:"GearCtrl",GroundSpecialCtrl:"GroundSpecialCtrl",HalfCircleCtrl:"HalfCircleCtrl",MotorCtrl:"MotorCtrl",ParticleSystem:"ParticleSystem",ParticleSystemColliderBox:"ParticleSystemColliderBox",SaveAnimationTrigger:"SaveAnimationTrigger",SensorSawActivatorTrigger:"SensorSawActivatorTrigger",SpecialAccelerator:"SpecialAccelerator",TiledBlocksTrigger:"TiledBlocksTrigger",WaterTrigger:"WaterTrigger"}],ScrollViewCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"e72ddq/nutM+JnamvHI2wED","ScrollViewCtrl");var o=e("Context"),n=e("AdItemCtrl");cc.Class({extends:cc.Component,properties:{autoScrollSpeed:{default:50,tooltip:"\u81ea\u52a8\u6eda\u52a8\u901f\u5ea6\u3002\u901f\u5ea6\u4e3a0\u65f6\u4e0d\u6eda\u52a8\u3002"},startFromEnd:{default:!1,tooltip:"\u4ece\u540e\u5f00\u59cb\u5411\u524d\u6eda"},fixNum:{default:0,tooltip:"\u56fa\u5b9a\u663e\u793a\u51e0\u4e2a\u5bfc\u51fa\u3002\u586b\u6b63\u6570\u30020\u65f6\u4e0d\u505a\u9650\u5236\u3002"},adview:[]},start:function(){1!=cc.$sdk.environment?(this.fixNum=Math.max(0,this.fixNum),this.scrollView=this.scrollView||this.node.getComponent(cc.ScrollView),this._positive=!0,this.tempV3=new cc.v3(0,0,0),cc.game.on("SDKReady",this._initData,this),this._initData()):this.node.active=!1},_initData:function(){var e=this;if(cc.$sdk&&cc.$sdk.ads){var t=this,i=this.node.getChildByName("view").getChildByName("content");if(!(Date.now()-this._lastReset<1e3)){if(this._lastReset=Date.now(),this._hasInit){var o=i.children,s=[];s.pushAll(o),i.removeAllChildren(!1);for(var a=void 0;s.length>0;)a=s.removeAt(Math.floor(Math.random()*s.length)),i.addChild(a)}else{this._hasInit=!0;for(var r=i.children[0],c=void 0,d=void 0,l=this._getUnsortedAds(),h=function(o,s){var a=i.children[o];a||(a=cc.instantiate(r),i.addChild(a)),c=l[o],e.AdViewRecord(c),a.getChildByName("GameName").getComponent(cc.Label).string=c.title.substr(0,5),(d=a.getChildByName("image_red_point"))&&(d.active=!1),cc.loader.load(c.img,function(e,i){"ViewMoreGame"==t.node.parent.name?a.getChildByName("mask").getChildByName("GameIcon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i):a.getChildByName("GameIcon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)});var h=a.getComponent(n)||a.addComponent(n);"ViewSkinAd"==e.node.parent.name&&(u=parseInt(1e5*Math.random()),a.getChildByName("PeopleNum").getComponent(cc.Label).string=u.toString()+"\u4eba\u5728\u73a9"),h.data=c},g=0,p=l.length;g<p;g++){var u;h(g)}}for(g=0,p=i.children.length;g<p;g++){var m=i.children[g].getChildByName("image_red_point");m&&(m.active=!1)}if("ViewSkinAd"!=this.node.parent.name){var f=Math.min(i.children.length,5);for(this.fixNum&&(f=Math.min(f,this.fixNum));f>0;){var y=Math.floor(Math.random()*i.children.length),v=i.children[y].getChildByName("image_red_point");if(v){if(!0===v.active)continue;v.active=!0}f--}}this._initContentPosition()}}},_getUnsortedAds:function(){var e=o.sdk.ads,t=[];t.pushAll(e);for(var i=[],n=this.fixNum||99999;t.length>0&&i.length<n;)i.push(t.removeAt(Math.floor(Math.random()*t.length)));return i},onEnable:function(){this._initData()},_initContentPosition:function(){this.scrollView=this.scrollView||this.node.getComponent(cc.ScrollView),this.scrollView&&(this.scrollView.horizontal?this.startFromEnd?this.node.getComponent(cc.ScrollView).scrollToRight():this.node.getComponent(cc.ScrollView).scrollToLeft():this.startFromEnd?this.node.getComponent(cc.ScrollView).scrollToBottom():this.node.getComponent(cc.ScrollView).scrollToTop())},update:function(e){this.scrollView&&this.scrollView.isScrolling()||0!==this.autoScrollSpeed&&("lostad"==this.node.name&&cc.$sdk.config&&0==cc.$sdk.config.lostgun||(this.scrollView.horizontal?this._doAutoScrollHorizontal(e):this._doAutoScrollVertical(e)))},_doAutoScrollHorizontal:function(e){var t=this.node.getChildByName("view").width,i=this.scrollView.content.width;if(!(i<=t)){var o=this.scrollView.getContentPosition().x,n=-(i-t);this._positive?(o-=this.autoScrollSpeed*e)<=n&&(o=n,this._positive=!1):(o+=this.autoScrollSpeed*e)>=0&&(o=0,this._positive=!0),this.tempV3.x=o,this.scrollView.setContentPosition(this.tempV3)}},_doAutoScrollVertical:function(e){var t=this.node.getChildByName("view").height,i=this.scrollView.content.height;if(!(i<=t)){var o=this.scrollView.getContentPosition().y,n=i-t;this._positive?(o+=this.autoScrollSpeed*e)>=n&&(o=n,this._positive=!1):(o-=this.autoScrollSpeed*e)<=0&&(o=0,this._positive=!0),this.tempV3.y=o,this.scrollView.setContentPosition(this.tempV3)}},AdViewRecord:function(e){var t={op:"bg",adid:e.adid,resid:e.resid,appid:e.adappid1,adappid:e.adappid2,userkey:window.openid};this.adview.push(t)}}),cc._RF.pop()},{AdItemCtrl:"AdItemCtrl",Context:"Context"}],SensorSawActivatorTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"3a14bAa2XNOvYumjOTwnKBI","SensorSawActivatorTrigger");var o=e("AudioCtrl");cc.Class({extends:cc.Component,properties:{audio:{type:o,default:null}},start:function(){this.hasTrigger=!1,cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger&&(this.hasTrigger=!1)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&this._onTrigger(i,t)},_onTrigger:function(e,t){this.hasTrigger||(this.hasTrigger=!0,this.audio.playDriver())}}),cc._RF.pop()},{AudioCtrl:"AudioCtrl"}],SinStickCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"44669k0kFVFbaPBQibj4NFx","SinStickCtrl");e("Context");cc.Class({extends:cc.Component,properties:{},start:function(){this._init()},update:function(e){this._fix()},_fix:function(){(Math.abs(this.sinStick.x>50)||Math.abs(this.sinStick.y>50))&&this._setPos()},_init:function(){this._hasInit||(this._hasInit=!0,this.$needFixPos=!0,this.sinStick=this.node.getChildByName("sinstick"),cc.game.on("GameRestart",this.onGameRestart,this))},onEnable:function(){this._init(),this._setPos()},onGameRestart:function(){this._init(),this._setPos()},_setPos:function(){this.sinStick.getComponent(cc.RigidBody).resetVelocity(),this.sinStick.x=0,this.sinStick.y=0;for(var e=this.sinStick.getComponents(cc.Joint),t=0;t<e.length;t++){var i=e[t];i.enabled&&i.apply()}}}),cc._RF.pop()},{Context:"Context"}],SpecialAccelerator:[function(e,t,i){"use strict";cc._RF.push(t,"93742TI3a5NHKbqo1YH+hIi","SpecialAccelerator");var o=e("Context");cc.Class({extends:cc.Component,properties:{ratio:{default:.3,tooltip:"\u52a0\u901f\u6bd4\u4f8b"}},start:function(){cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){o.specialSpeedupRatio=1},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&(o.specialSpeedupRatio=1+this.ratio)},onEndContact:function(e,t,i){o.specialSpeedupRatio=1}}),cc._RF.pop()},{Context:"Context"}],Sprite4Trigger:[function(e,t,i){"use strict";cc._RF.push(t,"e2f2aonxJ9GaKQtcFilF4d+","Sprite4Trigger");var o=e("Context");cc.Class({extends:cc.Component,properties:{leaveAngle:{default:45,tooltip:"\u8131\u79bb\u65f6\u7684\u89d2\u5ea6\uff0cX\u8f74\u6b63\u5411\u4e3a0\u5ea6"},leaveSpeed:{default:1900,tooltip:"\u8131\u79bb\u65f6\u7684\u901f\u5ea6"}},start:function(){this.hasTrigger=!1,this.leaveTime=0,this.motor=void 0,this.ball=this.node.children[0],this.tempV2a=new cc.Vec2,this.tempV2b=new cc.Vec2,cc.game.on("GameRestart",this.onGameRestart,this)},update:function(e){var t=this.node.angle;for(this.node.angle-=200*e;this.node.angle<=0;)this.node.angle+=360;if(t>=this.leaveAngle&&this.node.angle<=this.leaveAngle){if(this.motor){this.leaveTime=Date.now();var i=this.leaveSpeed,n=o.angleToDegree(this.leaveAngle-90);this.tempV2a.x=Math.cos(n)*i,this.tempV2a.y=Math.sin(n)*i;for(var s=this.motor.parent.children,a=0;a<s.length;a++){var r=s[a].getComponent(cc.RigidBody);r&&(r.linearVelocity=this.tempV2a)}this.motor=void 0,cc.game.emit("Sprite4End"),o.inGreenBall=!1,this.hasTrigger=!1}}else this.motor&&this._updateMotor()},_updateMotor:function(){this.ball.getWorldPosition(this.tempV2b);for(var e=this.motor.parent.children,t=this.motor,i=0;i<e.length;i++){var o=e[i],n=o.getComponent(cc.RigidBody);if("Base"===o.name)o.getWorldPosition(this.tempV2a),o.x+=this.tempV2b.x-this.tempV2a.x,o.y+=this.tempV2b.y-this.tempV2a.y;else{var s=this.partsPos[o.name];o.x=t.x+s.x,o.y=t.y+s.y}n&&(n.resetVelocity(),n.angularVelocity=0)}},onGameRestart:function(){this.hasTrigger=!1},onBeginContact:function(e,t,i){if(!(Date.now()-this.leaveTime<200)&&cc.$game.isColliderValid()&&!o.inGreenBall&&"Base"===i.node.name&&!this.hasTrigger&&(this.hasTrigger=!0,!this.motor)){this.motor=i.node,this.partsPos={};for(var n=this.motor.parent.children,s=0;s<n.length;s++){var a=n[s];"Base"!==a.name&&(a.getWorldPosition(this.tempV2a),this.partsPos[a.name]={x:a.x-this.motor.x,y:a.y-this.motor.y})}cc.game.emit("Sprite4Begin"),o.inGreenBall=!0}}}),cc._RF.pop()},{Context:"Context"}],TNTCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"f0227ehmxxJcZSJOhFtvbET","TNTCtrl");var o=e("Context"),n=e("ExplosionCtrl"),s=e("Executor");cc.Class({extends:s,properties:{},start:function(){this.node.opacity=255,cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.node.opacity=255,this.node.removeComponent(n)},execute:function(e){var t=this.node.children[0];t||((t=cc.instantiate(o.prefabMap["Prefabs/Explosion"])).x=this.node.x,t.y=this.node.y,this.node.parent.addChild(t)),t.$tnt=this.node,t.getComponent(s).execute(e)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",ExplosionCtrl:"ExplosionCtrl"}],TNTDamageTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"a2fb3N6wShCHoALjNmMJj1F","TNTDamageTrigger"),cc.Class({extends:cc.Component,start:function(){this.delay=this.delay||-1,cc.game.on("GameRestart",this.onGameRestart,this)},update:function(e){-1!==this.delay&&(this.delay-=e,this.delay<=0&&(this.delay=-1,this.inScore&&cc.game.delayEmit(.01,"RoleDead")))},explose:function(e){this.delay=e},onGameRestart:function(){this.delay=-1,this.inScore=!1},onBeginContact:function(e,t,i){this.inScore=!0},onEndContact:function(e,t,i){this.inScore=!1}}),cc._RF.pop()},{}],TaoluLayer:[function(e,t,i){"use strict";cc._RF.push(t,"4ececw3Q8FCt5X9dAMBcQG5","TaoluLayer");cc.Class({extends:cc.Component,properties:{progressBar:{default:null,type:cc.ProgressBar},titleDoing:{default:null,type:cc.Node},titleDone:{default:null,type:cc.Node},fixBtn:{default:null,type:cc.Node},okBtn:cc.Node,bikeOld:cc.Node,bikeNew:cc.Node,hammer:cc.Node,progress:0,bannerGameAd:null},start:function(){},setProgress:function(e){if(this.progressBar.progress=this.progress=e,this.bikeOld&&(this.bikeOld.opacity=255-Math.floor(256*e)),this.bikeNew&&(this.bikeNew.opacity=Math.floor(256*e)),this.okBtn.active=this.titleDone.active=e>=.999,this.fixBtn.active=this.titleDoing.active=e<.999,e>=.999&&cc.$sdk._curGameBanner){cc.$sdk.aldSendEvent("\u63a8\u8350\u7ec4\u4ef6",{banner:"\u66dd\u5149"}),cc.$sdk._curGameBanner.show()}},onEnable:function(){this.setProgress(0),this.fixCount=0,this.realCount=Math.ceil(4*Math.random())+3,this.fixing=!1,cc.$sdk.local._curtimes++,cc.$sdk.setLocalData("_curtimes",cc.$sdk.local._curtimes)},onDisable:function(){cc.$sdk._curGameBanner&&(cc.$sdk._curGameBanner.hide(),cc.$sdk._curGameBanner.destroy())},fixAction:function(){var e=this;!this.fixing&&this.hammer&&(this.fixing=!0,this.hammer.stopAllActions(),this.hammer.runAction(cc.sequence(cc.rotateTo(0,0),cc.rotateTo(.1,-45),cc.rotateTo(.1,0),cc.callFunc(function(){e.fixCount++,e.progress<.6?e.setProgress(e.progress+.15):e.setProgress(e.progress+.1),e.fixCount>=e.realCount&&e.setProgress(.999),e.fixing=!1}))))},okAction:function(){cc.$game.viewMoreGame.active=!0,cc.game.emit("GameRestart"),this.node.destroy()},backAction:function(){this.progress>.999&&this.okAction()}}),cc._RF.pop()},{}],TiledBlocksTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"f281a7VeSNLAJrwrkLbeVer","TiledBlocksTrigger");e("ParticleSystemColliderBox");var o=e("Context"),n=cc.Class({extends:cc.Component,properties:{block:{type:cc.SpriteFrame,default:null},blockHeight:{default:60,tooltip:"\u788e\u7247\u5757\u7684\u9ad8\u5ea6"},blockAngle:{default:0,tooltip:"\u788e\u7247\u65cb\u8f6c\u89d2\u5ea6"},blockShowTime:{default:4,tooltip:"\u788e\u7247\u663e\u793a\u65f6\u95f4"}},start:function(){this.hasTrigger=!1,this.tempV2a=new cc.Vec2,this.tempV2b=new cc.Vec2,cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger&&(this.hasTrigger=!1,this.node.children[0].active=!0)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&this._onTrigger(i,t)},_onTrigger:function(e,t){if(!this.hasTrigger){this.hasTrigger=!0,this.other=e,o.audio.playBreakCrate(),o.motorCtrl.slowDown(.9),this.node.children[0].active=!1;var i=-this.node.width/2+this.blockHeight/2,s=this.node.width/2-this.blockHeight/2,a=void 0,r=void 0,c=void 0,d=new cc.Vec2;this.node.getWorldPosition(d);for(var l=s;l>=i;l-=this.blockHeight){if(a=n.getPool(this.block.name).get())a.active=!0,(r=a.getComponent(cc.RigidBody)).resetVelocity(),r.angularVelocity=0,r.type=cc.RigidBodyType.Dynamic;else(a=new cc.Node(this.block.name)).angle=this.blockAngle,a.group="DynamicScene",a.width=60,a.height=60,(r=a.addComponent(cc.RigidBody)).gravityScale=3,r.type=cc.RigidBodyType.Dynamic,(c=a.addComponent(cc.PhysicsBoxCollider)).density=.01,c.size.width=60,c.size.height=60,c.apply(),a.addComponent(cc.Sprite).spriteFrame=this.block;a.blockShowTime=this.blockShowTime,a.showTime=this.blockShowTime,a.zIndex=999,n._tmpNode.setParent(null),n._tmpNode.x=l,n._tmpNode.y=0,this.node.addChild(n._tmpNode),n._tmpNode.getWorldPosition(this.tempV2b),n._tmpNode.setParent(null),a.x=this.node.x+(this.tempV2b.x-d.x),a.y=this.node.y+(this.tempV2b.y-d.y),this.node.parent.addChild(a),n.blocks.push(a),r.angularVelocity=180+90*Math.random(),this._setLinearVelocity(a,r)}}},_setLinearVelocity:function(e,t){this.other.node.getWorldPosition(this.tempV2a),e.getWorldPosition(this.tempV2b),this.tempV2b.x-=this.tempV2a.x,this.tempV2b.y-=this.tempV2a.y;var i=o.getLength(this.tempV2b),n=void 0,s=0;if(i<200){var a=o.getLength(this.other.node.getComponent(cc.RigidBody).linearVelocity);n=o.getAngleByVector(this.tempV2b)/180*Math.PI,s=a/(Math.max(100,i)/100)}else n=2*Math.random()*Math.PI;s=Math.max(200,s),s=Math.min(2e3,s),this.tempV2b.x=s*Math.sin(n),this.tempV2b.y=s*Math.cos(n),t.linearVelocity.x=s*Math.sin(n),t.linearVelocity.y=s*Math.cos(n)},resize:function(e,t){o.resize(this.node,e,t)},onDestroy:function(){cc.game.off("GameRestart",this.onGameRestart,this)}});n._tmpNode=new cc.Node,n.pools={},n.blocks=[],n.tempV2a=new cc.Vec2,n.tempV2b=new cc.Vec2,n.getPool=function(e){var t=n.pools[e];return t||(t=n.pools[e]=new cc.NodePool),t},n.update=function(e){for(var t=n.blocks,i=void 0,o=t.length-1;o>=0;o--)(i=t[o]).showTime-=e,i.showTime<=0?n._recoverBlock(i,o):i.opacity=i.showTime/i.blockShowTime*255},n._recoverBlock=function(e,t){var i=e.getComponent(cc.RigidBody);i.resetVelocity(),i.angularVelocity=0,i.type=cc.RigidBodyType.Static,e.removeFromParent(),n.blocks.removeAt(t),n.getPool(e.name).put(e)},n._recoverBlocks=function(){for(var e=void 0,t=void 0,i=n.blocks.length-1;i>=0;i--)(t=(e=n.blocks[i]).getComponent(cc.RigidBody)).resetVelocity(),t.angularVelocity=0,t.type=cc.RigidBodyType.Static,e.removeFromParent(),n.blocks.removeAt(i),n.getPool(e.name).put(e)},n.onGameRestart=function(){n._recoverBlocks()},cc._RF.pop()},{Context:"Context",ParticleSystemColliderBox:"ParticleSystemColliderBox"}],TntScopeTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"3a138Q64r9O558sHCnV9fx0","TntScopeTrigger"),cc.Class({extends:cc.Component,start:function(){this.isInScope=!1},onGameRestart:function(){this.isInScope=!1},onBeginContact:function(e,t,i){this.isInScope=!0},onEndContact:function(e,t,i){this.isInScope=!1}}),cc._RF.pop()},{}],TntThrowCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"d2e0cAYqBBNG5l0im0sI+oC","TntThrowCtrl");var o=e("Context"),n=e("Executor"),s=e("TntScopeTrigger");cc.Class({extends:n,properties:{speed:{default:500,tooltip:"\u77ac\u95f4\u901f\u5ea6"},speedConfirmTime:{default:.1,tooltip:"X\u79d2\u5185\u4e00\u5b9a\u8981\u4fdd\u8bc1\u901f\u5ea6"},force:{default:2e4,tooltip:"\u77ac\u95f4\u51b2\u529b"},reset:{default:!0,tooltip:"\u662f\u5426\u5148\u53d6\u6d88\u539f\u6765\u7684\u901f\u5ea6\u518d\u65bd\u52a0\u51b2\u529b"}},start:function(){this.tempV2a=new cc.Vec2,this.tempV2b=new cc.Vec2,this.delay=this.delay||-1,this.throwCnt=0},update:function(e){this._speedConfirmTime>0&&this._execute(e),-1!==this.delay&&(this.delay-=e,this.delay<=0&&(this.delay=-1,this._isRoleInScope()&&(this.speed&&(this._speedConfirmTime=this.speedConfirmTime),this._execute(e))))},_isRoleInScope:function(){var e=this.node.getComponent(s);return!e||e.isInScope},onDisable:function(){this._speedConfirmTime=0},_execute:function(e){this._speedConfirmTime-=e;var t=o.angleToDegree(this.node.angle),i=o.motor.children,n=void 0;if(this.speed>0){this.tempV2a.x=this.speed*Math.cos(t),this.tempV2a.y=this.speed*Math.sin(t);for(var s=0;s<i.length;s++)n=i[s].getComponent(cc.RigidBody),this.reset&&n.resetVelocity(),n.linearVelocity=this.tempV2a}else{this.tempV2a.x=this.force*Math.cos(t),this.tempV2a.y=this.force*Math.sin(t);for(var a=0;a<i.length;a++)n=i[a].getComponent(cc.RigidBody),this.reset&&n.resetVelocity(),n.getWorldCenter(this.tempV2b),n.applyLinearImpulse(this.tempV2a,this.tempV2b)}},onGameRestart:function(){this.delay=-1,this.throwCnt=0},execute:function(e){this.delay=e}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",TntScopeTrigger:"TntScopeTrigger"}],TntTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"544e5PRD4VDFJyoIsZR+W5Q","TntTrigger");var o=e("Context"),n=e("Executor"),s=e("Trigger");cc.Class({extends:cc.Component,properties:{spriteFrames:{type:[cc.SpriteFrame],default:[],tooltip:"\u7528\u6765\u5207\u6362\u7684\u4e24\u5f20\u56fe\u7247"},executors:{type:[cc.String],default:[],tooltip:"\u4f1a\u89e6\u53d1\u54ea\u4e9b\u673a\u5173\u3002\u683c\u5f0f\uff1a\u8282\u70b9\u540d\u79f0:\u5ef6\u8fdf\u65f6\u95f4\u3002"}},start:function(){cc.game.on("GameRestart",this.onGameRestart,this),s.addTrigger(this)},onGameRestart:function(){this.hasTrigger=!1,this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[0];for(var e=void 0,t=0;t<this.executors.length;t++)e=(e=this.executors[t]).split(":")[0],o.getNodeInScene(e).getComponent(n).onGameRestart()},onBeginContact:function(e,t,i){if(cc.$game.isColliderValid()&&!this.hasTrigger){this.hasTrigger=!0,o.audio.playSwitchLever(),this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[1];for(var s=void 0,a=void 0,r=void 0,c=0;c<this.executors.length;c++)a=0,(s=this.executors[c]).contains(":")&&(s=(r=s.split(":"))[0],a=parseFloat(r[1])),o.getNodeInScene(s).getComponent(n).execute(a)}},onDestroy:function(){cc.game.targetOff(this)}}),cc._RF.pop()},{Context:"Context",Executor:"Executor",Trigger:"Trigger"}],TrickTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"f69ba+k85RGfL3dTjCicckQ","TrickTrigger");var o=e("MotorCtrl"),n=e("Context"),s=cc.Class({extends:cc.Component,properties:{isSlowMotion:{default:!1,tooltip:"\u662f\u5426\u6162\u52a8\u4f5c"}},start:function(){this.hasTrigger=!1,cc.game.on("GameRestart",this.onGameRestart,this)},onGameRestart:function(){this.hasTrigger&&(this.hasTrigger=!1,this.node.opacity=255)},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&this._onTrigger(i,t)},_onTrigger:function(e,t){if(!this.hasTrigger){this.hasTrigger=!0,this.node.opacity=0,this.other=e,cc.game.emit("TriggerTrick",s.TrickNames[Math.floor(Math.random()*s.TrickNames.length)]);var i=n.motor.getChildByName("Base").getComponent(o);cc.director.getScheduler().schedule(i.onTriggerTrickEnd,i,1.7,0,0,!1),this.isSlowMotion?n.audio.playSlowMotion():n.audio.playCheckPoint()}}});s.TrickNames=["AntiGravity","FeetControl","HotSeat","OneHanded","Skater","SuperBoy"],cc._RF.pop()},{Context:"Context",MotorCtrl:"MotorCtrl"}],Trigger:[function(e,t,i){"use strict";cc._RF.push(t,"76319GzuMdAT63fxmhlGqJc","Trigger");var o=e("Context"),n=e("Executor"),s=cc.Class({extends:n,properties:{executors:{type:[cc.String],default:[],tooltip:"\u4f1a\u89e6\u53d1\u54ea\u4e9b\u673a\u5173\u3002\u683c\u5f0f\uff1a\u8282\u70b9\u540d\u79f0:\u5ef6\u8fdf\u65f6\u95f4\u3002"},activeOnLoad:{default:!0,tooltip:"\u9ed8\u8ba4\u6fc0\u6d3b\u72b6\u6001"}},gameUpdate:function(e){this._init(),-1!==this.delay&&(this.delay-=e,this.delay<=0&&(this.delay=-1,this.onBeginContact()))},start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.$active=this.activeOnLoad,this.delay=-1,s.addTrigger(this),cc.game.on("GameRestart",this.onGameRestart,this))},execute:function(e){this._init(),this.$active?(this.delay=e,s.add(this)):this.$active=!0},onGameRestart:function(){this.$active=this.activeOnLoad,this.hasTrigger=!1;var e=void 0,t=void 0;for(e=0;e<this.executors.length;e++)t=(t=this.executors[e]).split(":")[0],o.getNodeInScene(t).getComponent(n).onGameRestart()},onBeginContact:function(e,t,i){if(cc.$game.isColliderValid()&&this.$active&&!this.hasTrigger){this.hasTrigger=!0;for(var s=void 0,a=void 0,r=void 0,c=0;c<this.executors.length;c++)s=this.executors[c],a=-1===this.delay?0:this.delay,s.contains(":")&&(s=(r=s.split(":"))[0],a=parseFloat(r[1])),o.getNodeInScene(s).getComponent(n).execute(a)}},onDestroy:function(){cc.game.targetOff(this)}});s.triggers=[],s.addTrigger=function(e){s.triggers.contains(e)||s.triggers.push(e)},s.executors=[],s.add=function(e){s.executors.contains(e)||s.executors.push(e)},s.remove=function(e){s.executors.remove(e)},s.update=function(e){for(var t=void 0,i=s.executors.length-1;i>=0;i--)(t=s.executors[i]).gameUpdate&&t.gameUpdate(e)&&s.executors.removeAt(i)},s.onGameRestart=function(){},s.reset=function(){for(var e=s.triggers.length-1;e>=0;e--)s.triggers[e].onDestroy();s.triggers.removeAll(),s.executors.removeAll()},cc._RF.pop()},{Context:"Context",Executor:"Executor"}],ViewContinueCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"68112db8zFB8bKUqH2sXDPN","ViewContinueCtrl");e("Context"),e("ScrollViewCtrl");cc.Class({extends:cc.Component,start:function(){cc.game.on("VideoAdClose",this.onVideoAdEnd,this),cc.game.on("VideoAdError",this.onVideoAdEnd,this),cc.game.on("shareSuccess",this.onShareSuccess,this),cc.game.on("shareFail",this.onShareFail,this),this.lbFromStart=this.node.getChildByName("Left").getChildByName("LabelFromStart"),this.lbFromStart.on(cc.Node.EventType.TOUCH_START,this.clickFromStart,this)},onDestroy:function(){this.lbFromStart.off(cc.Node.EventType.TOUCH_START,this.clickFromStart,this)},clickVideo:function(){window.wx?cc.$sdk.config.version!=cc.$sdk.local.version?cc.$sdk.share():cc.$sdk.showVideoAd():this._startGame(!0),cc.$sdk.aldClickEvent("\u5206\u4eab\u7ee7\u7eed","\u6700\u4f73\u7eaa\u5f55\u9875")},clickFromStart:function(){this._startGame(),cc.$sdk.aldClickEvent("\u4ece\u5934\u5f00\u59cb","\u6700\u4f73\u8bb0\u5f55\u9875")},_startGame:function(e){cc.$context.updateBannerStatus(),this.node.active=!1,cc.$game.viewMenu.active=!1,cc.game.emit("GameStart",cc.$game.level,e)},onVideoAdEnd:function(e){this.node.active&&e&&this._startGame(!0)},onShareSuccess:function(){this.node.active&&this._startGame(!0)},onShareFail:function(){this.node.active&&this._startGame(!1)},onEnable:function(){Interaction.bannerAdShow(),window.wx?this._wxinitUI():1==cc.$sdk.environment&&(this.node.getChildByName("Left").x=0,this.node.getChildByName("GuessYouLike").active=!1,this.node.getChildByName("Left").getChildByName("LabelFromStart").y=-60)},onDisable:function(){Interaction.bannerAdHide(),cc.$sdk.newHideBanner(4)},_wxinitUI:function(){cc.$sdk.onSdkExportShow();var e=this;this.node.getChildByName("Left").x=-180,this.node.getChildByName("GuessYouLike").x=265;var t=cc.$context.getCenterX(-420);cc.$sdk.newShowBanner(4,t,75,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner")),cc.$sdk.config.version==cc.$sdk.local.version&&cc.loader.loadRes("gui/button/btn_continue",cc.SpriteFrame,function(t,i){i&&(e.node.getChildByName("Left").getChildByName("ButtonContinue").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=i)});var i=this.node.getChildByName("GuessYouLike").getComponent("ScrollViewCtrl").adview;i.length>0&&window.newViewTongji(i)}}),cc._RF.pop()},{Context:"Context",ScrollViewCtrl:"ScrollViewCtrl"}],ViewFailShareCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"b0c602k/A5Arp5QrbjCGNAd","ViewFailShareCtrl");e("Context");cc.Class({extends:cc.Component,clickShare:function(e,t){},clickBack:function(e,t){this.node.active=!1}}),cc._RF.pop()},{Context:"Context"}],ViewHeaderCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"576318f/05PlYQQFnbf2G0e","ViewHeaderCtrl");var o=e("MotorCtrl"),n=e("GameCtrl");cc.Class({extends:cc.Component,properties:{btnSoundEnabled:{default:null,type:cc.Node},btnSoundDisabled:{default:null,type:cc.Node},motorCtrl:{type:o,default:null},clicksign:!1},start:function(){cc.game.on("SoundEnable",this.onSoundEnabled,this),cc.game.on("SoundDisable",this.onSoundDisabled,this),cc.game.on("GameOver",this.onGameOver,this),cc.game.on("GameResume",this.onGameResume,this),cc.game.on("GameRestart",this.onGameRestart,this),this.time=0,this.LaTime=this.node.getChildByName("LaTime")},update:function(e){cc.$game.isPaused()||this._updateTimeLabel()},_updateTimeLabel:function(){var e=Math.floor(100*cc.$game.timePassed);this.time!==e&&(this.time=e,this.LaTime.getComponent(cc.Label).string=this._formatTimeString(Math.floor(e/100))+":"+this._formatTimeString(Math.floor(e%100)))},_formatTimeString:function(e){return e<10?"0"+e:e},clickSoundEnabled:function(e){cc.game.emit("SoundDisable")},clickSoundDisabled:function(e){cc.game.emit("SoundEnable")},clickRestart:function(e,t){window.wx&&(this.clicksign=!0,cc.$game.viewMoreGame.active=!0),this.node.active=!1,cc.game.emit("GameStart",t)},clickMenu:function(e,t){if(window.wx){if(this.clicksign=!0,cc.$sdk.local.lostReturn=1,cc.$sdk.config&&1==cc.$sdk.config.Gameiconstart){var i=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,i,25,480)}else{var o=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,o,75,480)}cc.$context.updateBannerStatus()}cc.game.emit("GameRestart",t),cc.game.emit("GameMenu",t)},clickHome:function(e,t){if(window.wx){if(this.clicksign=!0,cc.$game.iconStartShow(),cc.$sdk.config&&1==cc.$sdk.config.Gameiconstart){var i=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,i,25,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-210)}else{var o=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,o,75,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-106)}cc.$context.updateBannerStatus()}cc.game.emit("GameRestart",t),cc.game.emit("Home")},onSoundEnabled:function(){this.btnSoundEnabled.active=!0,this.btnSoundDisabled.active=!1,cc.audioEngine.setMusicVolume(1),cc.audioEngine.setEffectsVolume(1)},onSoundDisabled:function(){this.btnSoundEnabled.active=!1,this.btnSoundDisabled.active=!0,cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0)},clickPause:function(){cc.$game.state===n.State.Idle||cc.$game.state===n.State.Playing?(cc.game.emit("GamePause"),this.node.getChildByName("ButtonUp").active=!1,this.node.getChildByName("ButtonDown").active=!1,this.node.getChildByName("ButtonLeft").active=!1,this.node.getChildByName("ButtonRight").active=!1):cc.game.emit("GameResume")},onEnable:function(){this.updateLvTxt(),cc.$context.updateBannerStatus(),cc.$sdk.local.sound?this.onSoundEnabled():this.onSoundDisabled()},updateLvTxt:function(){this.node.getChildByName("LaLv").getComponent(cc.Label).string=cc.$game.level||1},onDisable:function(){this.clicksign?this.clicksign=!1:cc.$sdk._curiconAd&&cc.$sdk._curiconAd.hide()},onGameOver:function(){},onGameResume:function(){this.node.getChildByName("ButtonUp").active=!0,this.node.getChildByName("ButtonDown").active=!0,this.node.getChildByName("ButtonLeft").active=!0,this.node.getChildByName("ButtonRight").active=!0},onGameRestart:function(){this.updateLvTxt(),this.node.getChildByName("ButtonUp").active=!0,this.node.getChildByName("ButtonDown").active=!0,this.node.getChildByName("ButtonLeft").active=!0,this.node.getChildByName("ButtonRight").active=!0},onDestroy:function(){cc.$sdk._curiconAd.hide(),cc.game.targetOff(this)}}),cc._RF.pop()},{GameCtrl:"GameCtrl",MotorCtrl:"MotorCtrl"}],ViewHeaderLoseCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"2971d9wZ7ZBGr6NA7NnQazn","ViewHeaderLoseCtrl");var o=e("MotorCtrl");cc.Class({extends:cc.Component,properties:{motorCtrl:{type:o,default:null}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouch,this)},onTouch:function(){this.motorCtrl.pressKey(0)},onDestroy:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouch,this)}}),cc._RF.pop()},{MotorCtrl:"MotorCtrl"}],ViewLoseCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"e75d9hjDtZD7b3zpvSmm1Hv","ViewLoseCtrl");e("Context"),e("ScrollViewCtrl");var o=e("dygameLoadPrefab"),n=e("dygameDefineInfo");cc.Class({extends:cc.Component,start:function(){this.btnRelive=this.node.getChildByName("Left").getChildByName("ButtonRelive"),console.log(" LoseCtrl === ")},update:function(e){this._showBtnReliveTime>0&&(this._showBtnReliveTime-=e,this._showBtnReliveTime<=0&&(this.btnRelive.active=!0))},clickRelive:function(){var e=this;cc.log(" == clickRelive == "),cc.$dygame&&cc.$dygame._loadRewardedVideoAd(1,function(){cc.$sdk.local.faileViewShowTime++>Interaction.deaths&&Interaction.adEnable.reward.gameFaile&&(cc.$sdk.local.faileViewShowTime=0,Interaction.rewardAdShow()),cc.game.emit("GameRestart"),e.checkReliveTimes()},function(e,t){console.log("dayugameVideo == ",e);var i="Video failed to play !";"complete"==e?i="Receive success":"not"==e&&(i="Video not finished !"),o.default.instance.InitPopview(n.PrefabType.TipPanel,i)},3)},clickBack:function(){cc.log(" Lose == clickBack == "),this.node.active=!1,cc.$sdk.local.lostReturn=1,cc.game.emit("GameMenu")},clickShare:function(){},onEnable:function(){console.log(" ViewLose  onEnable")},onDisable:function(){},checkReliveTimes:function(){},changePostion:function(e){var t=this.node.getChildByName("newlost");e?(t.getChildByName("line").y=246,t.getChildByName("tipstr").y=287,t.getChildByName("return").x=-400,t.getChildByName("return").y=285):(t.getChildByName("line").y=173,t.getChildByName("tipstr").y=251,t.getChildByName("return").x=-400,t.getChildByName("return").y=245)},_wxinitUI:function(){},_vivoinitUI:function(){var e=this;this.node.getChildByName("line").active=!1,this.node.getChildByName("newlost").getChildByName("line").active=!1,this.node.getChildByName("Left").getChildByName("ButtonTzhy").active=!1,this.node.getChildByName("newlost").getChildByName("tipstr").y=100,this.node.getChildByName("Left").getChildByName("ButtonRelive").y=-160,cc.loader.loadRes("gui/button/btn_video_relive",cc.SpriteFrame,function(t,i){i&&(e.node.getChildByName("Left").getChildByName("ButtonRelive").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=i)})},SubscribeMessage:function(){if(window.wx&&(cc.$sdk.aldSendEvent("\u8ba2\u9605\u6d88\u606f\u66dd\u5149"),!(cc.$sdk.getLocalDataFormatInt("skinNumCoin")>0))){var e=cc.$sdk.config.subscribe?cc.$sdk.config.subscribe:0;if(cc.$sdk.local.clickReliveTimes1==e){var t=["VBFO4NJEuZtMdaIA0tFABT3S6ZVZLpLcS9lWK4jhNu8"];wx.requestSubscribeMessage({tmplIds:t,success:function(e){if(console.log("\u8ba2\u9605\u6d88\u606f\u6210\u529f",e),"requestSubscribeMessage:ok"==e.errMsg){var i=e.VBFO4NJEuZtMdaIA0tFABT3S6ZVZLpLcS9lWK4jhNu8;i&&"accept"==i&&(cc.$sdk.aldSendEvent("\u8ba2\u9605\u6d88\u606f\u6210\u529f\u66dd\u5149"),cc.$sdk.local._coinLayer=!0,cc.$sdk.SubscribeRecord(t[0]))}},fail:function(e){console.log("\u8ba2\u9605\u6d88\u606f\u5931\u8d25",e)},complete:function(){console.log("\u8ba2\u9605\u6d88\u606f\u6700\u7ec8")}})}}},btn_share:function(){},btn_close:function(){cc.log(" Lose == btn_close == ")}}),cc._RF.pop()},{Context:"Context",ScrollViewCtrl:"ScrollViewCtrl",dygameDefineInfo:"dygameDefineInfo",dygameLoadPrefab:"dygameLoadPrefab"}],ViewMenuCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"8cb0egnNLtNQqyoRJXGKeSV","ViewMenuCtrl");var o=e("AudioCtrl"),n=e("Context"),s=e("dygameLoadPrefab"),a=e("dygameDefineInfo");cc.Class({extends:cc.Component,properties:{btnSoundEnabled:{default:null,type:cc.Node},btnSoundDisabled:{default:null,type:cc.Node},audio:{type:o,default:null}},start:function(){cc.$menu=this,this.skinIdx=0,this.animCtrl=this.node.getComponent(cc.Animation),this.subContextView=this.node.getChildByName("SubContextView"),this.subContextView.active=!1,this.subContextView.getComponent(cc.WXSubContextView).enabled=!1,this.btnSoundEnabled.active=!0,this.btnSoundDisabled.active=!1,cc.game.on("SoundEnable",this.onSoundEnabled,this),cc.game.on("SoundDisable",this.onSoundDisabled,this),cc.game.on("GameStart",this.onGameStart,this),cc.game.on("SkinChanged",this.onSkinChanged,this),cc.game.on("shareSuccess",this.onShareSuccess,this),cc.game.on("shareFail",this.onShareFail,this),this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!1,this.node.getChildByName("NodeD").getChildByName("HorizontalScrollAds").active=!1,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft").active=!1,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!1,this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").active=!1,this.node.getChildByName("GuessYouLike").active=!1,cc.$game.iconStartShow(),this.homeTimes=-1,this.onHome(),1==cc.$sdk.environment&&(this.node.getChildByName("NodeLU").getChildByName("ButtonExit").active=!1,this.node.getChildByName("NodeLU").getChildByName("ButtonRank").active=!1,this.node.getChildByName("ButtonBattle").active=!1)},_getMenuInAniName:function(){return cc.$sdk.isGDT()?"MenuInGDT":"MenuIn"},_getMenuOutAniName:function(){return cc.$sdk.isGDT()?"MenuOutGDT":"MenuOut"},setStar:function(){if(cc.$game&&cc.$game.levelData)for(var e=cc.$game.levelData,t=void 0,i="Lv_1_5",o=1;o<=20;o++){o>=1&&o<=5?i="Lv_1_5":o>=6&&o<=10?i="Lv_6_10":o>=11&&o<=15?i="Lv_11_15":o>=16&&o<=20&&(i="Lv_16_20"),t=this.node.getChildByName(i).getChildByName("ButtonLv"+o);var n=cc.$debug&&cc.$debug.allLevelActive?3:e[o].star;if(cc.$sdk.config&&1===cc.$sdk.config.guankaopen&&(n=3),1===o&&(n=Math.max(n,0)),-1===n)this._setLvBtnEnable(t,!1);else{this._setLvBtnEnable(t,!0);var s=t.getChildByName("Background");s.getChildByName("star3").active=n>=3,s.getChildByName("star2").active=n>=2,s.getChildByName("star1").active=n>=1}}},_setLvBtnEnable:function(e,t){e.getComponent(cc.Button).interactable=t;for(var i=e.getChildByName("Background"),o=0;o<i.children.length;o++)i.children[o].active=t},clickExit:function(){cc.$game.viewMoreGame.active=!0},clickPlay:function(e){this.animPlayingCnt||(this.lastClick="play",this.animPlayingCnt++,this.animCtrl.playAdditive(this._getMenuOutAniName()),cc.$context.osBtn&&cc.$context.osBtn.hide(),window.wx?(this.node.getChildByName("ButtoniconPlay").setPosition(-160,-430),this.node.getChildByName("clickbanner").active=!1,cc.$sdk.newHideBanner(0),cc.$sdk._curiconAd&&cc.$sdk._curiconAd.hide()):cc.$sdk.environment)},clickBike:function(e){this.animPlayingCnt||(this.lastClick="bike",this.dealLock(),this.animPlayingCnt++,this.animCtrl.playAdditive(this._getMenuOutAniName()),cc.$context.osBtn&&cc.$context.osBtn.hide(),cc.$sdk.newHideBanner(0,!0),this.animPlayingCnt++,this.animCtrl.playAdditive("BikesIn"),this.playDelaySoundSpeedUp(),window.wx?(this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft").active=!0,this.node.getChildByName("NodeD").getChildByName("HorizontalScrollAds").active=!0,this.node.getChildByName("ButtoniconPlay").setPosition(-160,-430),this.node.getChildByName("clickbanner").active=!1):cc.$sdk.environment)},clickLevel:function(e,t){Interaction.bannerAdHide();var i=parseInt(t);!isNaN(i)&&i&&(i===cc.$game.maxLv&&void 0!==cc.$game.levelData[i].savePointIdx&&(cc.$game.level=i),this.animPlayingCnt=0,this.node.active=!1,cc.$game.dealIconPostion(3),cc.game.emit("GameStart",t))},clickSoundEnabled:function(e){cc.game.emit("SoundDisable")},clickRank:function(){this.animPlayingCnt||(this.lastClick="rank",this.animPlayingCnt++,this.animCtrl.playAdditive(this._getMenuOutAniName()),cc.$context.osBtn&&cc.$context.osBtn.hide(),cc.$sdk.newHideBanner(0,!0),this.animPlayingCnt++,this.animCtrl.playAdditive("RankIn"),this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!0,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!0,this.node.getChildByName("ButtoniconPlay").setPosition(-160,-430),this.node.getChildByName("clickbanner").active=!1,this.subContextView.active=!0,this.subContextView.getComponent(cc.WXSubContextView).enabled=!0,cc.$sdk.openRank())},clickShare:function(){cc.$sdk.share()},clickSoundDisabled:function(e){cc.game.emit("SoundEnable")},onShareSuccess:function(){console.log("\u5206\u4eab\u6210\u529f\u8c03\u7528===="),cc.$sdk.local.skinReward?cc.$sdk.local.skinReward=!1:this.node.active&&this.clickLevel(void 0,cc.$game.maxLv)},onShareFail:function(){console.log("\u5206\u4eab\u5931\u8d25\u8c03\u7528===="),cc.$sdk.local.skinReward&&(cc.$sdk.local.skinReward=!1)},onSoundEnabled:function(){this.btnSoundEnabled.active=!0,this.btnSoundDisabled.active=!1,cc.$sdk.local.sound=!0,cc.audioEngine.setMusicVolume(1),cc.audioEngine.setEffectsVolume(1)},onSoundDisabled:function(){this.btnSoundEnabled.active=!1,this.btnSoundDisabled.active=!0,cc.$sdk.local.sound=!1,cc.audioEngine.setMusicVolume(0),cc.audioEngine.setEffectsVolume(0)},clickBack:function(){this.animPlayingCnt||("play"===this.lastClick?(this.animPlayingCnt++,this.animCtrl.playAdditive("AllLevelsOut"),this._popSdkVideoAds()):"bike"===this.lastClick?(this.animPlayingCnt++,this.animCtrl.playAdditive("BikesOut"),this._popSdkVideoAds()):"rank"===this.lastClick?(this.animPlayingCnt++,this.animCtrl.playAdditive("RankOut"),this._popSdkVideoAds()):(this.animPlayingCnt++,this.animCtrl.playAdditive("AllLevelsOut")),window.wx&&(cc.$sdk.config&&1==cc.$sdk.config.Gameiconstart?cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-210):cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-106),cc.$game.iconStartShow()))},clickSkin:function(e,t){var i=this;console.log(" clickSkin == ",t);var o=parseInt(t),n="skinNum"+o,r=parseInt(cc.sys.localStorage.getItem(n));isNaN(r)||""==r||null==r||0==r?(r=0,cc.$dygame&&cc.$dygame._loadRewardedVideoAd(1,function(){var e=parseInt(cc.sys.localStorage.getItem(n));(isNaN(e)||""==e||null==e)&&(e=0),e=1,cc.sys.localStorage.setItem(n,e);var t=i.node.getChildByName("ColorBtns");t&&(t.children[o].getChildByName("lock").active=!1),cc.game.emit("SkinChanged",o)},function(e,t){console.log("dayugameVideo == ",e);var i="Video failed to play !";"complete"==e?i="Receive success":"not"==e&&(i="Video not finished !"),s.default.instance.InitPopview(a.PrefabType.TipPanel,i)},3)):1==r&&cc.game.emit("SkinChanged",o)},onAniStopMenuIn:function(){if(Interaction.bannerAdShow(),Interaction.exportSpaceAdShow(),this.lastClick=void 0,this.animPlayingCnt--,window.wx){cc.$sdk.onSdkExportShow();var e=cc.$sdk.getLocalDataFormatInt("goto"),t=cc.$sdk.getLocalDataFormatInt("skinNum");if(0==e&&!n.sdk.newreg&&t<4&&!cc.$sdk.isGDT()||cc.$sdk.readPar()&&!cc.$sdk.isGDT()){(i=this.node.getChildByName("GuessYouLike").getComponent("ScrollViewCtrl").adview).length>0&&window.newViewTongji(i)}else{if(-1==cc.$context.isNeedBanner())return;if(cc.$sdk.isGDT()){var i,o=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);if(cc.$sdk.newShowBanner(0,o,25,480),this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").active)(i=this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").getComponent("ScrollViewCtrl").adview).length>0&&window.newViewTongji(i)}else if(cc.$sdk.config&&1==cc.$sdk.config.Gameiconstart){cc.$game.dealIconPostion(1);var s=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,s,25,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-210)}else{var a=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,a,75,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-106)}}}else 1==cc.$sdk.environment&&(this.node.getChildByName("logo2").x=0,this.node.getChildByName("ButtonPlay").setPosition(0,-100))},onAniStopMenuOut:function(){Interaction.exportSpaceAdHide(),Interaction.bannerAdHide(),this.animPlayingCnt--,this.node.getChildByName("GuessYouLike").active=!1,"play"===this.lastClick&&(this.animPlayingCnt++,this.animCtrl.playAdditive("AllLevelsIn"),this.playDelaySoundSpeedUp(),window.wx&&(this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!0,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!0))},onAniStopAllLevelsIn:function(){if(this.animPlayingCnt--,console.log("\u663e\u793a\u5173\u5361"),Interaction.bannerAdShow(),window.wx){if(cc.$sdk.onSdkExportShow(),cc.$sdk.local.level>0&&cc.$sdk.config.portalAd>0&&cc.$sdk.config.portalAd>cc.$sdk.local._curLevel&&0==cc.$sdk.local.lostReturn&&(cc.$sdk._curportalAd.show(),cc.$sdk.local._curLevel++,cc.$sdk.setLocalData("_curLevel",cc.$sdk.local._curLevel)),cc.$sdk.local.level++,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active){var e=this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").getComponent("ScrollViewCtrl").adview;e.length>0&&window.newViewTongji(e)}if(this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active){var t=this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").getComponent("ScrollViewCtrl").adview;t.length>0&&window.newViewTongji(t)}}},onAniStopAllLevelsOut:function(){Interaction.bannerAdHide(),this.animPlayingCnt--,this.animPlayingCnt++,this.animCtrl.playAdditive(this._getMenuInAniName()),cc.$context.osBtn&&cc.$context.osBtn.show(),window.wx?(cc.$sdk.config&&0===cc.$sdk.config.iconshow?this.node.getChildByName("GuessYouLike").active=!1:this.node.getChildByName("GuessYouLike").active=!0,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!1,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!1):1==cc.$sdk.environment&&(this.node.getChildByName("GuessYouLike").active=!1),cc.$sdk.GdtConfig&&0==cc.$sdk.GdtConfig.open&&(this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").active=!0),this.playDelaySoundSpeedUp()},onAniStopBikesIn:function(){if(console.log(" == onAniStopBikesIn == "),cc.$sdk.onSdkExportShow(),this.animPlayingCnt--,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft").active){var e=this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft").getComponent("ScrollViewCtrl").adview;e.length>0&&window.newViewTongji(e)}if(this.node.getChildByName("NodeD").getChildByName("HorizontalScrollAds").active){var t=this.node.getChildByName("NodeD").getChildByName("HorizontalScrollAds").getComponent("ScrollViewCtrl").adview;t.length>0&&window.newViewTongji(t)}},onAniStopBikesOut:function(){this.animPlayingCnt--,console.log(" == onAniStopBikesOut == "),this.animPlayingCnt++,this.animCtrl.playAdditive(this._getMenuInAniName()),cc.$context.osBtn&&cc.$context.osBtn.show(),window.wx?(cc.$sdk.config&&0===cc.$sdk.config.iconshow?this.node.getChildByName("GuessYouLike").active=!1:this.node.getChildByName("GuessYouLike").active=!0,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft").active=!1,this.node.getChildByName("NodeD").getChildByName("HorizontalScrollAds").active=!1,cc.$sdk.GdtConfig&&0==cc.$sdk.GdtConfig.open&&(this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").active=!0)):1==cc.$sdk.environment&&(this.node.getChildByName("GuessYouLike").active=!1)},onAniStopRankIn:function(){cc.$sdk.onSdkExportShow(),this.animPlayingCnt--},onAniStopRankOut:function(){this.animCtrl.playAdditive(this._getMenuInAniName()),cc.$context.osBtn&&cc.$context.osBtn.show(),window.wx?(cc.$sdk.config&&0===cc.$sdk.config.iconshow?this.node.getChildByName("GuessYouLike").active=!1:this.node.getChildByName("GuessYouLike").active=!0,this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!1,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!1,cc.$sdk.GdtConfig&&0==cc.$sdk.GdtConfig.open&&(this.node.getChildByName("NodeR").getChildByName("AutoScrollRightFix3").active=!0)):1==cc.$sdk.environment&&(this.node.getChildByName("GuessYouLike").active=!1),this.subContextView.active=!1,this.subContextView.getComponent(cc.WXSubContextView).enabled=!1,cc.$sdk.closeRank()},playDelaySoundSpeedUp:function(){cc.director.getScheduler().schedule(this._playSoundSpeedUp,this,.5,0,0,!1)},_playSoundSpeedUp:function(){this.audio.playSpeedUp()},onGameStart:function(){this.animCtrl.stop(this._getMenuInAniName())},onGameMenu:function(){cc.$game.viewMoreGame.active=!0,this.lastClick="play",this.animPlayingCnt=1,this.animCtrl.playAdditive("AllLevelsIn",0),window.wx&&(this.node.getChildByName("NodeLU").getChildByName("AutoScrollLeft500").active=!0,this.node.getChildByName("NodeR").getChildByName("AutoScrollRight").active=!0)},onHome:function(){this._popSdkVideoAds(),this.animCtrl.stop("AllLevelsIn"),this.animPlayingCnt=1;var e=this.animCtrl.getAnimationState("AllLevelsOut");this.animCtrl.playAdditive("AllLevelsOut",e.duration)},_popSdkVideoAds:function(){this.homeTimes++;var e=cc.$sdk.config?cc.$sdk.config.advideotimes:0;cc.$sdk.config&&cc.$sdk.config.advideo&&e&&e.contains(this.homeTimes)?cc.$game.viewVideoGame.active=!0:0!==this.homeTimes&&(cc.$game.viewMoreGame.active=!0)},onSkinChanged:function(e){if(console.log(" == onSkinChanged == ",e),e!==this.skinIdx){this.skinIdx=e;var t=e+1,i=this.node.getChildByName("postament").getChildByName("Motor");i.getChildByName("Base").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["base/"+t],i.getChildByName("FrontWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+t+"#1"],i.getChildByName("BackWheel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["wheel/"+t+"#2"],i.getChildByName("Obtekatel").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["obtekatel/"+t];var o=this.node.getChildByName("postament").getChildByName("Role");o.getChildByName("body").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/body/"+t],o.getChildByName("head").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/head/"+t],o.getChildByName("l_arm_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/arm/1/"+t],o.getChildByName("l_arm_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/arm/2/"+t],o.getChildByName("r_arm_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/arm/1/"+t],o.getChildByName("r_arm_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/arm/2/"+t],o.getChildByName("l_leg_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/leg/1/"+t],o.getChildByName("l_leg_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/l/leg/2/"+t],o.getChildByName("r_leg_1").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/leg/1/"+t],o.getChildByName("r_leg_2").getComponent(cc.Sprite).spriteFrame=cc.$context.spriteMap["motik/3/entity/000/r/leg/2/"+t]}},onEnable:function(){cc.$sdk.config&&0===cc.$sdk.config.iconshow&&(this.node.getChildByName("GuessYouLike").active=!1),cc.$sdk.local.clickReliveTimes=0,this.node.getChildByName("coin").getChildByName("num").getComponent(cc.Label).string=cc.$sdk.local.coin.toString(),cc.$sdk.local.sound?(this.onSoundEnabled(),cc.$audio.playBgm(cc.$context.audioMap.mb_menu_music)):this.onSoundDisabled()},dealLock:function(){for(var e=this.node.getChildByName("ColorBtns"),t=0;t<e.childrenCount;t++){var i="skinNum"+t,o=parseInt(cc.sys.localStorage.getItem(i));o&&1==o&&(e.children[t].getChildByName("lock").active=!1)}},btn_lastskin:function(){console.log(" == btn_lastskin =="),this.clickSkin(null,5)}}),cc._RF.pop()},{AudioCtrl:"AudioCtrl",Context:"Context",dygameDefineInfo:"dygameDefineInfo",dygameLoadPrefab:"dygameLoadPrefab"}],ViewMoreGameCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"76ec9sGOTVLnoO5h4g+ymjC","ViewMoreGameCtrl");e("MotorCtrl");cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){if(cc.$MoreGame=this,cc.$sdk.isGDT()&&1==cc.$sdk.GdtConfig.open&&(this.node.active=!1),window.wx){cc.$sdk.onSdkExportShow(),cc.$context.updateBannerStatus(),cc.$sdk._curiconAd&&1==cc.$sdk.config.GamecenterIcon?(this.node.getChildByName("GuessYouLike").y=69,this.node.getChildByName("GuessYouLike").height=350):(this.node.getChildByName("GuessYouLike").y=230,this.node.getChildByName("GuessYouLike").height=500);var e=this.node.getChildByName("GuessYouLike").getComponent("ScrollViewCtrl").adview;e.length>0&&window.newViewTongji(e),cc.$game.dealIconPostion(7)}else this.node.active=!1},onDisable:function(){window.wx&&(cc.$game.viewMenu.active&&"play"==cc.$menu.lastClick&&(cc.$sdk.local.lostReturn=1),cc.$context.updateBannerStatus(),cc.$game.viewHeader.active?cc.$game.dealIconPostion(3):cc.$game.viewMenu.getChildByName("ButtoniconPlay")?cc.$game.dealIconPostion(1):cc.$sdk._curiconAd&&cc.$sdk._curiconAd.hide(),cc.$sdk.local._coinLayer&&(cc.$sdk.aldSendEvent("\u91d1\u5e01\u66dd\u51491"),cc.$game.showCoinLayer()))},clickBack:function(){cc.$sdk.config&&1==cc.$sdk.config.force?this.ForceGoto():(this.node.active=!1,cc.$context.loadingFromLastLv&&(cc.$context.loadingFromLastLv=!1,cc.game.emit("GameStart",cc.$game.level+1)))},ForceGoto:function(){var e=this;if(cc.$sdk&&cc.$sdk.ads){cc.$sdk.aldClickEvent("\u76d2\u5b50\u5f3a\u5236\u8fd4\u56de","\u76d2\u5b50\u4e2d\u5fc3");var t=parseInt(Math.random()*(cc.$sdk.ads.length-1));this.lastclick="\u70b9\u51fb\u5f3a\u5236\u8fd4\u56de",cc.$context.sdk.jumpToOtherGame(cc.$sdk.ads[t],function(){e.node.active=!1,cc.$context.loadingFromLastLv&&(cc.$context.loadingFromLastLv=!1,cc.game.emit("GameStart",cc.$game.level+1))})}},addIconAdpostion:function(){if(cc.$sdk._curiconAd&&cc.$sdk._curiconAd.icons.length<7){var e=cc.$sdk._curiconAd.icons.length,t=cc.$sdk._curiconAd.icons[e-1].left,i=cc.$sdk._curiconAd.icons[e-1].top,o=cc.$sdk._curiconAd.icons[e-1].width,n=t+o/2+o+10,s=i+cc.$sdk._curiconAd.icons[e-1].height/2-25,a=cc.$sdk.WXPosToCCPos(this.node,cc.v2(n,s));this.node.getChildByName("buzuad").position=a,this.node.getChildByName("buzuad").active=!0}else this.node.getChildByName("buzuad").active=!1}}),cc._RF.pop()},{MotorCtrl:"MotorCtrl"}],ViewPauseCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"38d99PTpuhG3IdraDhN0W5m","ViewPauseCtrl"),cc.Class({extends:cc.Component,clickNext:function(e,t){this.node.active=!1,cc.game.emit("GameResume",t)},clickRestart:function(e,t){this.node.active=!1,cc.game.emit("GameStart",t)},clickMenu:function(e,t){this.node.active=!1,cc.game.emit("GameRestart",t),cc.game.emit("GameMenu",t)}}),cc._RF.pop()},{}],ViewRankCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"4b68bATrOVHwJE7eZrORezS","ViewRankCtrl"),cc.Class({extends:cc.Component,properties:{wxSubContextView:cc.Node,background:cc.Node},start:function(){this._isShow=!1,this.wxSubContextView.y=1e3,this.background.on("touchstart",this.onClick,this)},onClick:function(){this._isShow=!this._isShow,this._isShow?this.wxSubContextView.y=0:this.wxSubContextView.y=1e3}}),cc._RF.pop()},{}],ViewSkinAdCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"1c70e0v7b1MbbzZJLgr8/Gw","ViewSkinAdCtrl"),cc.Class({extends:cc.Component,properties:{click:!1,time:0,time1:0},start:function(){},onEnable:function(){if(cc.$sdk.local.skinReward=!1,this._initData(),cc.$sdk.onSdkExportShow(),this.node.getChildByName("HorizontalScrollAds").active){var e=this.node.getChildByName("HorizontalScrollAds").getComponent("ScrollViewCtrl").adview;e.length>0&&window.newViewTongji(e)}},_initData:function(){var e=this;if(cc.$sdk.config&&1==cc.$sdk.config.btnPosition){console.log(cc.winSize),console.log(cc.view.getFrameSize());var t=this.node.convertToNodeSpaceAR(cc.v2(100,0));this.node.getChildByName("btngiveup").x=t.x,this.node.getChildByName("btnreward").x=-t.x;var i=cc.$context.getCenterX(-240);cc.$sdk.newShowBanner(1,i,25,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-195)}else{this.node.getChildByName("btngiveup").x=-106,this.node.getChildByName("btnreward").x=106;var o=cc.$context.getCenterX(-240);cc.$sdk.newShowBanner(1,o,75,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-106)}cc.$context.updateBannerStatus(),cc.$sdk.config&&cc.$sdk.config.giveupPicture?cc.loader.load(cc.$sdk.config.giveupPicture,function(t,i){e.node.getChildByName("btngiveup").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)}):cc.loader.loadRes("new/giveup",cc.SpriteFrame,function(t,i){i&&(e.node.getChildByName("btngiveup").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=i)}),cc.$sdk.config&&cc.$sdk.config.rewardPicture?cc.loader.load(cc.$sdk.config.rewardPicture,function(t,i){e.node.getChildByName("btnreward").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)}):cc.loader.loadRes("new/reward",cc.SpriteFrame,function(t,i){i&&(e.node.getChildByName("btnreward").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=i)})},clickGiveUp:function(){this.click||(this.node.active=!1)},clickReward:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=.1;cc.$sdk.config.version!=cc.$sdk.local.version&&(cc.$sdk.share(),cc.$sdk.local.skinReward=!0,e=2);var t=cc.sequence(cc.delayTime(e),cc.callFunc(function(){this.click=!0,wx.showToast({title:"\u76ae\u80a4\u5df2\u9886\u53d6,\u8bf7\u5728\u76ae\u80a4\u529f\u80fd\u4e2d\u67e5\u770b",icon:"none",duration:2e3})}.bind(this)));this.node.runAction(t),cc.$sdk.aldClickEvent("\u9886\u53d6\u76ae\u80a4","\u9886\u53d6\u76ae\u80a4\u9875")}},update:function(e){if(this.time1+=e,this.click&&(this.time+=e,this.time>=2)){this.click=!1,wx.hideToast();var t=parseInt(cc.sys.localStorage.getItem("skinNum"));(isNaN(t)||""==t||null==t)&&(t=0),t<4&&t++,cc.sys.localStorage.setItem("skinNum",t),cc.game.emit("SkinChanged",parseInt(t)),this.node.active=!1}this.time1>=.5&&!this.show&&(console.log("viewskinadctrl updata"),this.show=!0,this.node.getChildByName("btngiveup").active=!0,this.node.getChildByName("btnreward").active=!0)},onDisable:function(){if(cc.$sdk.newHideBanner(1),window.wx)if(cc.$game.viewWin.active){var e=cc.$context.getCenterX(-480);cc.$sdk.newShowBanner(2,e,75,480),cc.$game.showOurBanner(cc.$game.viewWin.getChildByName("clickbanner"),-106)}else if(cc.$game.viewMenu.active)if(1==cc.$sdk.config.Gameiconstart){cc.$game.dealIconPostion(1);var t=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,t,25,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-210)}else{var i=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,i,75,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-106)}}}),cc._RF.pop()},{}],ViewTrickCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"49a33ZLP7BEGrL/mOiDsdWN","ViewTrickCtrl"),cc.Class({extends:cc.Component,properties:{AntiGravity:{type:cc.SpriteFrame,default:null},FeetControl:{type:cc.SpriteFrame,default:null},HotSeat:{type:cc.SpriteFrame,default:null},OneHanded:{type:cc.SpriteFrame,default:null},Skater:{type:cc.SpriteFrame,default:null},SuperBoy:{type:cc.SpriteFrame,default:null},BackFlip:{type:cc.SpriteFrame,default:null},FrontFlip:{type:cc.SpriteFrame,default:null}},start:function(){cc.game.on("TriggerTrick",this.onTriggerTrick,this),this.nameChild=this.node.getChildByName("ImgName"),this.nameChild.active=!1},onTriggerTrick:function(e){this.nameChild.active=!0,this.nameChild.getComponent(cc.Sprite).spriteFrame=this[e],this.nameChild.getComponent(cc.Animation).play("TrickName")},onAniEnd:function(){this.nameChild.active=!1}}),cc._RF.pop()},{}],ViewVideoGameCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"44c43oiD1JPM4DlHZeXpZKQ","ViewVideoGameCtrl");var o=e("GifMask");cc.Class({extends:cc.Component,clickBack:function(){this.node.active=!1},onEnable:function(){var e=this;if(cc.$sdk.onSdkExportShow(),cc.$context.updateBannerStatus(),cc.$sdk.videos){var t=this.node.getChildByName("Games").getChildByName("content"),i=t.children[0],n=void 0;this.videos=this._random3Videos();for(var s=function(s,a){var r=t.children[s];if(r||(r=cc.instantiate(i),t.addChild(r)),n=e.videos[s],r.$data&&r.$data.js===n.js)return"continue";r.$data=n,r.getChildByName("GameName").getComponent(cc.Label).string=n.title.substr(0,5),cc.loader.load(n.img,function(e,t){r.getChildByName("IconMask").getChildByName("GameIcon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)}),r.getChildByName("IconMask").getComponent(o).frames=n.info},a=0,r=this.videos.length;a<r;a++)s(a)}},_random3Videos:function(){var e=[];if(e.pushAll(cc.$sdk.videos),e.length>3)for(;e.length>3;)e.removeAt(Math.floor(e.length*Math.random()));return e},onDisable:function(){if(cc.$context.updateBannerStatus(),this.videos)for(var e=0,t=this.videos.length;e<t;e++)cc.loader.release(this.videos[e].img)}}),cc._RF.pop()},{GifMask:"GifMask"}],ViewWinCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"38820e9uLpC35ewRvTLBkqZ","ViewWinCtrl"),cc.Class({extends:cc.Component,clickNext:function(e,t){this.node.active=!1,console.log(" clickNext == "),Interaction.adEnable.reward.gameSuccess&&Interaction.rewardAdShow(),cc.$game.level<20?(cc.$context.loadingFromLastLv=!0,cc.game.emit("GameStart",cc.$game.level+1)):this.clickMenu()},clickShare:function(){cc.$sdk.share()},clickRestart:function(e,t){this.node.active=!1,cc.game.emit("GameStart",t)},clickMenu:function(e,t){this.node.active=!1,cc.game.emit("GameRestart",t),cc.game.emit("GameMenu",t)},onEnable:function(){console.log(" == ViewWin onEnable"),cc.$dygame&&(cc.$dygame._showBannerAd(0,0),cc.$dygame._isInterstitialAd(cc.$game.level)),Interaction.bannerAdShow(),cc.$sdk.onSdkExportShow();var e=this;if(this.node.getChildByName("Tnode").getChildByName("LaLv").getComponent(cc.Label).string=cc.$game.level||1,this.node.getChildByName("Tnode").getChildByName("LaLv").getChildByName("LaLv").getComponent(cc.Label).string=cc.$game.level||1,cc.$game.timePassed){var t=Math.floor(100*cc.$game.timePassed)/100+"";this.node.getChildByName("Tnode").getChildByName("LaYourTime").getComponent(cc.Label).string=t,this.node.getChildByName("Tnode").getChildByName("LaYourTime").getChildByName("LaYourTime").getComponent(cc.Label).string=t}if(cc.$game.star){var i=cc.$game.star;this.node.getChildByName("Tnode").getChildByName("star1").getChildByName("star").active=i>=1,this.node.getChildByName("Tnode").getChildByName("star2").getChildByName("star").active=i>=2,this.node.getChildByName("Tnode").getChildByName("star3").getChildByName("star").active=i>=3}if(window.wx){cc.$sdk.config&&cc.$sdk.config.portalAd>0&&cc.$sdk.config.portalAd>cc.$sdk.local._curLevel&&(cc.$sdk._curportalAd.show(),cc.$sdk.local._curLevel++,cc.$sdk.setLocalData("_curLevel",cc.$sdk.local._curLevel));var o=this.node.getChildByName("Tnode").getChildByName("GuessYouLike").getComponent("ScrollViewCtrl").adview;o.length>0&&window.newViewTongji(o),cc.$game.showSkinLayer()}else 1==cc.$sdk.environment&&(this.node.getChildByName("Tnode").getChildByName("GuessYouLike").active=!1,this.node.getChildByName("Tnode").getChildByName("ButtonTzhy").active=!1,this.node.getChildByName("Tnode").getChildByName("ButtonNext").setPosition(-225,-90),this.node.getChildByName("Tnode").x=250);cc.$sdk.config&&cc.$sdk.config.nextPicture?cc.loader.load(cc.$sdk.config.nextPicture,function(t,i){e.node.getChildByName("Tnode").getChildByName("ButtonNext").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)}):cc.loader.loadRes("gui/button/btn_next",cc.SpriteFrame,function(t,i){i&&(e.node.getChildByName("Tnode").getChildByName("ButtonNext").getChildByName("Background").getComponent(cc.Sprite).spriteFrame=i)})},onDisable:function(){cc.$sdk.newHideBanner(2),Interaction.bannerAdHide()}}),cc._RF.pop()},{}],ViewWinShareCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"b4834SMt3FGiKXDscM5NA6L","ViewWinShareCtrl"),cc.Class({extends:cc.Component,clickShare:function(e,t){},start:function(){},clickBack:function(e,t){this.node.active=!1}}),cc._RF.pop()},{}],WaterShader:[function(e,t,i){"use strict";cc._RF.push(t,"87d79uxK/VBt7dsNl7WgFIS","WaterShader"),cc.Class({extends:cc.Component,properties:{material:cc.Material},onLoad:function(){},start:function(){this.degree1=0,this.degree2=0,this.sprite=this.node.getComponent(cc.Sprite),this.sprite.setMaterial(0,this.material),this.update(0)},update:function(e){var t=2*Math.PI;this.degree1+=e*Math.PI/5,this.degree1>=t&&(this.degree1-=t),this.degree2-=e*Math.PI/2,this.degree2<=0&&(this.degree2+=t);var i=this.sprite.getMaterial(0);i.setProperty("textureSize",{x:this.node.width,y:this.node.height}),i.setProperty("degree1",this.degree1),i.setProperty("degree2",this.degree2)}}),cc._RF.pop()},{}],WaterTrigger:[function(e,t,i){"use strict";cc._RF.push(t,"06b56gsXQ9I34+5k64uECMK","WaterTrigger");var o=e("AudioCtrl"),n=e("Context"),s=e("ParticleSystem");cc.Class({extends:cc.Component,properties:{audio:{type:o,default:null},motor:{type:cc.Node,default:null,tooltip:"\u6469\u6258\u8f66\u8282\u70b9 Motor Node"},layer1:{type:cc.Node,default:null,tooltip:"\u573a\u666f\u5c42"},layerMotor:{type:cc.Node,default:null,tooltip:"\u6469\u6258\u8f66\u5c42"},partBubble:{type:s,default:null,tooltip:"\u6c34\u6ce1"}},start:function(){this._init()},_init:function(){this._hasInit||(this._hasInit=!0,this.gravityTime=0,this.tempV2=new cc.Vec2,this.tempV2.y=2e4,this.hasTrigger=!1,cc.game.on("GameRestart",this.onGameRestart,this))},onGameRestart:function(){this._init(),this.hasTrigger&&(this.hasTrigger=!1,this.motor.setParent(this.layerMotor),this.contacting=!1,this.partBubble.stop(),this.gravityTime=0,this.other=void 0)},update:function(e){this.hasTrigger&&(this.dt=e,this.contacting&&this._onTrigger(this.other))},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&(this._init(),this.contacting=!0,this._onTrigger(i,t))},onEndContact:function(e,t,i){this._init(),"head"===i.node.name&&(this.contacting=!1,this.gravityTime=1.5)},_onTrigger:function(e,t){if(this.motor&&(this.hasTrigger||(cc.game.delayEmit(.01,"RoleDead","water"),this.hasTrigger=!0,console.log("=========================2",this.layer1?this.layer1.name:null),this.motor.setParent(this.layer1),this.motor.zIndex=this.node.zIndex-1),e&&"head"===e.node.name)){this.other=e;var i=this._getGravityForce(e.node.parent),o=e.node.getComponent(cc.RigidBody);if(this.gravityTime>0)this.gravityTime-=this.dt,this.tempV2.y=.8*i,this.partBubble.play();else{this.tempV2.y=i;var s=o.linearVelocity;if(s.y<0){var a=n.getLength(s);a>1e3&&(o.linearVelocity.y*=.95),a>200&&(this.tempV2.y=i*(a/200)),this.partBubble.play()}else this.partBubble.stop()}o.applyForceToCenter(this.tempV2,!0)}},_getGravityForce:function(e){return 2e4},resize:function(e,t){n.resize(this.node,e,t)}}),cc._RF.pop()},{AudioCtrl:"AudioCtrl",Context:"Context",ParticleSystem:"ParticleSystem"}],WheelCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"3dcaarVL+lF/ZiHpSEc78Oc","WheelCtrl");var o=e("Context");cc.Class({extends:cc.Component,properties:{},start:function(){o.lastCollider=void 0,this.contacts=[]},onBeginContact:function(e,t,i){cc.$game.isColliderValid()&&("Scene"!==i.node.group&&"ColliderScene"!==i.node.group&&"UndeadScene"!==i.node.group||(o.lastCollider=i,this.contacts.contains(i._id)||this.contacts.push(i._id)))},onEndContact:function(e,t,i){this.contacts.remove(i._id)},onPostSolve:function(e,t,i){"Scene"!==i.node.group&&"ColliderScene"!==i.node.group||(o.lastCollider=i,this.contacts.contains(i._id)||this.contacts.push(i._id))},isOnGround:function(){return this.contacts&&!this.contacts.isEmpty()}}),cc._RF.pop()},{Context:"Context"}],XxxSdk:[function(e,t,i){"use strict";cc._RF.push(t,"b90aemEgdVC9qXLny1b+FhF","XxxSdk");var o=e("Context");cc.Class({extends:cc.Component,properties:{appId:{default:"",tooltip:"\u5e94\u7528ID"}},onLoad:function(){},start:function(){o.sdk=this,cc.$sdk=this,this._videoErrorTimes=0,this._MAX_VIDEO_ERROR_TIMES=5,this.last_look_video=0,this.aderrcount=0,this.environment=1,this.local={gdtBanner:!0,showlost:0,coin:0,clickReliveTimes:0,clickReliveTimes1:0,lostReturn:0,level:0,_curLevel:0,_curtimes:0,_coinLayer:!1,sound:!0,hideScreen:!1,version:"1.0.1",skinReward:!1,pb:!0,faileViewShowTime:0},this.initBnnerData=[{id:"adunit-47fa1b649a89c318",bannerad:null},{id:"adunit-024d957bea972697",bannerad:null},{id:"adunit-373fed822ea8ccfb",bannerad:null},{id:"adunit-4ef2151d9292a94d",bannerad:null},{id:"adunit-2c34cda00091fa92",bannerad:null},{id:"adunit-19c8a94e12740946",bannerad:null}],this.initbannershow=!0,this._bannerUnitId=["adunit-373fed822ea8ccfb","adunit-024d957bea972697","adunit-47fa1b649a89c318","adunit-4ef2151d9292a94d"],this._videoUnitId="adunit-9e945126303f5119",this.createPreTotalBanner(),this.createGameIcon(),this._getAds(),this._getShares(),this._getConfig(),this._getGdtConfig(),this._getVideos(),this._pbconfig(),this.reqRank(),this.createGamePortal(),this.createGameBanner();var e=this.getLocalDataFormatInt("skinNum");if(this.local.coin=e,this.checkUserInfo(),!window.wx)try{var t=cc.sys.localStorage.getItem("CUSTOM_DATA");t&&(this.customData=JSON.parse(t),cc.game.emit("GetCustomData"))}catch(e){console.log(e)}window.wx&&wx.onAudioInterruptionEnd(function(){}),window.wx&&wx.showShareMenu(),window.wx&&wx.updateShareMenu({withShareTicket:!0}),this._createVideoAd(),window.wx&&wx.onHide(function(){cc.$sdk._hideTime=Date.now(),cc.$audio.stopBgm(),cc.$sdk.local.hideScreen=!0}),window.wx&&wx.onShow(function(e){(cc.$audio.resumeBgm(),cc.$sdk.onShare)?Date.now()-cc.$sdk._hideTime<3e3?cc.$sdk.onShareFail():cc.$sdk.onShareSuccess():cc.$sdk.local.hideScreen&&(cc.$game.viewMoreGame.active=!0);cc.$sdk.local.hideScreen=!1}),window.wx&&wx.onAudioInterruptionEnd(function(){cc.$audio.resumeBgm()}),this.checkUpdate()},_getAds:function(){if(window.wx){var e=cc.loader.getXMLHttpRequest(),t=this;e.onreadystatechange=function(){if(4===e.readyState&&e.status>=200&&e.status<300){var i=e.responseText;if(t.info=JSON.parse(i),console.log("\u5bfc\u51fa\u5217\u8868",t.info),0===t.info.code){t.ads=[];for(var o=0;o<t.info.data.length;o++){var n=t.info.data[o],s={adid:0,resid:0,appid:"",adappid1:"",adappid2:"",imgurl:"",title:"",path:"",type:0};"large"==n.sizeFlag&&(s.type=1),s.adid=n.adid,s.resid=n.resid,s.appid=n.adappid_K,s.adappid1=n.appid,s.img=n.resurl,s.title=n.resname,s.adappid2=n.adappid,s.path=n.adpath,t.ads.push(s)}cc.game.emit("SDKReady")}}};e.open("POST","https://xcxadsys.715083.com/api/adjsonbyappid?appid=wxbddc07f24880633e",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("")}},_getVideos:function(){if(window.wx){var e=cc.loader.getXMLHttpRequest(),t=this;e.onreadystatechange=function(){if(4===e.readyState&&e.status>=200&&e.status<300)try{var i=e.responseText,o=JSON.parse(i);if(console.log("\u89c6\u9891\u5217\u8868",o),o.data){t.videos=o.data;for(var n=0;n<t.videos.length;n++)t._getGif(t.videos[n])}}catch(e){console.error(e)}};e.open("POST","https://xcxapi-hyh.715083.com/open/data/config.json?key=jsmtc2video",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("")}},_getGif:function(e){if(window.wx){var t=cc.loader.getXMLHttpRequest();t.onreadystatechange=function(){if(4===t.readyState&&t.status>=200&&t.status<300)try{var i=t.responseText,o=JSON.parse(i);o.info&&(e.info=o.info,o.info.sort(function(e,t){var i=e.name.substr(0,e.name.indexOf("."));-1!==i.indexOf("-")&&(i=i.substr(i.indexOf("-")+1));var o=t.name.substr(0,t.name.indexOf("."));return-1!==o.indexOf("-")&&(o=o.substr(o.indexOf("-")+1)),parseInt(i)>parseInt(o)?1:-1}))}catch(e){console.error(e)}};var i=e.js;t.open("GET",i,!0),t.timeout=5e3,t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("")}},_getShares:function(){if(window.wx){var e=cc.loader.getXMLHttpRequest(),t=this;e.onreadystatechange=function(){if(4===e.readyState&&e.status>=200&&e.status<300){var i=e.responseText,o=JSON.parse(i);if(0!==o.code)return;if(t.shares=o.data,!t.shares||0===t.shares.length)return void console.error("\u5206\u4eab\u63a5\u53e3\u65e0\u6570\u636e\u8fd4\u56de\uff01");if(!window.wx)return;var n=t.shares[Math.floor(t.shares.length*Math.random())];console.log("=====6",n),wx.onShareAppMessage(function(){return{title:n.title,imageUrl:n.img,query:n.path,success:function(){}}})}};e.open("POST","https://xcxapi-hyh.715083.com/open/gg/info.json?zdkey=jsmtc2share&mrkey=shareImg",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("")}},_getConfig:function(){if(window.wx){var e=cc.loader.getXMLHttpRequest(),t=this;e.onreadystatechange=function(){4===e.readyState&&e.status>=200&&e.status<300&&(t.config=JSON.parse(e.responseText),t.config.count=0)};e.open("POST","https://xcxapi-hyh.715083.com/open/data/config.json?key=jsmtc2config",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("")}},_getGdtConfig:function(){if(window.wx){var e=cc.loader.getXMLHttpRequest(),t=this;e.onreadystatechange=function(){if(4===e.readyState&&e.status>=200&&e.status<300){var i,o=JSON.parse(e.responseText);if(o&&o.length){for(var n=0;n<o.length;n++)o[n].appid==t.appId&&(i=o[n]);var s=i.data;for(n=0;n<s.length;n++)wx.getLaunchOptionsSync().query&&s[n].channel==wx.getLaunchOptionsSync().query.channel&&(t.GdtConfig=s[n])}}};e.open("POST","https://xcxapi-hyh.715083.com/open/data/config.json?key=gdtvertify",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("")}},createReqBtn:function(e,t,i,n){if(window.wx&&o.sdk&&0!==this.userInfoStatus){var s=cc.view.getFrameSize().height/640;console.log("createReqBtn"),o.osBtn=wx.createUserInfoButton({type:"text",text:"",style:{width:i*s,height:n*s,left:e*s,top:t*s,textAlign:"center"}}),o.osBtn.onTap(this._onUserInfoBtnTap)}},closeReqBtn:function(){o.osBtn&&(o.osBtn.offTap(this._onUserInfoBtnTap),o.osBtn.hide(),o.osBtn.destroy(),o.osBtn=void 0)},_onUserInfoBtnTap:function(){o.sdk.checkUserInfo()},wxLogin:function(){if(window.wx){var e="https://xcxapi-hyh.715083.com/open/user/auth.json?appid=wxbddc07f24880633e&code=";1==this.environment&&(wx=window.qg,e="https://xcxapi-hyh.715083.com/open/authorization.do?appid=100002943&code="),wx.login({success:function(t){t.code?(console.log("\u767b\u9646\u6210\u529f"),console.log(t.code),o.sdk._onWxLoginSucc(t.code,e)):console.log("\u767b\u9646\u5931\u8d25")}})}},request:function(e,t,i,o){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){4===n.readyState&&n.status>=200&&n.status<300&&o(n.responseText)},n.open(t||"GET",e,!0),n.timeout=5e3,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(i)},_onWxLoginSucc:function(e,t){var i={code:e,appid:this.appId};console.log(i),this.request(t+e,"GET","",function(e){console.log("SDK\u6388\u6743\u8fd4\u56de",e),0===(e=JSON.parse(e)).code&&(o.sdk.authcode=e.authcode,o.sdk.openid=e.openid,o.sdk.version=e.version,o.sdk.newreg=e.newreg,o.sdk.gameflag=e.gameflag,o.sdk.newcode=e.newcode,o.sdk._onSdkAuthSucc(),o.sdk.sdkGetData(),wx.postMessage({type:"saveOpenId",openId:e.openid}))})},_onwxUserData:function(){o.sdk.authcode=window.authcode,o.sdk.openid=window.openid,o.sdk.newreg=window.newreg,o.sdk.sdkGetData(),cc.sys.platform==cc.sys.WECHAT_GAME&&wx.postMessage({type:"saveOpenId",openId:window.openid})},_pbconfig:function(){window.wx&&this.request("https://pbapi.715083.com/api/pbjson?appid="+this.appId,"GET","",function(e){console.log("\u533a\u57df\u8fd4\u56de",e),0===(e=JSON.parse(e)).code&&(cc.$sdk.local.pb=e.pb,console.log(cc.$sdk.local))})},_onSdkAuthSucc:function(){var e=wx.getLaunchOptionsSync().query.channel;1==this.environment&&(e="vivo"),this.request("https://xcxapi-hyh.715083.com/open/stats.do?appid="+this.appId+"&authcode="+this.authcode+"&type="+(o.sdk.newreg?"newreg":"olduser")+"&from="+e,"GET","",function(e){console.log("\u4e0a\u4f20\u7edf\u8ba1\u6570\u636e\u5230\u670d\u52a1\u5668====",e)})},sdkSaveData:function(e){if(window.wx){var t={data:e,authcode:this.authcode,appid:this.appId};this.request("https://xcxapi-hyh.715083.com/open/user/new/customdata.do","POST",JSON.stringify(t),function(e){console.log("SDK\u4fdd\u5b58\u6570\u636e\u6210\u529f",e)})}else cc.sys.localStorage.setItem("CUSTOM_DATA",JSON.stringify(e))},wxSaveRank:function(e){if(window.wx){var t={};t.score=e,wx.postMessage({type:"saveRank",data:t})}},sdkGetData:function(e){var t="https://xcxapi-hyh.715083.com/open/user/new/customdata.json?appid="+this.appId+"&authcode="+this.authcode;this.request(t,"GET","",function(t){console.log("SDK\u83b7\u53d6\u6570\u636e\u6210\u529f",t);var i=JSON.parse(t).data;e&&e(i),o.sdk.customData=i,cc.game.emit("GetCustomData")})},checkUserInfo:function(){window.wx&&wx.getSetting({success:function(e){if(!0===e.authSetting["scope.userInfo"])o.sdk.userInfoStatus=0,o.sdk._getUserInfo(),o.sdk.closeReqBtn(),console.log("\u6388\u6743\u6210\u529f");else{o.sdk.userInfoStatus=1,console.log("\u672a\u6388\u6743\uff0c\u5f39\u51fa\u6388\u6743\u7a97\u53e3");o.sdk.createReqBtn(61,240,128,60)}}})},_getUserInfo:function(){window.wx&&wx.getUserInfo({success:function(e){o.sdk.nickname=e.userInfo.nickName,o.sdk.avatarUrl=e.userInfo.avatarUrl}})},share:function(){if(window.wx){this.onShare=!0;var e=this.shares[Math.floor(this.shares.length*Math.random())],t={};t.title=e.title,t.imageUrl=e.img,wx.shareAppMessage(t)}},onShareFail:function(){console.log("\u5206\u4eab\u5931\u8d25\uff01"),cc.game.emit("shareFail")},onShareSuccess:function(e){console.log("\u5206\u4eab\u6210\u529f\uff01"),cc.game.emit("shareSuccess")},jumpToOtherGame:function(e,t){e&&window.wx&&(wx.navigateToMiniProgram&&e.appid?(window.newResTongji(e.adid,e.resid,e.adappid1,e.adappid2),wx.navigateToMiniProgram({appId:e.appid,path:e.path,fail:function(i){i&&i.errMsg&&i.errMsg.contains("cancel")&&(t?(cc.$sdk.ourbannergoto=0,cc.$MoreGame&&(cc.$MoreGame.lastclick=""),t()):(console.log("\u53d6\u6d88\u8df3\u8f6c"),cc.$game.viewMoreGame.active=!0)),wx.previewImage&&e.barcode&&wx.previewImage({urls:[e.barcode]})},success:function(){cc.$sdk.aldSendEvent("\u5bfc\u51fa",{"\u5141\u8bb8\u70b9\u51fb":e.appid}),console.log("\u5bfc\u51fa","\u5141\u8bb8\u70b9\u51fb",e.appid),1==cc.$sdk.ourbannergoto?(cc.$sdk.aldSendEvent("\u5bfc\u51fa\u6765\u6e90",{"\u5141\u8bb8\u70b9\u51fb":"\u81ea\u5b9a\u4e49banner"}),window.newTongji(e.appid,"\u81ea\u5b9a\u4e49banner"),console.log("\u5bfc\u51fa\u6765\u6e90","\u5141\u8bb8\u70b9\u51fb","\u81ea\u5b9a\u4e49banner"),cc.$sdk.ourbannergoto=0):(cc.$sdk.aldSendEvent("\u5bfc\u51fa\u6765\u6e90",{"\u5141\u8bb8\u70b9\u51fb":cc.$context.getTopViewExportName("\u5bfc\u51fa")}),console.log("\u5bfc\u51fa\u6765\u6e90","\u5141\u8bb8\u70b9\u51fb",cc.$context.getTopViewExportName("\u5bfc\u51fa")),cc.$MoreGame&&(cc.$MoreGame.lastclick=""),window.newTongji(e.appid,cc.$context.getTopViewExportName("\u5bfc\u51fa")))}})):wx.previewImage&&e.barcode&&wx.previewImage({urls:[e.barcode]}))},onSdkExportShow:function(){cc.$game.loaded&&(cc.$sdk.aldSendEvent("\u5bfc\u51fa\u66dd\u5149",{"\u66dd\u5149":cc.$context.getTopViewExportName("\u66dd\u5149")}),console.log("\u5bfc\u51fa\u66dd\u5149","\u66dd\u5149",cc.$context.getTopViewExportName("\u66dd\u5149")))},reqRank:function(){window.wx&&wx.postMessage({type:"reqRankInfo"})},openRank:function(){window.wx&&wx.postMessage({type:"openRank"})},closeRank:function(){window.wx&&wx.postMessage({type:"closeRank"})},showBanner:function(){console.log("\u663e\u793abanner  showBanner"),cc.$sdk._curBanner&&cc.$sdk._curBanner.show()},hideBanner:function(){console.log("\u9690\u85cfbanner"),cc.$sdk._curBanner&&cc.$sdk._curBanner.hide()},createBanner:function(e,t,i,o){this.iii=this.iii||1},_createVideoAd:function(){cc.$sdk._videoUnitId&&window.wx&&wx.createRewardedVideoAd&&(cc.$sdk._videoAd=wx.createRewardedVideoAd({adUnitId:cc.$sdk._videoUnitId}),cc.$sdk._videoAd.onLoad(function(){cc.$sdk._videoErrorTimes=0,console.log("video ad load success "+Date.now())}),cc.$sdk._videoAd.onClose(function(e){var t=!0;e&&(t=e.isEnded),cc.game.emit("VideoAdClose",t)}),cc.$sdk._videoAd.onError(function(e){if(cc.$sdk._videoErrorTimes++,cc.$sdk._videoErrorTimes>=cc.$sdk._MAX_VIDEO_ERROR_TIMES)return console.log("video error max!"),void cc.game.emit("VideoAdError");console.log("video ad load error, retry "+Date.now()),console.log(e),cc.$sdk._videoAd.load()}))},showVideoAd:function(){cc.$sdk._showVideoAd()},_showVideoAd:function(){cc.$sdk._isFirstShowVideo?(cc.$sdk._isFirstShowVideo=!1,cc.$sdk._videoAd.show().catch(function(e){console.log("video show error, retry "+Date.now()),cc.$sdk._videoAd.load().then(function(){cc.$sdk._showVideoAd()})})):cc.$sdk._videoAd.show()},isGDT:function(){return window.wx&&wx.getLaunchOptionsSync()&&wx.getLaunchOptionsSync().query&&wx.getLaunchOptionsSync().query.channel&&cc.$sdk.GdtConfig&&cc.$sdk.GdtConfig.channel&&cc.$sdk.GdtConfig.channel==wx.getLaunchOptionsSync().query.channel},aldSendEvent:function(e,t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.aldSendEvent(e,t)},aldClickEvent:function(e,t){if(console.log("\u963f\u62c9\u4e01","aldClickEvent",e,t),cc.sys.platform===cc.sys.WECHAT_GAME){if(!wx.aldClickEvent)return void console.error("\u7f3a\u5c11\u4e8b\u4ef6\uff1awx.aldClickEvent");wx.aldClickEvent(e,t)}},aldShowEvent:function(e){if(cc.sys.platform===cc.sys.WECHAT_GAME){if(!wx.aldShowEvent)return void console.error("\u7f3a\u5c11\u4e8b\u4ef6\uff1awx.aldClickEvent");wx.aldShowEvent(e)}},checkUpdate:function(){if(window.wx&&"function"==typeof wx.getUpdateManager){var e=wx.getUpdateManager();e.onCheckForUpdate(function(e){}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){})}},createPreTotalBanner:function(){console.log("\u521d\u59cb\u5316banner");for(var e=0;e<6;e++)this.createNewBanner(e,this.initBnnerData[e].id);console.log("\u521b\u5efabanner\u5b8c\u6210",this.initBnnerData)},createNewBanner:function(e,t){if(window.wx){var i=this;console.log("\u521b\u5efabanner"+e),this.initBnnerData[e].bannerad=wx.createBannerAd({adUnitId:t,style:{left:100,top:300,width:300}}),this.initBnnerData[e].bannerad.onError(function(e){console.log("banner\u521b\u5efa\u53d1\u751f\u9519\u8bef",e),cc.$sdk.aderrcount++,cc.$sdk.aderrcount>=4&&(cc.$sdk.local.gdtBanner=!1)}),this.initBnnerData[e].bannerad.onResize(function(t){var o=cc.view.getFrameSize(),n=(o.width,o.height);console.log("\u5e7f\u544a\u9ad8\u5ea6"+t.height),0==e?i.isGDT()?i.initBnnerData[e].bannerad.style.top=n-t.height-25:i.initBnnerData[e].bannerad.style.top=n-t.height-75:1==e?i.initBnnerData[e].bannerad.style.top=n-t.height-75:2==e?i.initBnnerData[e].bannerad.style.top=n-t.height-75:3==e?i.initBnnerData[e].bannerad.style.top=n-t.height-25:4==e?i.initBnnerData[e].bannerad.style.top=n-t.height-75:5==e&&(i.initBnnerData[e].bannerad.style.top=n-t.height-15)}),this.initBnnerData[e].bannerad.resize=function(e,t,i){var o=cc.view.getFrameSize(),n=o.width,s=o.height,a=s/640;e*=a;var r=i*=a;i=Math.max(i,300),e-=((i=Math.min(i,n))-r)/2,console.log("\u5de6\u8fb9\u5f97\u4f4d\u7f6e",e),e=Math.max(e,0);var c=i/this.style.realWidth;t=s-this.style.realHeight*c-t,t=Math.floor(t)+Math.random(),this.style.top=Math.floor(t),this.style.left=Math.floor(e),this.style.width=Math.floor(i)}}},newShowBanner:function(e,t,i,o){window.wx&&this.initBnnerData[e].bannerad&&(this.initBnnerData[e].bannerad.show(),(t||i||o)&&this.initBnnerData[e].bannerad.resize(t,i,o))},newHideBanner:function(e,t){window.wx&&this.initBnnerData[e].bannerad&&(this.initBnnerData[e].bannerad.hide(),t||(this.initBnnerData[e].bannerad.destroy(),this.createNewBanner(e,this.initBnnerData[e].id)))},newAllHideBanner:function(){if(window.wx)for(var e=0;e<this.initBnnerData.length;e++)this.initBnnerData[e].bannerad&&this.initBnnerData[e].bannerad.hide()},getLocalDataString:function(e){var t=cc.sys.localStorage.getItem(e);return null!=t&&void 0!=t||(t=""),t},getLocalDataFormatInt:function(e){var t=parseInt(cc.sys.localStorage.getItem(e));return(isNaN(t)||""==t||null==t)&&(t=0),t},getLocalDataArray:function(e){var t=cc.sys.localStorage.getItem(e);return console.log("kkkll",t),t=null==t||void 0==t||""==t?[]:JSON.parse(t)},setLocalData:function(e,t){cc.sys.localStorage.setItem(e,t)},createGameIcon:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&wx.getSystemInfoSync().SDKVersion>="2.8.2"){this.aldSendEvent("\u63a8\u8350\u7ec4\u4ef6",{"\u56fe\u6807":"\u62c9\u53d6\u6570\u636e"});var e=wx.createGameIcon({adUnitId:"PBgAAjgWNMSlGfYY",count:9});e.onLoad(function(){cc.$sdk.aldSendEvent("\u63a8\u8350\u7ec4\u4ef6",{"\u56fe\u6807":"\u62c9\u53d6\u6210\u529f"}),cc.$sdk._curiconAd=e}),e.onError(function(e){console.log(e)})}},createGamePortal:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&wx.getSystemInfoSync().SDKVersion>="2.8.2"){var e=wx.createGamePortal({adUnitId:"PBgAAjgWNMSDQBxY"});e.onLoad(function(){cc.$sdk._curportalAd=e}),e.onError(function(e){console.log(e)}),e.onClose(function(){cc.$sdk.createGamePortal()})}},createGameBanner:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&wx.getSystemInfoSync().SDKVersion>="2.8.2"){this.aldSendEvent("\u63a8\u8350\u7ec4\u4ef6",{banner:"\u62c9\u53d6\u6570\u636e"});var e=wx.createGameBanner({adUnitId:"PBgAAjgWNMSfdJIc",style:{left:0,top:0}});e.onLoad(function(){cc.$sdk._curGameBanner=e;cc.$sdk.aldSendEvent("\u63a8\u8350\u7ec4\u4ef6",{banner:"\u62c9\u53d6\u6210\u529f"})}),e.onError(function(e){console.log(e)})}},CCRectToWXRect:function(e){var t=this.getWXWindowSize(),i=e.convertToWorldSpaceAR(cc.Vec2.ZERO),o=t.w/cc.winSize.width,n=t.h/cc.winSize.height,s={w:e.width*o,h:e.height*n};return{x:i.x*o-s.w/2,y:t.h-i.y*n-s.h/2,w:s.w,h:s.h}},WXPosToCCPos:function(e,t){var i=this.getWXWindowSize(),o=i.w/cc.winSize.width,n=i.h/cc.winSize.height,s=t.x/o,a=cc.winSize.height-t.y/n,r=cc.v2(s,a);return e.convertToNodeSpaceAR(r)},getWXWindowSize:function(){try{var e=wx.getSystemInfoSync();return{w:e.screenWidth,h:e.screenHeight}}catch(e){}return{w:cc.winSize.width,h:cc.winSize.height}},SubscribeRecord:function(e){var t="https://xyxmsg.715083.com/api/updateformId?appid=wxbddc07f24880633e&openid="+o.sdk.openid+"&formid="+e;console.log(t),this.request(t,"GET","",function(e){-1!=e.code?console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u6210\u529f==="):console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u5931\u8d25===")})},showReward_callback:function(e,t,i){if(cc.sys.platform==cc.sys.WECHAT_GAME){console.log("\u89c6\u9891\u7d22\u5f15\uff1a"+e);var o=wx.createRewardedVideoAd({adUnitId:e});o.load().then(function(){o.show(),console.log("\u89c6\u9891\u6210\u529f\u663e\u793a====")}).catch(function(e){console.log(e),wx.showModal({title:"\u6e29\u99a8\u63d0\u793a",content:"\u975e\u5e38\u62b1\u6b49\uff0c\u4eca\u5929\u89c2\u770b\u89c6\u9891\u6b21\u6570\u5df2\u7528\u5c3d\uff01",cancelText:"\u9000\u51fa"})}),o.onError(function(e){console.log(e)}),o.onClose(function(e){if(o.offClose(),e&&e.isEnded||void 0===e){var n=(new Date).valueOf();(n-cc.$sdk.last_look_video>1e4||0==cc.$sdk.last_look_video)&&(cc.$sdk.last_look_video=n,t&&t())}else i&&i()})}else t&&t()},readPar:function(){if(window.wx)return void 0!=wx.getLaunchOptionsSync().query.tz}}),cc._RF.pop()},{Context:"Context"}],dygameDefineInfo:[function(e,t,i){"use strict";cc._RF.push(t,"7bd743gI3VGXIOFPx5J9MuS","dygameDefineInfo");var o=t,n=i;Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabType=n.AnimType=n.AddType=void 0,(o=n.AddType||(n.AddType={}))[o.coin=0]="coin",o[o.shandian=1]="shandian",(o=n.AnimType||(n.AnimType={}))[o.bizer=0]="bizer",o[o.line=1]="line",(n=n.PrefabType||(n.PrefabType={}))[n.End=0]="End",n[n.TipPanel=1]="dygameTipPanel",n[n.Privilege=2]="Privilege",n[n.JumpPanel=3]="JumpPanel",n[n.AddPanel=4]="AddPanel",n[n.SuccessPanel=5]="SuccessPanel",n[n.LevelTipPanel=6]="LevelTipPanel",n[n.SkinPanel=7]="SkinPanel",cc._RF.pop()},{}],dygameLoadPrefab:[function(e,t,i){"use strict";cc._RF.push(t,"f42f7jFTutKNam1QLMyZziI","dygameLoadPrefab");var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e,a=t,r=i,c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e,t,i,o){var s,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==("undefined"==typeof Reflect?"undefined":"undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;0<=c;c--)(s=e[c])&&(r=(a<3?s(r):3<a?s(t,i,r):s(t,i))||r);return 3<a&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(r,"__esModule",{value:!0});var l,h,g=s("dygameDefineInfo");s=(a=cc._decorator).ccclass,a=a.property,c(p,l=cc.Component),h=p,Object.defineProperty(p,"instance",{get:function(){return h._instance},set:function(e){h._instance=e},enumerable:!1,configurable:!0}),p.prototype.onLoad=function(){h.instance=this},p.prototype.InitPopview=function(e,t){for(var i,o=cc.director.getScene().getChildByName("Canvas"),n=g.PrefabType[e],s=null,a=0;a<this.prefabList.length;a++)n==this.prefabList[a].name&&(s=this.prefabList[a]);s&&(i=cc.instantiate(s),o.addChild(i),i.addComponent(g.PrefabType[e]),this.PopviewAnim(i),t&&i.getComponent(g.PrefabType[e]).Init(t))},p.prototype.PopviewAnim=function(e){var t;e.getChildByName("bg")&&((t=e.getChildByName("bg")).setScale(0),e=cc.scaleTo(.2,1),t.runAction(e))},p._instance=null,d([a([cc.Prefab])],p.prototype,"prefabList",void 0),s=h=d([s],p);function p(){var e=null!==l&&l.apply(this,arguments)||this;return e.prefabList=[],e}r.default=s,cc._RF.pop()},{}],dygameManage:[function(e,t,i){"use strict";cc._RF.push(t,"4c8c5G7NoFCy5Os8LXecL7g","dygameManage");cc.Class({extends:cc.Component,properties:{},onLoad:function(){if(console.log("dygameManage === onLoad"),cc.$dygame=this,null==window.dygameManage||"undefined"==window.dygameManage?window.dygameManage=this:(window.dygameManage=null,window.dygameManage=this),this.gameName="Moto Xtreme",this.gameload_Step=0,this.cb=null,this.cberr=null,this.data=null,this.tindex=!1,this.platormVersion=1506,this.VersionCode=57,this.InterstitialAdType=0,this.timerList=[60,180,300,600],this.starttimer=0,this.timer=0,this.Nexttimer=0,this.isStopTime=!0,this.InterstitialAdindex=5,this.isInterstitialAd2=!0,this.initTime(),this.onGameOnLoad(),"undefined"!=typeof nh){if(console.log("platormVersioncode == ",nh.getSystemInfoSync().platformVersionCode),nh.getSystemInfoSync().platformVersionCode<=this.platormVersion)return;this._createRewardedVideoAd(),this._createInterstitialAd()}},start:function(){},initTime:function(){this.starttimer>=this.timerList.length&&(this.starttimer=0),this.timer=this.timerList[this.starttimer],this.Nexttimer=this.timer},StopTimefalse:function(){this.isStopTime=!1},StopTimetrue:function(){this.isStopTime=!0},_isInterstitialAd:function(e){console.log("_isInterstitialAd == ",e),this._loadInterstitialAd()},gettimeData:function(){return new Date},onGameOnLoad:function(){if(this.gameload_Step+=1,console.log(" ==== onGameOnLoad == ",cc.sys.platform,cc.sys.OPPO_GAME,this.gameload_Step),"undefined"!=typeof nh&&nh.reportEvent){var e={"gameName:":this.gameName,"timeDat:":this.gettimeData(),"gameload_Step:":this.gameload_Step};nh.reportEvent("game_on_load",e),nh.onReportEvent(function(e){0==e.code?console.log("native return->",e):console.error(e)})}else console.log(" ==== nh.reportEvent == null"),this.callReportEvent()},onGameOnvideo:function(e){if(console.log(" ==== onGameOnvideo == ",e),"undefined"!=typeof nh&&nh.reportEvent){this.gameload_Step+=1;var t={"gameName:":this.gameName,"timeDat:":this.gettimeData(),"gameload_Step:":this.gameload_Step};nh.reportEvent(e,t)}else console.log(" ==== nh.reportEvent == null"),this.callReportEventrewardedvideo(e)},callReportEventrewardedvideo:function(e){if(console.log("callReportEventvideo == ",e),window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler){this.gameload_Step+=1;var t={name:e,data:{"gameName:":this.gameName,"timeData:":this.gettimeData(),"gameload_Step:":this.gameload_Step}};console.log(" callReportEvent  ==== ",t),window.WebViewJavascriptBridge.callHandler("reportEvent",t,function(e){console.log("native return->"+e)})}else console.log(" ==== window.WebViewJavascriptBridge == null")},getplatformVersionCode:function(){return"undefined"!=typeof nh&&nh.getSystemInfoSync()?nh.getSystemInfoSync().platformVersionCode+" - "+this.platormVersion:"0 - "+this.platormVersion},getVersionCode:function(){return this.VersionCode},callReportEvent:function(){if(window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler){var e={name:"game_on_load",data:{"gameName:":this.gameName,"timeData:":this.gettimeData(),"gameload_Step:":this.gameload_Step}};console.log(" callReportEvent  ==== ",e),window.WebViewJavascriptBridge.callHandler("reportEvent",e,function(e){console.log("native return->"+e)})}else console.log(" ==== window.WebViewJavascriptBridge == null")},_createBannerAd:function(e,t){if("undefined"!=typeof nh)if(!nh.getSystemInfoSync()||nh.getSystemInfoSync().platformVersionCode<=this.platormVersion)console.log("platormVersioncode == <1400");else{this.bannerAd=null;var i=cc.director.getWinSize().width,o=cc.director.getWinSize().height;console.log("getWinSize().width == ",i),console.log("getWinSize().height == ",o),console.log("style: { } top --left ",e,t),this.bannerAd=nh.createBannerAd({style:{top:Number(e),left:Number(t),width:300,height:200}}),console.log("\u521b\u5efaBanner \u5e7f\u544a\u6210\u529f ",this.bannerAd),this.bannerAd.onLoad(function(){console.log("Banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.bannerAd.onError(function(e){console.log("Banner \u5e7f\u544a\u9519\u8bef\u76d1\u542c\uff1a",JSON.stringify(e))}),this.bannerAd.onHide(function(){console.log("Banner \u5e7f\u544a\u9690\u85cf")}),this._showBannerAd(),this.onGameOnBannerADLoad()}},_showBannerAd:function(e,t){console.log("\u8c03\u7528_showBannerAd()"),this.bannerAd?(this.bannerAd.show(),this.onGameOnBannerADShow("game_on_bannershow")):(console.log("Banner\u5e7f\u544a\u4e3a\u7a7a === ",e,t),this._createBannerAd(e,t))},_hideBannerAd:function(){console.log("\u8c03\u7528_hideBannerAd()"),this.bannerAd?this.bannerAd.hide():console.log("Banner\u5e7f\u544a\u4e3a\u7a7a")},_destroyBannerAd:function(){console.log("\u8c03\u7528_destroyBannerAd()"),this.bannerAd?(this.bannerAd.destroy(),this.bannerAd=null):console.log("Banner\u5e7f\u544a\u4e3a\u7a7a == ")},_createRewardedVideoAd:function(){var e=this;if("undefined"!=typeof nh)if(!nh.getSystemInfoSync()||nh.getSystemInfoSync().platformVersionCode<=this.platormVersion)console.log("platormVersioncode == <1400");else{var t=new Object;this.rewardedVideoAd=nh.createRewardedVideoAd(t),console.log("\u521b\u5efa\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6210\u529f "+this.rewardedVideoAd.adId),this.rewardedVideoAd.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.rewardedVideoAd.show()}),this.rewardedVideoAd.onError(function(t){console.log("\u9519\u8bef\u76d1\u542c\uff1a",JSON.stringify(t)),console.log("\u6682\u65e0\u66f4\u591a\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a"),e.StopTimetrue(),e.onGameOnvideo("game_on_rewardederror"),e.cberr&&e.cberr("error",e.data)}),this.rewardedVideoAd.onClose(function(t){e.StopTimetrue(),void 0==t?(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5b8c\u6bd5\uff0c\u53d1\u653e\u5956\u52b1  111 ",e.data),e.onGameOnvideo("game_on_rewardedsucc"),e.cb&&e.cb("complete",e.data)):t.isEnded?(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5b8c\u6bd5\uff0c\u53d1\u653e\u5956\u52b1  222",e.data),e.onGameOnvideo("game_on_rewardedsucc"),e.cb&&e.cb("complete",e.data)):(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u6ca1\u770b\u5b8c\uff0c\u4e0d\u53d1\u653e\u5956\u52b1 "),e.onGameOnvideo("game_on_rewardedclose"),e.cberr&&e.cberr("not",e.data))})}},onstartVideo:function(){console.log(" == onstartVideo == "),cc.director.pause(),cc.audioEngine.pauseMusic()},onshowVideo:function(){console.log(" == onshowVideo == "),cc.director.resume(),cc.audioEngine.resumeMusic(),this.cb&&this.cb("complete",this.data)},_loadRewardedVideoAd:function(e,t,i,o){console.log("\u8c03\u7528_loadRewardedVideoAd() == "),this&&(this.cb=t,this.cberr=i,this.data=o,this.tindex=3==e),this.rewardedVideoAd?(this.StopTimefalse(),this.onGameOnvideo("game_on_rewardedvideo"),this.rewardedVideoAd.load()):(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e3a\u7a7a 111 \u76f4\u63a5\u53d1\u5956\u52b1"),"undefined"!=typeof sdk&&"undefined"!==sdk.showBanner&&sdk.showBanner())},_showRewardedVideoAd:function(){console.log("\u8c03\u7528_showRewardedVideoAd()"),this.rewardedVideoAd?this.rewardedVideoAd.load():console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e3a\u7a7a 222 ")},_destroyRewardedVideoAd:function(){console.log("\u8c03\u7528_destroyRewardedVideoAd()"),console.log("_loadRewardedVideoAd Id ",this.rewardedVideoAd.adId),this.rewardedVideoAd?(this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null):console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u4e3a\u7a7a 333 ")},_createInterstitialAd:function(){var e=this;if("undefined"!=typeof nh)if(!nh.getSystemInfoSync()||nh.getSystemInfoSync().platformVersionCode<=this.platormVersion)console.log("platormVersioncode == <1400");else{this.interstitialAd=null;var t=new Object;this.interstitialAd=nh.createInterstitialAd(t),console.log("\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a\u6210\u529f "+this.interstitialAd.adId),this.interstitialAd.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.interstitialAd.show()}),this.interstitialAd.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u9519\u8bef\u76d1\u542c\uff1a",JSON.stringify(e)),console.log("\u6682\u65e0\u63d2\u5c4f\u5e7f\u544a")}),this.interstitialAd.onClose(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed ")}),this.isInterstitialAd2&&(this.isInterstitialAd2=!1,this._loadInterstitialAd())}},_loadInterstitialAd:function(){console.log("\u8c03\u7528_loadInterstitialAd()"),this.interstitialAd?(this.onGameOnvideo("game_on_interstitialAd"),this.interstitialAd.load()):console.log("\u63d2\u5c4f\u5e7f\u544a\u4e3a\u7a7a")},_showInterstitialAd:function(){console.log("\u8c03\u7528_showInterstitialAd()"),this.interstitialAd?this.interstitialAd.load():console.log("\u63d2\u5c4f\u5e7f\u544a\u4e3a\u7a7a")},_destroyInterstitialAd:function(){console.log("\u8c03\u7528_destroyInterstitialAd()"),this.interstitialAd?(this.interstitialAd.destroy(),this.interstitialAd=null):console.log("\u63d2\u5c4f\u5e7f\u544a\u4e3a\u7a7a")},_createNativeAd:function(){"undefined"!=typeof nh&&(!nh.getSystemInfoSync()||nh.getSystemInfoSync().platformVersionCode<=this.platormVersion?console.log("platormVersioncode == <1400"):(this.nativeAd=nh.createNativeAd({style:{top:0,left:400,width:400,height:200}}),console.log("\u521b\u5efa\u539f\u751f\u6a21\u7248\u5e7f\u544a\u6210\u529f "+this.nativeAd.adId),this.nativeAd.onLoad(function(){console.log("\u539f\u751f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u9519\u8bef\u76d1\u542c\uff1a",JSON.stringify(e))}),this.nativeAd.onHide(function(){console.log("\u539f\u751f \u5e7f\u544a\u9690\u85cf")})))},_showNativeAd:function(){console.log("\u8c03\u7528_showNativeAd()"),this.nativeAd?this.nativeAd.show():console.log("Native\u5e7f\u544a\u4e3a\u7a7a")},_hideNativeAd:function(){console.log("\u8c03\u7528_hideNativeAd()"),this.nativeAd?this.nativeAd.hide():console.log("Native\u5e7f\u544a\u4e3a\u7a7a")},_destroyNativeAd:function(){console.log("\u8c03\u7528_destroyNativeAd()"),this.nativeAd?(this.nativeAd.destroy(),this.nativeAd=null):console.log("Native\u5e7f\u544a\u4e3a\u7a7a")},ondygameHide:function(){console.log("dygame onHide"),this&&(this.bannerAd&&this._hideBannerAd(),this.nativeAd&&this._hideNativeAd())},onDestroy:function(){console.log("dygame destroy"),this&&(this.bannerAd&&this._destroyBannerAd(),this.bannerAdPop&&this._destroyBannerAdPop(),this.rewardedVideoAd&&this._destroyRewardedVideoAd(),this.nativeAd&&this._destroyNativeAd(),this.interstitialAd&&this._destroyInterstitialAd())},getDpi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1,i=cc.sys.windowPixelResolution.height;switch(1==e&&(i=cc.sys.windowPixelResolution.width),i){case 1440:t=4;break;case 1080:t=3;break;case 720:t=2;break;case 480:t=1.5;break;case 320:t=1;break;case 240:t=.75}return console.log("getDpi === ",e,i,t),t},getScreenPos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=cc.v2(cc.sys.windowPixelResolution.width/4,cc.sys.windowPixelResolution.height/2);1==e&&(t=cc.v2(cc.sys.windowPixelResolution.width/2,cc.sys.windowPixelResolution.height/2));var i=this.getDpi(e);console.log("getScreenPos 111=== ",e,t.x,t.y,i);var o=t.x/i;o=Number(o.toFixed(0));var n=t.y/i;return n=Number(n.toFixed(0)),console.log("getScreenPos 222=== ",o.toString(),n.toString()),cc.v2(o,n)},onGameOnBannerADLoad:function(){if(console.log(" ==== onGameOnBannerADLoad == ",this.gameload_Step),"undefined"!=typeof nh&&nh.reportEvent){this.gameload_Step+=1;var e={"gameName:":this.gameName,"timeDat:":this.gettimeData(),"gameload_Step:":this.gameload_Step};nh.reportEvent("game_on_bannerload",e)}else console.log(" ==== BannerADLoad nh.reportEvent == null"),this.callReportEventBannerADLoad()},callReportEventBannerADLoad:function(){if(window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler){this.gameload_Step+=1;var e={name:"game_on_bannerload",data:{"gameName:":this.gameName,"timeData:":this.gettimeData(),"gameload_Step:":this.gameload_Step}};console.log(" callReportEventBannerADLoad  ==== ",e),window.WebViewJavascriptBridge.callHandler("reportEvent",e,function(e){console.log("native return->"+e)})}else console.log(" ==== window.WebViewJavascriptBridge == null")},onGameOnBannerADShow:function(e){if(console.log(" ==== onGameOnBannerADShow == ",this.gameload_Step,e),"undefined"!=typeof nh&&nh.reportEvent){this.gameload_Step+=1;var t={"gameName:":this.gameName,"timeDat:":this.gettimeData(),"gameload_Step:":this.gameload_Step};nh.reportEvent(e,t)}else console.log(" ==== BannerADShow nh.reportEvent == null"),this.callReportEventBannerADShow(e)},callReportEventBannerADShow:function(e){if(window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler){this.gameload_Step+=1;var t={name:e,data:{"gameName:":this.gameName,"timeData:":this.gettimeData(),"gameload_Step:":this.gameload_Step}};console.log(" callReportEventBannerADShow  ==== ",t),window.WebViewJavascriptBridge.callHandler("reportEvent",t,function(e){console.log("native return->"+e)})}else console.log(" ==== window.WebViewJavascriptBridge == null")},onbannerAdPopHide:function(){console.log("dygame onbannerAdPopHide")},_createBannerAdPop:function(e,t){"undefined"!=typeof nh&&(!nh.getSystemInfoSync()||nh.getSystemInfoSync().platformVersionCode<=this.platormVersion?console.log("platormVersioncode == <1400"):(this.bannerAdPop=null,this.bannerAdPop=nh.createBannerAd({style:{top:Number(e),left:Number(t),width:300,height:200}}),console.log("\u521b\u5efaBanner Pop \u5e7f\u544a\u6210\u529f ",this.bannerAdPop),this.bannerAdPop.onLoad(function(){console.log("Banner Pop \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.bannerAdPop.onError(function(e){console.log("Banner Pop \u5e7f\u544a\u9519\u8bef\u76d1\u542c\uff1a",JSON.stringify(e))}),this.bannerAdPop.onHide(function(){console.log("Banner Pop \u5e7f\u544a\u9690\u85cf")}),this.onGameOnBannerADLoad(),this._showBannerAdPop(e,t)))},_showBannerAdPop:function(e,t){console.log("_showBannerAdPop()"),this.bannerAdPop?(this.bannerAdPop.show(),this.onGameOnBannerADShow("game_on_bannerpop")):(console.log("bannerAdPop \u5e7f\u544a\u4e3a\u7a7a === ",e,t),this._createBannerAdPop(e,t))},_hideBannerAdPop:function(){console.log("_hideBannerAdPop()"),this.bannerAdPop?this.bannerAdPop.hide():console.log("bannerAdPop \u5e7f\u544a\u4e3a\u7a7a")},_destroyBannerAdPop:function(){console.log("_destroyBannerAdPop()"),this.bannerAdPop?(this.bannerAdPop.destroy(),this.bannerAdPop=null):console.log("bannerAdPop\u5e7f\u544a\u4e3a\u7a7a == ")}});cc._RF.pop()},{}],dygameTipPanel:[function(e,t,i){"use strict";cc._RF.push(t,"35035c0GRJMQK+kcEQ35cdz","dygameTipPanel");var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e,a=t,r=i,c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),d=function(e,t,i,o){var s,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==("undefined"==typeof Reflect?"undefined":"undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;0<=c;c--)(s=e[c])&&(r=(a<3?s(r):3<a?s(t,i,r):s(t,i))||r);return 3<a&&r&&Object.defineProperty(t,i,r),r};Object.defineProperty(r,"__esModule",{value:!0});var l,h=s("dygameUIManager");s=(a=cc._decorator).ccclass,a.property,c(g,l=cc.Component),g.prototype.Init=function(e){console.log(" init TipPanel ",e),this.node.setSiblingIndex(100),this.view=h.default.seekAllSubView(this.node),this.view.getNode("label").getComponent(cc.Label).string=e||"",this.node.stopAllActions(),this.node.position=new cc.Vec3(0,150,0),this.PlayAction()},g.prototype.PlayAction=function(){var e=this,t=cc.callFunc(function(){e.node.destroy(),e.node.removeFromParent()});cc.sequence(cc.moveTo(2,cc.v2(0,250)),cc.fadeOut(2),t),cc.tween(this.node).to(2,{position:cc.v3(0,250)}).to(2,{opacity:0}).call(function(){e.node.destroy(),e.node.removeFromParent()}).start()},s=d([s],g);function g(){return null!==l&&l.apply(this,arguments)||this}r.default=s,cc._RF.pop()},{}],dygameUIManager:[function(e,t,i){"use strict";cc._RF.push(t,"325432uEpxONr9IEsOWHg2t","dygameUIManager");var o,n=i;Object.defineProperty(n,"__esModule",{value:!0}),n.UIContainer=void 0;var s=(a.prototype.getNode=function(e){return this._uiNodesMap.get(e)},a.prototype.getComponent=function(e,t){return(e=this._uiNodesMap.get(e))?e.getComponent(t):null},a);function a(e){this._uiNodesMap=e}function r(){}n.UIContainer=s,r.createSubNodeMap=function(e,t){var i=e.children;if(i)for(var o=0,n=i.length;o<n;++o){var s=i[o];t.set(s.name,s),r.createSubNodeMap(s,t)}},r.seekAllSubView=function(e){var t=new Map;return r.createSubNodeMap(e,t),new s(t)},r.count=0,o=r,n.default=o,cc._RF.pop()},{}],http:[function(e,t,i){"use strict";cc._RF.push(t,"6b65b/X5LhJhoH1vmlx8dW/","http"),t.exports={my_request:function(e,t,i){var o;return o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),new Promise(function(n,s){if(o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)try{n(JSON.parse(o.response))}catch(e){n(o.response)}else s(o.status)},"GET"===e.toUpperCase()){var a=[];for(var r in i)a.push(r+"="+i[r]);var c=a.join("&");o.open("GET",t+"?"+c,!0),o.send(null)}else"POST"===e.toUpperCase()&&(o.open("POST",t,!0),o.responseType="json",o.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.send(i))})}},cc._RF.pop()},{}],interaction:[function(e,t,i){"use strict";cc._RF.push(t,"d0fabb+POdMO6YmBknwuL1v","interaction");var o=e("http");window.ocCallJsMethod=function(e){console.log("fromOC  :"+e),Interaction.ocCallJsMethod(e)},window.Interaction=cc.Class({extends:cc.Component,properties:function(){return{}},statics:{adEnable:{open:!1,splash:!1,banner:{home:!1},reward:{gameFaile:!1,gameSuccess:!1},exportSpace:{home:!0}},deaths:2,ocCallJsMethod:function(e){"request"===e?this.getsTheServerData():-1!=e.indexOf("splash")?this.splashAdClose():-1!=e.indexOf("reward")&&this.rewardAdClose()},setScreenOrientation:function(){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","setScreenOrientation")},splashAdShow:function(e){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","splashAdShow")},splashAdClose:function(e){},rewardAdShow:function(e){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","rewardVideoAdShow")},rewardAdClose:function(e){},bannerAdShow:function(e){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","bannerAdShow")},bannerAdHide:function(){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","bannerAdHide")},exportSpaceAdShow:function(e){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","exportIconShow")},exportSpaceAdHide:function(){this.adEnable.open&&cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("ADManager","exportIconHide")},getsTheServerData:function(){var e=this;o.my_request("get","https://xcxapi-hyh.715083.com/open/data/config.json",{key:"motorbike_app_ios"}).then(function(t){console.log("requset--\x3e",t),e.adEnable=t.adEnable,e.deaths=t.info.deaths}).catch(function(e){console.log(e)})}}}),cc._RF.pop()},{http:"http"}],sdk:[function(e,t,i){"use strict";cc._RF.push(t,"96e02Sc9sxIv5DSNFdQAFNX","sdk");var o="https://xcxapi-hyh.715083.com/open/user/new/auth.json",n="wxbddc07f24880633e",s=function(e,t,i){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.request({url:e,method:t.method||"GET",data:t.data||{},header:t.header||{"content-type":"application/json"},success:function(o){console.log({url:e,req:t,callback:o}),i(o.data)}})};!function(){if(window.newTongji=function(e,t){var i={data:{appid1:n,appid2:e,place:t,qudao:window.channel,openid:window.openid}};s("https://xcxapi-hyh.715083.com/open/export.do",i,function(e){-1!=e.code?console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u6210\u529f==="):console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u5931\u8d25===")})},window.newResTongji=function(e,t,i,o){var n={data:{op:"adclick",adid:e,resid:t,appid:i,adappid:o,userkey:window.openid}};s("https://xcxadsys.715083.com/api/statsdo",n,function(e){-1!=e.code?console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u6210\u529f==="):console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u5931\u8d25===")})},window.newViewTongji=function(e){s("https://xcxadsys.715083.com/api/bgstatsdo",{method:"POST",data:{Ip:"",data:e}},function(e){-1!=e.code?console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u6210\u529f==="):console.log("\u5e7f\u544a\u70b9\u51fb\u7edf\u8ba1\u5931\u8d25===")})},cc.sys.platform==cc.sys.WECHAT_GAME){var e=(new Date).getDate();cc.sys.localStorage.getItem("nowday")!=e&&cc.sys.localStorage.setItem("channel","");var t=-1,i="default",a=wx.getLaunchOptionsSync(),r=a.query.channel,c=cc.sys.localStorage.getItem("channel");null!=c&&void 0!=c||(c=""),""==c&&void 0!=r&&(cc.sys.localStorage.setItem("channel",r),i=r),""!=c&&(i=c);var d=a.scene;d&&(t=d),window.channel=i,function(e,t,i){console.log("UserLoginAndGetOpenId"),cc.sys.platform==cc.sys.WECHAT_GAME&&(wx.checkSession({success:function(){wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]}})}}),wx.login({success:function(a){if(a.code){console.log(a);var r={data:{code:a.code,appid:n,from:e,rk:t}};s(o,r,function(e){i({authcode:e.authcode,openid:e.openid,newreg:e.newreg})})}else console.log("err: res.code is null or empty")}}))}(i,t,function(e){window.authcode=e.authcode,window.openid=e.openid,window.newreg=e.newreg})}}(),cc._RF.pop()},{}],viewCoinCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"e31ebSDhDhNR68rG2135KQI","viewCoinCtrl"),cc.Class({extends:cc.Component,properties:{},start:function(){},btn_video:function(){cc.$sdk.showReward_callback("adunit-9f038fd6f1519e28",function(){console.log("\u91d1\u5e01\u52a0\u6210\u529f"),wx.showToast({title:"\u91d1\u5e01 +40",icon:"none",duration:1500}),cc.$sdk.local.coin+=40,cc.$sdk.setLocalData("skinNum",cc.$sdk.local.coin),this.node.active=!1}.bind(this),function(){this.node.active=!1}.bind(this))},btn_cannel:function(){this.node.active=!1},onEnable:function(){cc.$sdk.onSdkExportShow(),cc.$sdk.local._coinLayer=!1;var e=cc.$context.getCenterX(-240);cc.$sdk.newShowBanner(5,e,15,480),cc.$game.showOurBanner(this.node.getChildByName("clickbanner"),-205)},onDisable:function(){if(cc.$sdk.newHideBanner(5),this.node.getChildByName("clickbanner").active=!1,window.wx&&cc.$game.viewMenu.active)if(1==cc.$sdk.config.Gameiconstart){cc.$game.dealIconPostion(1);var e=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,e,25,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-210)}else{var t=cc.$context.getCenterX(cc.$sdk.isGDT()?-240:-480);cc.$sdk.newShowBanner(0,t,75,480),cc.$game.showOurBanner(cc.$game.viewMenu.getChildByName("clickbanner"),-106)}}}),cc._RF.pop()},{}]},{},["DataMgr","dygameDefineInfo","dygameLoadPrefab","dygameManage","dygameTipPanel","dygameUIManager","EventMgr","EventType","AudioCtrl","CameraCtrl","Context","Debug","GameCtrl","SceneCtrl","http","interaction","LevelLoading","Loading","ParticleSystem","ParticleSystemCollider","ParticleSystemColliderArrow","ParticleSystemColliderBox","BodyColliderCtrl","MotorCtrl","RoleAniCtrl","RoleColliderCtrl","WheelCtrl","XxxSdk","sdk","BackgroundShader","WaterShader","AcceleratorBreakerTrigger","AcceleratorTrigger","BeamTrigger","BoxTrigger","CameraTrigger","ChainCtrl","ConveurEngineCtrl","Executor","ExplosionCtrl","FinalTrigger","FireCtrl","GearCtrl","GearMoveCtrl","GroundSpecialCtrl","HalfCircleCtrl","Lift2Ctrl","Lift2HorizontalCtrl","LiftCtrl","LiftLowerCtrl","LiftUpperCtrl","MoveCtrl","PressCtrl","PressTrigger","SaveAnimationTrigger","SensorSawActivatorTrigger","SinStickCtrl","SpecialAccelerator","Sprite4Trigger","TNTCtrl","TNTDamageTrigger","TiledBlocksTrigger","TntScopeTrigger","TntThrowCtrl","TntTrigger","TrickTrigger","Trigger","WaterTrigger","DataInputStream","AdItemCtrl","BtnKeyCtr","GifMask","ScrollViewCtrl","ViewContinueCtrl","ViewFailShareCtrl","ViewHeaderCtrl","ViewHeaderLoseCtrl","ViewLoseCtrl","ViewMenuCtrl","ViewMoreGameCtrl","ViewPauseCtrl","ViewRankCtrl","ViewSkinAdCtrl","ViewTrickCtrl","ViewVideoGameCtrl","ViewWinCtrl","ViewWinShareCtrl","viewCoinCtrl","TaoluLayer"]);